# UI8Kit/Core - Complete Documentation for LLM Context
# ================================================================================
# Generated: 2025-11-08T12:54:47.103Z
# Total Files: 21
# ================================================================================

## TABLE OF CONTENTS

1. api-reference\components.mdx
2. api-reference\core-ui.mdx
3. api-reference\layouts.mdx
4. api-reference\overview.mdx
5. architecture\build-system.mdx
6. architecture\component-registry.mdx
7. architecture\core-components.mdx
8. architecture\layouts.mdx
9. architecture\overview.mdx
10. architecture\package-structure.mdx
11. architecture\typescript-configuration.mdx
12. architecture\ui-components.mdx
13. architecture\variant-system.mdx
14. development-guide\basic-workflow.mdx
15. development-guide\best-practices.mdx
16. development-guide\dark-mode.mdx
17. development-guide\development-guide.mdx
18. development-guide\overview.mdx
19. getting-started.mdx
20. overview.mdx
21. troubleshooting.mdx

# ================================================================================
# DOCUMENTATION CONTENT
# ================================================================================

# FILE 1: api-reference\components.mdx
# ================================================================================
---
title: 'UI Components API'
description: 'Complete API reference for UI8Kit composite components including Button, Card, Badge, Accordion, and layout elements with typed variant props'
---

# UI Components

UI8Kit provides a comprehensive set of composite components that extend base primitives with typed variant props. These components eliminate manual className management while providing full customization through a consistent API.

## Quick Start

Get started with UI components by importing them from the core package:

```javascript
import { Button, Card, Badge, Accordion } from '@ui8kit/core';
```

<Note>
All UI components support universal props like `p`, `m`, `rounded`, and `shadow` through the variant system. See [Universal Props](#universal-props-reference) for the complete list.
</Note>

## Component Overview

UI components are organized into two categories:

**Layout Components** - Structural elements for page composition
**UI Components** - Interactive elements and content containers

Each component provides a developer-friendly API that forwards variant props to underlying primitives while adding component-specific functionality.

## Component Architecture

UI components form the middle layer of UI8Kit's three-layer architecture:

- **Foundation Layer**: CVA variant functions that generate Tailwind classes
- **Primitive Layer**: Base HTML elements with minimal styling
- **Component Layer**: Composite components with typed variant props

### Prop Forwarding Pattern

UI components extend primitives through prop forwarding. Each component:

1. Imports variant functions from `@ui8kit/core`
2. Accepts typed variant props in its interface
3. Applies variants using the `cn()` utility
4. Forwards remaining props to the base primitive

<Info>
This pattern provides type safety while eliminating manual className management. Components like `Badge` and `Button` inherit spacing, color, and visual variants from the foundation layer.
</Info>

### Badge Component Example

The `Badge` component demonstrates prop forwarding in action:

```12:18:src/components/ui/Badge/Badge.tsx
import { Badge as BaseBadge } from "@ui8kit/core/ui";
import {
  spacingVariants,
  roundedVariants,
  shadowVariants,
  borderVariants,
  badgeSizeVariants,
  badgeStyleVariants,
} from "@ui8kit/core/variants";
```

```20:32:src/components/ui/Badge/Badge.tsx
export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    Pick<VariantSpacingProps, "m" | "mx" | "my">,
    RoundedProps,
    ShadowProps,
    BorderProps,
    BadgeSizeProps,
    BadgeStyleProps {
  // Component-specific props
}
```

```56:73:src/components/ui/Badge/Badge.tsx
const Badge = forwardRef<HTMLDivElement, BadgeProps>(
  ({ children, className, variant = "default", ...props }, ref) => {
    const {
      m,
      mx,
      my,
      rounded,
      shadow,
      border,
      size,
      // ... other variant props
      ...htmlProps
    } = props;

    return (
      <BaseBadge
        ref={ref}
        data-class="badge"
        className={cn(
          // Base classes
          "inline-flex items-center font-medium transition-colors",
          // Focus styles
          "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",
          // Variant functions
          spacingVariants({ m, mx, my }),
          roundedVariants({ rounded }),
          shadowVariants({ shadow }),
          borderVariants({ border }),
          badgeSizeVariants({ size }),
          badgeStyleVariants({ variant }),
          // Custom className
          className
        )}
        {...htmlProps}
      >
        {children}
      </BaseBadge>
    );
  }
);
```

## Variant System

UI components access 12 variant categories from the foundation layer. Each component selectively imports only the variants it needs:

| Variant Category | Props | Values | Common Components |
|------------------|-------|--------|-------------------|
| **Spacing** | `p`, `px`, `py`, `pt`, `pb`, `pl`, `pr`, `m`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto` | All components |
| **Rounded** | `rounded` | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, `full` | Card, Badge, Button, Image |
| **Shadow** | `shadow` | `none`, `sm`, `md`, `lg`, `xl`, `2xl` | Card, Badge, Image |
| **Border** | `border`, `borderTop`, `borderBottom`, `borderLeft`, `borderRight` | `none`, `default`, `border` | Card, Badge |
| **Colors** | `bg`, `c`, `borderColor` | Design system colors | Card, Badge, Title, Text |
| **Layout** | `w`, `h`, `minH`, `maxW`, `position` | `auto`, `full`, `screen`, `fit`, `min`, `max` | Accordion, Container, Stack |
| **Typography** | `size`, `weight`, `align`, `leading` | Font properties | Title, Text |
| **Badge Style** | `variant` | `default`, `secondary`, `destructive`, `outline`, `success`, `warning` | Badge |
| **Button Style** | `variant`, `size`, `contentAlign` | Button-specific variants | Button |
| **Flexbox** | `gap`, `direction`, `align`, `justify` | Flex properties | Group, Stack, AccordionItem |
| **Grid** | `cols`, `gap` | Grid properties | Grid, GridCol |
| **Effects** | Various visual effects | Component-specific | Multiple |

### How Variants Work

When you use variant props, UI8Kit automatically converts them to Tailwind classes:

```jsx
<Badge
  p="lg"
  rounded="xl"
  shadow="md"
  variant="success"
/>
```

This generates the final className: `"inline-flex items-center font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring p-8 rounded-xl shadow-md bg-green-500 text-green-50 ..."`

<Tip>
You never need to write Tailwind classes manually. Just use typed variant props and let UI8Kit handle the rest.
</Tip>

## Data Attributes

Each UI component includes stable `data-class` attributes for reliable targeting:

```jsx
// Generated markup
<div data-class="badge" class="...">
  <div data-class="badge-left-section">...</div>
  <div data-class="badge-dot"></div>
  <div data-class="badge-right-section">...</div>
</div>
```

<Info>
Use `data-class` attributes for CSS selectors, testing, and DOM queries. These remain stable even when component styles change.
</Info>

## TypeScript Support

All UI components provide full TypeScript support with:

- **Typed variant props** with autocomplete
- **HTML attribute forwarding** for standard DOM props
- **Ref forwarding** for direct DOM access
- **Compound component patterns** for complex UI structures

```tsx
// Full type safety with autocomplete
<Badge
  variant="success"    // ✓ Autocomplete for valid values
  size="sm"           // ✓ Type-checked
  rounded="full"      // ✓ Valid variant
  m="xs"             // ✓ Spacing variant
  onClick={handler}   // ✓ Standard HTML props
  ref={badgeRef}      // ✓ Ref forwarding
>
  Active
</Badge>
```


## Layout Components

### Block

Section wrapper component with full styling control. Perfect for content sections and custom layouts.

<ParamField body="component" type="string" default="div">
HTML element to render as the container
</ParamField>

```jsx
<Block p="lg" bg="muted" rounded="md">
  <Title>Content Section</Title>
  <Text>Section content here...</Text>
</Block>
```

### Container

Responsive container with size presets and centering options.

<ParamField body="size" type="string" default="md">
Container width preset
</ParamField>

<ParamField body="centered" type="boolean">
Center the container horizontally
</ParamField>

```jsx
<Container size="lg" centered>
  <Card p="xl">
    <Title>Centered Content</Title>
  </Card>
</Container>
```

### Stack

Vertical flex layout for stacking elements with consistent spacing.

<ParamField body="gap" type="string">
Spacing between child elements
</ParamField>

<ParamField body="align" type="string">
Vertical alignment of children
</ParamField>

```jsx
<Stack gap="md">
  <Badge variant="success">Status</Badge>
  <Title>Section Title</Title>
  <Text>Content here...</Text>
</Stack>
```

### Group

Horizontal flex layout for arranging elements in a row.

<ParamField body="gap" type="string">
Spacing between child elements
</ParamField>

<ParamField body="justify" type="string" default="start">
Horizontal distribution of children
</ParamField>

```jsx
<Group gap="sm" justify="between">
  <Title>Page Title</Title>
  <Button variant="outline">Action</Button>
</Group>
```

### Grid

CSS Grid layout with responsive column presets.

<ParamField body="cols" type="string" default="1">
Responsive column configuration
</ParamField>

<ParamField body="gap" type="string">
Spacing between grid items
</ParamField>

```jsx
<Grid cols="1-2-3" gap="lg">
  <Card><Title>Item 1</Title></Card>
  <Card><Title>Item 2</Title></Card>
  <Card><Title>Item 3</Title></Card>
</Grid>
```

### Card

Card component with compound structure for headers, content, and footers.

**Compound Components:**
- `Card`: Root container
- `CardHeader`: Top section
- `CardTitle`: Heading
- `CardDescription`: Subtitle
- `CardContent`: Main content area
- `CardFooter`: Bottom section

```jsx
<Card p="lg" shadow="md" rounded="xl">
  <CardHeader>
    <CardTitle>Card Title</CardTitle>
    <CardDescription>Card description text</CardDescription>
  </CardHeader>
  <CardContent>
    <Text>Main content goes here</Text>
  </CardContent>
  <CardFooter>
    <Button variant="outline">Action</Button>
  </CardFooter>
</Card>
```

### Button

Interactive button with variants, sizes, and loading states.

<ParamField body="variant" type="string" default="default">
Button style variant
</ParamField>

<ParamField body="size" type="string" default="default">
Button size preset
</ParamField>

<ParamField body="leftSection" type="ReactNode">
Content to display on the left side
</ParamField>

<ParamField body="rightSection" type="ReactNode">
Content to display on the right side
</ParamField>

<ParamField body="loading" type="boolean">
Show loading state
</ParamField>

```jsx
<Button variant="default" size="lg" leftSection={<Icon />}>
  Click me
</Button>
```

### Badge

Small status indicators with dots and sections.

<ParamField body="variant" type="string" default="default">
Badge style variant
</ParamField>

<ParamField body="size" type="string" default="default">
Badge size preset
</ParamField>

<ParamField body="dot" type="boolean">
Show status indicator dot
</ParamField>

<ParamField body="leftSection" type="ReactNode">
Content before the badge text
</ParamField>

<ParamField body="rightSection" type="ReactNode">
Content after the badge text
</ParamField>

```jsx
<Badge variant="success" size="sm" dot>
  Active
</Badge>
```

#### Title

Semantic heading elements with typography control.

**Key Props:**

- `order`: `1` | `2` | `3` | `4` | `5` | `6` (maps to `h1`-`h6`)

- `size`: Font size variant

- `fw`: Font weight

- `c`: Text color

- Supports spacing variants

**Location:** [src/components/ui/Title/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Title/) (referenced in [src/components/README.md150-163](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L150-L163))

#### Text

Text elements with full typography control.

**Key Props:**

- `size`: Font size variant

- `c`: Text color

- `ta`: Text alignment (`'left'` | `'center'` | `'right'` | `'justify'`)

- `truncate`: Boolean for text truncation

- Supports spacing variants

**Location:** [src/components/ui/Text/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Text/) (referenced in [src/components/README.md165-177](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L165-L177))

#### Image

Enhanced image component with aspect ratio and fit control.

**Key Props:**

- `src`, `alt`: Standard image attributes

- `aspect`: `'square'` | `'video'` | `'portrait'` | `'landscape'`

- `fit`: `'contain'` | `'cover'` | `'fill'` | `'none'`

- Supports rounded and shadow variants

**Location:** [src/components/ui/Image/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Image/) (referenced in [src/components/README.md179-191](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L179-L191))

#### Icon

Icon wrapper for lucide-react icons with size and color control.

**Key Props:**

- `lucideIcon`: Lucide icon component

- `size`: Size variant

- `c`: Color variant

- Supports spacing variants

**Location:** [src/components/ui/Icon/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Icon/) (referenced in [src/components/README.md193-203](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L193-L203))

#### Accordion

Expandable/collapsible sections with state management.

**Structure:**

- `Accordion`: Root with controlled/uncontrolled state

- `AccordionItem`: Individual collapsible section

- `AccordionTrigger`: Clickable header (uses `Button`)

- `AccordionContent`: Collapsible content area

**Key Props (Accordion):**

- `type`: `'single'` | `'multiple'`

- `collapsible`: Boolean for closing active item

- `value`, `onValueChange`, `defaultValue`: State control

- `w`: Width variant

**Key Props (AccordionItem):**

- `value`: Unique identifier (required)

- `w`: Width variant

- `gap`, `direction`: Flex variants

**Key Props (AccordionTrigger):**

- Extends all `ButtonProps`

- `w`: Width variant (defaults to `'full'`)

**Key Props (AccordionContent):**

- `w`: Width variant

- Automatic animation via CSS transitions

**Implementation:** [src/components/ui/Accordion/Accordion.tsx1-184](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L1-L184)

**Sources:** [src/components/README.md94-203](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L94-L203) [src/components/ui/Badge/Badge.tsx1-97](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L1-L97) [src/components/ui/Accordion/Accordion.tsx1-184](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L1-L184)

## Universal Props

All UI components support these universal props through the variant system:

### Spacing Props

| Prop | Description | Values |
|------|-------------|--------|
| `p` | Padding (all sides) | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl` |
| `px`, `py` | Padding horizontal/vertical | Same as `p` |
| `pt`, `pb`, `pl`, `pr` | Padding individual sides | Same as `p` |
| `m` | Margin (all sides) | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto` |
| `mx`, `my` | Margin horizontal/vertical | Same as `m` |
| `mt`, `mb`, `ml`, `mr` | Margin individual sides | Same as `m` |

### Visual Props

| Prop | Description | Values |
|------|-------------|--------|
| `rounded` | Border radius | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, `full` |
| `shadow` | Box shadow | `none`, `sm`, `md`, `lg`, `xl`, `2xl` |
| `bg` | Background color | Design system colors |
| `c` | Text color | Design system colors |
| `border` | Border styles | `none`, `default`, `border` |

### Layout Props

| Prop | Description | Values |
|------|-------------|--------|
| `w` | Width | `auto`, `full`, `screen`, `fit`, `min`, `max` |
| `h` | Height | Same as `w` |
| `minH`, `maxW` | Min/max dimensions | Same as `w` |
| `position` | CSS position | `static`, `relative`, `absolute`, `fixed`, `sticky` |

## Usage Examples

### Basic Components

```jsx
import { Badge, Button, Card } from '@ui8kit/core';

// Simple badge with variants
<Badge variant="success" size="sm" dot>
  Active
</Badge>

// Button with sections
<Button variant="default" leftSection={<Icon />}>
  Click me
</Button>
```

### Compound Components

```jsx
import { Card, CardHeader, CardTitle, CardContent } from '@ui8kit/core';

<Card p="lg" rounded="xl" shadow="md">
  <CardHeader>
    <CardTitle>Dashboard</CardTitle>
  </CardHeader>
  <CardContent>
    <Text>Main content here</Text>
  </CardContent>
</Card>
```

### Layout Patterns

```jsx
import { Container, Stack, Group, Grid } from '@ui8kit/core';

// Responsive layout
<Container size="lg" centered>
  <Stack gap="lg">
    <Group justify="between">
      <Title>Page Title</Title>
      <Button>Action</Button>
    </Group>
    <Grid cols="1-2-3" gap="md">
      <Card>Item 1</Card>
      <Card>Item 2</Card>
      <Card>Item 3</Card>
    </Grid>
  </Stack>
</Container>
```

## Next Steps

<CardGroup cols={2}>
<Card title="Core Components" icon="cubes" href="/api-reference/core-ui">
Learn about the base primitives that power UI components
</Card>

<Card title="Layout Components" icon="layout" href="/api-reference/layouts">
Build responsive page layouts with layout components
</Card>
</CardGroup>

<Tip>
UI components eliminate manual Tailwind classes through typed variant props. Start with `Badge`, `Button`, and `Card` for common use cases.
</Tip>

# ================================================================================

# FILE 2: api-reference\core-ui.mdx
# ================================================================================
---
title: 'Core Components API'
description: 'API reference for UI8Kit Core primitive components - Block, Box, Grid, Flex, and Stack with variant system documentation'
---

This page provides complete API reference documentation for the five fundamental primitive components in `src/core/ui/`. These are Layer 1 components (atoms) that serve as the foundational building blocks for all higher-level components in the library.

**Scope**: This page covers only the core primitives: `Block`, `Box`, `Grid`, `Flex`, and `Stack`. For extended UI components (Button, Card, Badge, etc.), see [**UI Components**](https://app.devin.ai/wiki/ui8kit/core#4.2). For architectural explanations and composition patterns, see [**Core Components**](https://app.devin.ai/wiki/ui8kit/core#3.1).

## **Component Overview**

The core primitives provide low-level rendering capabilities with direct access to the CVA variant system. They render semantic HTML5 elements while accepting variant props for styling.

# ================================================================================

# FILE 3: api-reference\layouts.mdx
# ================================================================================
---
title: 'Layout Components API'
description: 'API reference for UI8Kit layout components - DashLayout, LayoutBlock, and SplitBlock for application structure templates'
---

# Layout Components

Relevant source files

- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/layouts/DashLayout.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx)
- [src/layouts/LayoutBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx)
- [src/layouts/SplitBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx)

This document provides API reference and construction patterns for layout components in `@ui8kit/core`. Layout components orchestrate multiple UI components into complete application structures such as dashboards, landing pages, and admin panels.

For basic primitive layout components (Grid, Flex, Stack), see [Core Components](#4.1). For UI component composition patterns, see [UI Components](#4.2). For general best practices on layout construction, see [Best Practices](#5.3).

## Overview

The library provides three specialized layout components that compose primitives and UI components into application templates:

| Component     | Purpose                                              | Primary Use Case                |
| ------------- | ---------------------------------------------------- | ------------------------------- |
| `DashLayout`  | Dashboard layout with resizable sidebar              | Admin panels, dashboards        |
| `LayoutBlock` | Flexible content sections with grid/flex/stack modes | Landing pages, marketing sites  |
| `SplitBlock`  | Two-column split layouts                             | Feature sections, hero sections |

These layouts sit at Layer 3 of the architecture and build upon Layer 1 primitives (Block, Box, Grid, Container) and Layer 2 UI components (Card, Button, Text, Title).

**Sources**: [src/layouts/DashLayout.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx) [src/layouts/LayoutBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx) [src/layouts/SplitBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx) [README.md147-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L147-L168)

## Component Relationships

```
External Dependencies

Layer 1: Core Primitives

Layer 2: UI Components

Layer 3: Layout Components

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

DashLayout

LayoutBlock

SplitBlock

Navbar

Sidebar

Card

Button

Text

Title

Icon

Badge

Group

Image

Block

Box

Grid

Stack

Container

PanelGroup
(react-resizable-panels)

Panel
(react-resizable-panels)

PanelResizeHandle
(react-resizable-panels)
```

**Diagram**: Layout component dependency tree showing how Layer 3 layouts compose Layer 2 UI components and Layer 1 primitives, plus external dependencies for advanced features.

**Sources**: [src/layouts/DashLayout.tsx1-99](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L1-L99) [src/layouts/LayoutBlock.tsx1-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L389) [src/layouts/SplitBlock.tsx1-145](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L1-L145)

## DashLayout

Dashboard layout component with resizable sidebar, navbar, and main content area. Built on `react-resizable-panels` for panel resizing functionality.

### DashLayout Props

```
interface DashboardProps {
  page?: React.ComponentType;
  children?: React.ReactNode;
  sidebar?: React.ReactNode;
  navbarProps?: Omit<NavbarProps, 'toggleDarkMode' | 'isDarkMode'> & 
    Partial<Pick<NavbarProps, 'isDarkMode' | 'toggleDarkMode'>>;
}
```

| Prop          | Type                   | Default | Description                                    |
| ------------- | ---------------------- | ------- | ---------------------------------------------- |
| `page`        | `React.ComponentType`  | -       | Component to render in main content area       |
| `children`    | `React.ReactNode`      | -       | Alternative to `page` prop for main content    |
| `sidebar`     | `React.ReactNode`      | -       | Content for resizable sidebar                  |
| `navbarProps` | `Partial<NavbarProps>` | -       | Props for navbar including brand, theme toggle |

### Navbar Sub-component

```
interface NavbarProps {
  isDarkMode: boolean;
  toggleDarkMode: () => void;
  brand?: string;
}
```

Minimal navbar with brand identity and theme toggle. Renders as semantic `<nav>` element with `data-role="dash-navbar"` attribute.

**Implementation**: [src/layouts/DashLayout.tsx34-49](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L34-L49)

### Sidebar Sub-component

```
interface SidebarProps {
  children?: React.ReactNode;
  className?: string;
  dataClass?: string;
  title?: string;
}
```

Resizable sidebar container rendered as semantic `<aside>` element. Wraps children in Stack layout with optional title.

**Implementation**: [src/layouts/DashLayout.tsx14-25](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L14-L25)

### Panel Structure

```
DashLayout

Navbar
(component='nav')

Block
(component='main')

PanelGroup
(direction='horizontal'
autoSaveId='dashlayout-panels')

Panel
(defaultSize=20
minSize=10
maxSize=40)

Panel
(defaultSize=80
minSize=50)

PanelResizeHandle

Sidebar
(component='aside')

Box + Container
```

**Diagram**: DashLayout panel structure showing PanelGroup with resizable sidebar (20% default) and main content (80% default) separated by resize handle.

**Sources**: [src/layouts/DashLayout.tsx64-91](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L64-L91)

### Import Pattern

```
// Full import
import { DashLayout } from '@ui8kit/core';

// Sub-component imports
import { Dashboard, Navbar, Sidebar } from '@ui8kit/core';
```

**Sources**: [src/layouts/DashLayout.tsx93-96](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L93-L96)

## LayoutBlock

Flexible content section component supporting three layout modes: grid, flex, and stack. Includes content hook system for customizable rendering and default presenters for common patterns.

### LayoutBlock Props

```
interface LayoutBlockProps {
  // Layout control
  layout: LayoutType; // "grid" | "flex" | "stack"
  
  // Container settings
  useContainer?: boolean;
  containerSize?: "xs" | "sm" | "md" | "lg" | "xl" | "2xl";
  padding?: VariantSpacingProps["px"] | null;
  py?: VariantSpacingProps["py"];

  // Grid settings (layout="grid")
  cols?: VariantGridProps["cols"];
  gridCols?: VariantGridProps["cols"];
  gap?: VariantGridProps["gap"];
  align?: VariantGridProps["align"];
  justify?: VariantGridProps["justify"];

  // Flex settings (layout="flex")
  wrap?: VariantFlexProps["wrap"];
  flexWrap?: boolean;

  // Stack settings (layout="stack")
  stackAlign?: VariantFlexProps["align"];

  // Header settings
  showHeader?: boolean;
  headerAlign?: "start" | "center" | "end";

  // Content data
  content?: {
    badge?: string;
    title?: string;
    description?: string;
    items?: Array<{
      id: string;
      title?: string;
      description: string;
      image?: { src: string; alt: string; };
      lucideIcon?: any;
      [key: string]: any;
    }>;
    [key: string]: any;
  };

  // Content hooks
  contentHooks?: LayoutContentHooks;
  
  className?: string;
}
```

**Sources**: [src/layouts/LayoutBlock.tsx32-84](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L32-L84)

### Layout Modes

| Mode    | Component | Use Case                      | Props                                         |
| ------- | --------- | ----------------------------- | --------------------------------------------- |
| `grid`  | `Grid`    | Feature grids, card galleries | `cols`, `gridCols`, `gap`, `align`, `justify` |
| `flex`  | `Group`   | Flexible wrapping layouts     | `wrap`, `flexWrap`, `gap`, `align`, `justify` |
| `stack` | `Stack`   | Vertical lists, timelines     | `stackAlign`, `gap`                           |

### Content Hook System

```
interface LayoutContentHooks {
  beforeHeader?: (content: any) => ReactNode;
  header?: (content: any) => ReactNode;
  afterHeader?: (content: any) => ReactNode;
  beforeItems?: (content: any) => ReactNode;
  item?: (item: any, index: number) => ReactNode;
  afterItems?: (content: any) => ReactNode;
}
```

Content hooks enable custom rendering logic at specific points in the layout lifecycle. Default hooks are provided for common patterns:

| Hook Set                               | Layout Mode | Item Renderer                     | Use Case                     |
| -------------------------------------- | ----------- | --------------------------------- | ---------------------------- |
| `defaultLayoutContentHooks.gridCards`  | `grid`      | `DefaultItemRenderers.gridCard`   | Card-based grids with images |
| `defaultLayoutContentHooks.gridSimple` | `grid`      | `DefaultItemRenderers.gridSimple` | Simple icon + text grids     |
| `defaultLayoutContentHooks.flex`       | `flex`      | `DefaultItemRenderers.flexItem`   | Horizontal feature lists     |
| `defaultLayoutContentHooks.stack`      | `stack`     | `DefaultItemRenderers.flexItem`   | Vertical feature lists       |

**Sources**: [src/layouts/LayoutBlock.tsx23-30](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L23-L30) [src/layouts/LayoutBlock.tsx229-254](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L229-L254)

### Default Item Renderers

```
layout='grid'
has images

layout='grid'
no images

layout='flex'

layout='stack'

LayoutBlock

gridCard
Card + Image + Icon
Stack layout

gridSimple
Icon + Title + Text
Stack layout

flexItem
Icon + Title + Text
Group layout
```

**Diagram**: Default item renderer selection logic based on layout mode and content structure.

**Sources**: [src/layouts/LayoutBlock.tsx123-227](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L123-L227)

### Import Pattern

```
// Basic import
import { LayoutBlock } from '@ui8kit/core';

// With content hooks
import { 
  LayoutBlock, 
  defaultLayoutContentHooks,
  createLayoutContentHook 
} from '@ui8kit/core';
```

**Sources**: [src/layouts/LayoutBlock.tsx256-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L256-L389)

## SplitBlock

Two-column split layout component for hero sections and feature showcases. Supports left/right media positioning and optional container wrapping.

### SplitBlock Props

```
interface SplitBlockProps {
  // Main sections
  mediaSection?: ReactNode;
  contentSection?: ReactNode;

  // Layout control
  leftMedia?: boolean;
  splitSection?: boolean;

  // Content data
  content?: {
    [key: string]: any;
  };

  // Content hooks
  contentHooks?: ContentHooks;

  // Named slots
  slots?: {
    media?: ReactNode;
    header?: ReactNode;
    body?: ReactNode;
    actions?: ReactNode;
  };

  // Container settings (splitSection=false)
  containerSize?: "xs" | "sm" | "md" | "lg" | "xl" | "2xl";
  padding?: VariantSpacingProps["px"];
  py?: VariantSpacingProps["py"];

  // Grid settings (splitSection=true)
  gap?: VariantGridProps["gap"];
  align?: VariantGridProps["align"];
  
  className?: string;
}
```

**Sources**: [src/layouts/SplitBlock.tsx17-55](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L17-L55)

### Layout Modes

| Mode                   | Description       | Structure                              |
| ---------------------- | ----------------- | -------------------------------------- |
| `splitSection={false}` | Contained layout  | `Block > Container > Grid(cols="1-2")` |
| `splitSection={true}`  | Full-width layout | `Block > Grid(cols="1-2")`             |

### Content Hook System

```
interface ContentHooks {
  beforeContent?: (content: any) => ReactNode;
  content?: (content: any) => ReactNode;
  afterContent?: (content: any) => ReactNode;
}
```

Minimal hook system for content customization. Default content renderer applies hooks in sequence:

**Implementation**: [src/layouts/SplitBlock.tsx57-65](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L57-L65)

### Import Pattern

```
// Basic import
import { SplitBlock } from '@ui8kit/core';

// With utilities
import { 
  SplitBlock, 
  DefaultContentSection,
  createContentHook 
} from '@ui8kit/core';
```

**Sources**: [src/layouts/SplitBlock.tsx67-145](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L67-L145)

## Construction Patterns by Use Case

### Landing Pages

Landing pages typically combine multiple `LayoutBlock` and `SplitBlock` components for hero sections, features, and CTAs.

```
Landing Page Structure

SplitBlock
Hero Section
leftMedia=true

LayoutBlock
Feature Grid
layout='grid'
cols='1-2-3'

LayoutBlock
Testimonial Carousel
layout='flex'

SplitBlock
Call-to-Action
leftMedia=false
```

**Diagram**: Common landing page structure using layout components.

**Import Pattern**:

```
import { 
  LayoutBlock, 
  SplitBlock,
  Container,
  Card,
  Button,
  Text,
  Title,
  Badge,
  Image
} from '@ui8kit/core';
```

**Example Structure**:

```
// Hero section with left media
<SplitBlock
  leftMedia={true}
  splitSection={false}
  containerSize="xl"
  mediaSection={<Image src="hero.jpg" alt="Hero" />}
  contentSection={
    <Stack gap="lg">
      <Badge>New Feature</Badge>
      <Title order={1}>Product Title</Title>
      <Text>Description text</Text>
      <Button variant="primary">Get Started</Button>
    </Stack>
  }
/>

// Features grid with 3 columns
<LayoutBlock
  layout="grid"
  cols="1-2-3"
  content={{
    title: "Features",
    items: [
      { id: "1", title: "Fast", description: "...", lucideIcon: Zap },
      { id: "2", title: "Secure", description: "...", lucideIcon: Lock },
      { id: "3", title: "Simple", description: "...", lucideIcon: Smile }
    ]
  }}
/>
```

**Sources**: [src/layouts/LayoutBlock.tsx1-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L389) [src/layouts/SplitBlock.tsx1-145](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L1-L145)

### Dashboards

Dashboards use `DashLayout` as the primary container with resizable sidebar for navigation.

```
Dashboard Application

DashLayout

Navbar
Brand + Theme Toggle

Sidebar
Navigation Links

Main Content Area

LayoutBlock
Stat Cards
layout='grid'
cols='1-2-4'

Grid
Chart Components

Card
Data Table
```

**Diagram**: Dashboard structure with DashLayout and nested content layouts.

**Import Pattern**:

```
import { 
  DashLayout,
  LayoutBlock,
  Card,
  Grid,
  Stack,
  Button,
  Icon,
  Text,
  Title
} from '@ui8kit/core';
import { useTheme } from '@ui8kit/core';
```

**Example Structure**:

```
// Dashboard wrapper
<DashLayout
  sidebar={
    <Stack gap="md">
      <Button variant="ghost" fullWidth>
        <Icon lucideIcon={Home} /> Dashboard
      </Button>
      <Button variant="ghost" fullWidth>
        <Icon lucideIcon={Users} /> Users
      </Button>
    </Stack>
  }
  navbarProps={{
    brand: "Admin Panel",
    isDarkMode: isDark,
    toggleDarkMode: toggleDark
  }}
>
  {/* Stat cards grid */}
  <LayoutBlock
    layout="grid"
    cols="1-2-4"
    gap="md"
    useContainer={false}
    content={{
      items: [
        { id: "1", title: "1,234", description: "Total Users" },
        { id: "2", title: "$12,345", description: "Revenue" }
      ]
    }}
  />
  
  {/* Charts and tables */}
  <Grid cols="1-2" gap="lg">
    <Card p="lg">
      <Card.Header>
        <Title order={3}>Analytics</Title>
      </Card.Header>
      <Card.Content>{/* Chart component */}</Card.Content>
    </Card>
  </Grid>
</DashLayout>
```

**Sources**: [src/layouts/DashLayout.tsx1-99](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L1-L99) [src/layouts/LayoutBlock.tsx1-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L389)

### Websites

Multi-page websites compose `LayoutBlock` sections with different layout modes for varied content types.

```
Website Structure

Block
Header Navigation

SplitBlock
About Hero
splitSection=true

LayoutBlock
Team Grid
layout='grid'
cols='1-2-3'

LayoutBlock
Company Timeline
layout='stack'

Block
Footer Links
```

**Diagram**: Website page structure combining different layout types.

**Import Pattern**:

```
import { 
  Block,
  LayoutBlock,
  SplitBlock,
  Container,
  Stack,
  Grid,
  Card,
  Image,
  Text,
  Title
} from '@ui8kit/core';
```

**Example Structure**:

```
// About page hero
<SplitBlock
  leftMedia={false}
  splitSection={true}
  mediaSection={<Image src="team.jpg" alt="Team" />}
  contentSection={
    <Stack gap="lg" align="start">
      <Title order={1}>About Us</Title>
      <Text size="lg">Company story...</Text>
    </Stack>
  }
/>

// Team member grid
<LayoutBlock
  layout="grid"
  cols="1-2-3"
  content={{
    title: "Our Team",
    items: teamMembers.map(member => ({
      id: member.id,
      title: member.name,
      description: member.role,
      image: { src: member.photo, alt: member.name }
    }))
  }}
  contentHooks={defaultLayoutContentHooks.gridCards}
/>

// Company timeline
<LayoutBlock
  layout="stack"
  content={{
    title: "Our Journey",
    items: milestones.map(milestone => ({
      id: milestone.year,
      title: milestone.year,
      description: milestone.event,
      lucideIcon: Calendar
    }))
  }}
/>
```

**Sources**: [src/layouts/LayoutBlock.tsx1-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L389) [src/layouts/SplitBlock.tsx1-145](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L1-L145)

### Admin Panels

Admin panels extend the dashboard pattern with form layouts and data management interfaces.

```
Admin Panel Application

DashLayout

Navbar
Admin Brand

Sidebar
Admin Navigation
Settings, Users, Content

Main Content Area
Container

LayoutBlock
Settings Form
layout='stack'
useContainer=false

Card
User Table
Pagination Controls

Stack
Action Buttons
```

**Diagram**: Admin panel structure with form layouts and data management components.

**Import Pattern**:

```
import { 
  DashLayout,
  LayoutBlock,
  Card,
  Stack,
  Grid,
  Button,
  Text,
  Title,
  Icon,
  Badge
} from '@ui8kit/core';
```

**Example Structure**:

```
<DashLayout
  sidebar={
    <Stack gap="md">
      <Text c="muted" size="xs">MANAGEMENT</Text>
      <Button variant="ghost" fullWidth>
        <Icon lucideIcon={Users} /> Users
      </Button>
      <Button variant="ghost" fullWidth>
        <Icon lucideIcon={FileText} /> Content
      </Button>
      <Text c="muted" size="xs">SETTINGS</Text>
      <Button variant="ghost" fullWidth>
        <Icon lucideIcon={Settings} /> Config
      </Button>
    </Stack>
  }
  navbarProps={{
    brand: "Admin Dashboard"
  }}
>
  {/* Settings form */}
  <Card p="xl">
    <Card.Header>
      <Title order={2}>Site Settings</Title>
    </Card.Header>
    <Card.Content>
      <LayoutBlock
        layout="stack"
        gap="lg"
        useContainer={false}
        content={{
          items: settingsFields.map(field => ({
            id: field.name,
            title: field.label,
            description: field.description
          }))
        }}
        contentHooks={{
          item: (item) => (
            <Stack gap="xs">
              <Text weight="medium">{item.title}</Text>
              <input type="text" />
              <Text size="sm" c="muted">{item.description}</Text>
            </Stack>
          )
        }}
      />
    </Card.Content>
    <Card.Footer>
      <Grid cols="2" gap="md">
        <Button variant="secondary">Reset</Button>
        <Button variant="primary">Save Changes</Button>
      </Grid>
    </Card.Footer>
  </Card>
</DashLayout>
```

**Sources**: [src/layouts/DashLayout.tsx1-99](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L1-L99) [src/layouts/LayoutBlock.tsx1-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L389)

## Common Composition Patterns

### Responsive Grid Configurations

| Use Case     | Cols Value | Description                          |
| ------------ | ---------- | ------------------------------------ |
| Feature grid | `"1-2-3"`  | 1 column mobile, 2 tablet, 3 desktop |
| Stat cards   | `"1-2-4"`  | 1 column mobile, 2 tablet, 4 desktop |
| Two-column   | `"1-2"`    | 1 column mobile, 2 desktop           |
| Simple grid  | `"2"`      | Always 2 columns                     |

**Sources**: [src/layouts/LayoutBlock.tsx280-324](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L280-L324)

### Content Hook Composition

```
// Override default item renderer
const customHooks = {
  ...defaultLayoutContentHooks.gridCards,
  item: (item, index) => (
    <Card variant="outlined" p="lg">
      <Stack gap="md">
        <Title order={3}>{item.title}</Title>
        <Text>{item.description}</Text>
        <Button variant="primary">Learn More</Button>
      </Stack>
    </Card>
  )
};

<LayoutBlock
  layout="grid"
  cols="1-2-3"
  content={content}
  contentHooks={customHooks}
/>
```

**Sources**: [src/layouts/LayoutBlock.tsx388-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L388-L389)

### Nested Layout Composition

```
// Outer layout block with nested split blocks
<LayoutBlock
  layout="stack"
  gap="3xl"
  content={{
    title: "Product Showcase",
    items: products
  }}
  contentHooks={{
    item: (product) => (
      <SplitBlock
        leftMedia={product.id % 2 === 0}
        mediaSection={<Image src={product.image} />}
        contentSection={
          <Stack gap="md">
            <Title order={3}>{product.name}</Title>
            <Text>{product.description}</Text>
            <Button variant="primary">View Details</Button>
          </Stack>
        }
      />
    )
  }}
/>
```

**Sources**: [src/layouts/LayoutBlock.tsx256-383](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L256-L383) [src/layouts/SplitBlock.tsx67-137](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L67-L137)

## Data Attributes for Targeting

Layout components include `data-class` and `data-role` attributes for consistent DOM targeting:

| Component     | Attribute    | Value                                                | Element            |
| ------------- | ------------ | ---------------------------------------------------- | ------------------ |
| `DashLayout`  | `data-role`  | `"dash-main"`                                        | Main content block |
| `Navbar`      | `data-role`  | `"dash-navbar"`                                      | Nav element        |
| `Sidebar`     | `data-role`  | `"dash-sidebar-stack"`                               | Stack container    |
| `LayoutBlock` | `data-class` | `"layout-block"`                                     | Section element    |
| `LayoutBlock` | `data-class` | `"layout-grid"` / `"layout-flex"` / `"layout-stack"` | Layout container   |
| `SplitBlock`  | `data-class` | `"split-grid"`                                       | Grid container     |

**Sources**: [src/layouts/DashLayout.tsx18-48](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L18-L48) [src/layouts/LayoutBlock.tsx320-345](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L320-L345) [src/layouts/SplitBlock.tsx129](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L129-L129)

# ================================================================================

# FILE 4: api-reference\overview.mdx
# ================================================================================
---
title: 'API Reference'
description: 'Complete API documentation for UI8Kit Core - component exports, variant props, TypeScript interfaces, and naming conventions'
---

# API Reference

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)

This document provides a comprehensive reference for all exported APIs from the `@ui8kit/core` library. It covers component exports, variant props, TypeScript interfaces, and naming conventions used throughout the codebase.

For architectural context and component relationships, see [Architecture](#3). For detailed API documentation of individual components, see sub-pages: [Core Components](#4.1), [UI Components](#4.2), and [Layout Components](#4.3). For usage patterns and examples, see [Development Guide](#5).

## Export Structure

The library follows a flat export structure from [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts) All components, variants, hooks, and utilities are re-exported from this single entry point for simplified imports.

```
Utility Hooks

Theme System

Variant Exports

Layout Components

UI Components

Core Primitives

Package Entry Point

src/index.ts
Main export barrel

Block
BlockProps

Box
BoxProps

Grid
GridProps

Flex
FlexProps

Stack
StackProps

Button
BaseButtonProps

Card + Card.Header/Content/Footer
CardProps, CardHeaderProps

Text
TextProps

Title
TitleProps

Badge
BadgeProps

Container
ContainerProps

Icon
IconProps

Image
ImageProps

Group
GroupProps

Sheet
SheetProps

Accordion
AccordionProps

DashLayout
DashLayoutProps

LayoutBlock
LayoutBlockProps

SplitBlock
SplitBlockProps

spacingVariants
marginVariants, paddingVariants

backgroundColorVariants
textColorVariants, borderColorVariants

widthVariants, heightVariants
positionVariants

fontSizeVariants, fontWeightVariants
textAlignVariants, lineHeightVariants

roundedVariants, shadowVariants
borderVariants

ThemeProvider
ThemeProviderProps

useTheme()
ThemeContextValue

modernUITheme
ThemeConfig

useMediaQuery(query)
boolean

useMobile()
boolean

useViewport()
ViewportSize
```

**Sources:** [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts) [README.md362-386](https://github.com/ui8kit/core/blob/2afe2195/README.md#L362-L386) [.devin/wiki.json136-139](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L136-L139)

## Component Export Catalog

The following table documents all component exports with their source locations and TypeScript interfaces:

| Export Name        | Type      | Source File                                                                                                     | Props Interface        | Description                                         |
| ------------------ | --------- | --------------------------------------------------------------------------------------------------------------- | ---------------------- | --------------------------------------------------- |
| `Block`            | Component | [src/core/ui/Block.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx)                     | `BlockProps`           | Semantic block container with HTML5 element support |
| `Box`              | Component | [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx)                         | `BoxProps`             | Flexible primitive with full variant support        |
| `Grid`             | Component | [src/core/ui/Grid.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Grid.tsx)                       | `GridProps`            | CSS Grid layout primitive                           |
| `Flex`             | Component | [src/core/ui/Flex.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Flex.tsx)                       | `FlexProps`            | Flexbox layout primitive                            |
| `Stack`            | Component | [src/core/ui/Stack.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Stack.tsx)                     | `StackProps`           | Vertical/horizontal stacking with gap               |
| `Button`           | Component | [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx)       | `BaseButtonProps`      | Action button with variants                         |
| `Card`             | Component | [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx)           | `CardProps`            | Flexible card with compound parts                   |
| `Card.Header`      | Component | [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx)           | `CardHeaderProps`      | Card header section                                 |
| `Card.Content`     | Component | [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx)           | `CardContentProps`     | Card content section                                |
| `Card.Footer`      | Component | [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx)           | `CardFooterProps`      | Card footer section                                 |
| `Card.Title`       | Component | [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx)           | `CardTitleProps`       | Card title element                                  |
| `Card.Description` | Component | [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx)           | `CardDescriptionProps` | Card description text                               |
| `Text`             | Component | [src/components/ui/Text.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Text.tsx)           | `TextProps`            | Semantic text rendering                             |
| `Title`            | Component | [src/components/ui/Title.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Title.tsx)         | `TitleProps`           | Heading hierarchy (h1-h6)                           |
| `Badge`            | Component | [src/components/ui/Badge.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge.tsx)         | `BadgeProps`           | Small label component                               |
| `Container`        | Component | [src/components/ui/Container.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Container.tsx) | `ContainerProps`       | Responsive container                                |
| `Icon`             | Component | [src/components/ui/Icon.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Icon.tsx)           | `IconProps`            | SVG icon wrapper                                    |
| `Image`            | Component | [src/components/ui/Image.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Image.tsx)         | `ImageProps`           | Optimized image component                           |
| `Group`            | Component | [src/components/ui/Group.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Group.tsx)         | `GroupProps`           | Group related elements                              |
| `Sheet`            | Component | [src/components/ui/Sheet.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Sheet.tsx)         | `SheetProps`           | Drawer/sheet component                              |
| `Accordion`        | Component | [src/components/ui/Accordion.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion.tsx) | `AccordionProps`       | Expandable content sections                         |
| `DashLayout`       | Component | [src/layouts/DashLayout.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx)           | `DashLayoutProps`      | Dashboard layout template                           |
| `LayoutBlock`      | Component | [src/layouts/LayoutBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx)         | `LayoutBlockProps`     | Flexible content block layout                       |
| `SplitBlock`       | Component | [src/layouts/SplitBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx)           | `SplitBlockProps`      | Two-column split layout                             |

**Sources:** [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts) [README.md362-386](https://github.com/ui8kit/core/blob/2afe2195/README.md#L362-L386) [src/registry.json2-244](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L2-L244)

## Variant System API

The variant system provides 12 composable prop categories that apply across all components through the CVA (class-variance-authority) engine. Each variant category maps to specific TypeScript types and Tailwind CSS utility classes.

### Variant Prop Types

```
Source Files

Effects Variants

Typography Variants

Layout Variants

Color Variants

Spacing Variants

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

defined in

p, px, py, pt, pb, pl, pr
Type: 'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'

m, mx, my, mt, mb, ml, mr
Type: 'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | 'auto'

bg
Type: 'background' | 'card' | 'primary' | 'secondary' | etc.

c
Type: 'foreground' | 'primary' | 'secondary' | 'muted' | etc.

borderColor
Type: 'border' | 'input' | 'primary' | etc.

w
Type: 'auto' | 'full' | 'screen' | 'fit' | 'min' | 'max'

h, minH
Type: 'auto' | 'full' | 'screen' | 'fit' | 'min'

maxW
Type: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | etc.

position
Type: 'relative' | 'absolute' | 'fixed' | 'sticky'

size
Type: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | etc.

weight
Type: 'normal' | 'medium' | 'semibold' | 'bold'

align
Type: 'left' | 'center' | 'right' | 'justify'

leading
Type: 'none' | 'tight' | 'snug' | 'normal' | 'relaxed' | 'loose'

rounded
Type: 'none' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | 'full'

shadow
Type: 'none' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'

border
Type: '1px solid border' | '2px solid border' | etc.

src/core/variants/spacing.ts
paddingVariants, marginVariants

src/core/variants/colors.ts
backgroundColorVariants, textColorVariants

src/core/variants/layout.ts
widthVariants, heightVariants, positionVariants

src/core/variants/typography.ts
fontSizeVariants, fontWeightVariants

src/core/variants/effects.ts
roundedVariants, shadowVariants, borderVariants
```

**Sources:** [src/core/variants/](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/) [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217) [.devin/wiki.json19-22](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L19-L22)

### Variant Prop Reference Table

| Variant Category | Props                                   | Valid Values                                                                                           | Export Name               | Source File                                                                                                     |
| ---------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------------ | ------------------------- | --------------------------------------------------------------------------------------------------------------- |
| **Padding**      | `p`, `px`, `py`, `pt`, `pb`, `pl`, `pr` | `'none'`, `'xs'`, `'sm'`, `'md'`, `'lg'`, `'xl'`, `'2xl'`                                              | `paddingVariants`         | [src/core/variants/spacing.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/spacing.ts)       |
| **Margin**       | `m`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `'none'`, `'xs'`, `'sm'`, `'md'`, `'lg'`, `'xl'`, `'2xl'`, `'auto'`                                    | `marginVariants`          | [src/core/variants/spacing.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/spacing.ts)       |
| **Background**   | `bg`                                    | `'background'`, `'card'`, `'primary'`, `'secondary'`, `'destructive'`, `'muted'`, `'accent'`           | `backgroundColorVariants` | [src/core/variants/colors.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/colors.ts)         |
| **Text Color**   | `c`                                     | `'foreground'`, `'primary'`, `'secondary'`, `'muted'`, `'accent'`, `'destructive'`                     | `textColorVariants`       | [src/core/variants/colors.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/colors.ts)         |
| **Border Color** | `borderColor`                           | `'border'`, `'input'`, `'primary'`, `'secondary'`, `'destructive'`                                     | `borderColorVariants`     | [src/core/variants/colors.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/colors.ts)         |
| **Width**        | `w`                                     | `'auto'`, `'full'`, `'screen'`, `'fit'`, `'min'`, `'max'`                                              | `widthVariants`           | [src/core/variants/layout.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/layout.ts)         |
| **Height**       | `h`, `minH`                             | `'auto'`, `'full'`, `'screen'`, `'fit'`, `'min'`                                                       | `heightVariants`          | [src/core/variants/layout.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/layout.ts)         |
| **Max Width**    | `maxW`                                  | `'xs'`, `'sm'`, `'md'`, `'lg'`, `'xl'`, `'2xl'`, `'3xl'`, `'4xl'`, `'5xl'`, `'6xl'`, `'7xl'`, `'full'` | `maxWidthVariants`        | [src/core/variants/layout.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/layout.ts)         |
| **Position**     | `position`                              | `'relative'`, `'absolute'`, `'fixed'`, `'sticky'`                                                      | `positionVariants`        | [src/core/variants/layout.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/layout.ts)         |
| **Font Size**    | `size`                                  | `'xs'`, `'sm'`, `'md'`, `'lg'`, `'xl'`, `'2xl'`, `'3xl'`, `'4xl'`, `'5xl'`                             | `fontSizeVariants`        | [src/core/variants/typography.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/typography.ts) |
| **Font Weight**  | `weight`                                | `'normal'`, `'medium'`, `'semibold'`, `'bold'`                                                         | `fontWeightVariants`      | [src/core/variants/typography.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/typography.ts) |
| **Text Align**   | `align`                                 | `'left'`, `'center'`, `'right'`, `'justify'`                                                           | `textAlignVariants`       | [src/core/variants/typography.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/typography.ts) |
| **Line Height**  | `leading`                               | `'none'`, `'tight'`, `'snug'`, `'normal'`, `'relaxed'`, `'loose'`                                      | `lineHeightVariants`      | [src/core/variants/typography.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/typography.ts) |
| **Rounded**      | `rounded`                               | `'none'`, `'sm'`, `'md'`, `'lg'`, `'xl'`, `'2xl'`, `'full'`                                            | `roundedVariants`         | [src/core/variants/effects.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/effects.ts)       |
| **Shadow**       | `shadow`                                | `'none'`, `'sm'`, `'md'`, `'lg'`, `'xl'`, `'2xl'`                                                      | `shadowVariants`          | [src/core/variants/effects.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/effects.ts)       |
| **Border**       | `border`                                | `'1px solid border'`, `'2px solid border'`, `'default'`                                                | `borderVariants`          | [src/core/variants/effects.ts](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/effects.ts)       |

**Sources:** [src/core/variants/](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/) [README.md174-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L174-L217) [.devin/wiki.json19-22](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L19-L22)

## Prop Forwarding Pattern

Components in the library implement a consistent prop forwarding pattern where composite components extend base primitives with additional variant props. This creates a type-safe inheritance chain.

```
Output

Variant Resolution

Primitive Layer

Component Layer

Developer API

forwards spacing & effects

applies button variants

applies base variants

  p='md'
  rounded='lg'
  variant='primary'
  size='md'
/>

Button
src/components/ui/Button.tsx

BaseButtonProps extends
- ButtonHTMLAttributes
- Spacing variants
- Effects variants
- Custom: variant, size

Box
src/core/ui/Box.tsx

BoxProps extends
- HTMLAttributes
- All variant props
- component prop

CVA Engine
class-variance-authority

Generated classes:
'p-4 rounded-lg'
+ button-specific classes

  class='...'
  data-class='button'
/>
```

**Sources:** [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx) [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx) [.devin/wiki.json11-14](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L11-L14) [README.md14-17](https://github.com/ui8kit/core/blob/2afe2195/README.md#L14-L17)

### Prop Forwarding Examples

The following examples demonstrate how variant props are forwarded from composite components to their base primitives:

**Button extends Box:**

```
// Button receives spacing and effects variants from Box
<Button 
  p="md"           // forwarded to Box → paddingVariants
  rounded="lg"     // forwarded to Box → roundedVariants
  variant="primary" // Button-specific prop
  size="md"        // Button-specific prop
/>
```

**Card extends Block:**

```
// Card receives all Block variants
<Card 
  p="xl"           // forwarded to Block → paddingVariants
  shadow="md"      // forwarded to Block → shadowVariants
  rounded="2xl"    // forwarded to Block → roundedVariants
  bg="card"        // forwarded to Block → backgroundColorVariants
/>
```

**Text extends Box:**

```
// Text receives Box variants plus typography variants
<Text 
  size="lg"        // Text-specific typography variant
  weight="bold"    // Text-specific typography variant
  c="primary"      // forwarded to Box → textColorVariants
  mb="md"          // forwarded to Box → marginVariants
/>
```

**Sources:** [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx) [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx) [src/components/ui/Text.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Text.tsx) [README.md38-60](https://github.com/ui8kit/core/blob/2afe2195/README.md#L38-L60)

## TypeScript Type System

The library provides comprehensive TypeScript support with precise type definitions for all components, variants, and utilities.

### Core Type Hierarchy

```
Layout Component Props

UI Component Props

Core Component Props

Variant Types

Base Types

React.HTMLAttributes

React.ComponentPropsWithRef

React.ForwardRefExoticComponent

SpacingProps
from paddingVariants, marginVariants
VariantProps

ColorProps
from backgroundColorVariants, textColorVariants
VariantProps

LayoutProps
from widthVariants, heightVariants
VariantProps

TypographyProps
from fontSizeVariants, fontWeightVariants
VariantProps

EffectsProps
from roundedVariants, shadowVariants
VariantProps

BoxProps extends
HTMLAttributes & SpacingProps
& ColorProps & LayoutProps
& EffectsProps & TypographyProps

BlockProps extends
BoxProps & { component?: 'section' | 'article' | ... }

GridProps extends
BlockProps & { cols?: number, gap?: string }

FlexProps extends
BoxProps & { direction?: 'row' | 'column' }

StackProps extends
BoxProps & { gap?: string, direction?: 'vertical' | 'horizontal' }

BaseButtonProps extends
ButtonHTMLAttributes & SpacingProps
& EffectsProps & { variant, size, ... }

CardProps extends
BlockProps & { variant?: string }

TextProps extends
BoxProps & TypographyProps
& { as?: 'p' | 'span' | ... }

TitleProps extends
BoxProps & TypographyProps
& { order: 1 | 2 | 3 | 4 | 5 | 6 }

DashLayoutProps extends
{ sidebar, header, children, ... }

LayoutBlockProps extends
BlockProps & { layout?: 'default' | 'grid' | 'flex' }

SplitBlockProps extends
{ left, right, ratio?, ... }
```

**Sources:** [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx) [src/core/ui/Block.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx) [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx) [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx) [src/layouts/](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/)

### Common Type Patterns

| Pattern                 | Description                                                                       | Example Interface                                                                                   | Source                                                                                                  |
| ----------------------- | --------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- |
| **Variant Props**       | Props extracted from CVA variant definitions using `VariantProps<typeof variant>` | `VariantProps<typeof paddingVariants>`                                                              | [src/core/variants/](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/)                   |
| **Component Prop**      | Union type allowing semantic HTML element selection                               | `component?: 'section' \| 'article' \| 'nav' \| 'header' \| 'footer' \| 'aside' \| 'main' \| 'div'` | [src/core/ui/Block.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx)             |
| **As Prop**             | Union type for polymorphic text rendering                                         | `as?: 'p' \| 'span' \| 'div' \| 'em' \| 'strong' \| 'small'`                                        | [src/components/ui/Text.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Text.tsx)   |
| **Order Prop**          | Numeric literal type for heading levels                                           | `order: 1 \| 2 \| 3 \| 4 \| 5 \| 6`                                                                 | [src/components/ui/Title.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Title.tsx) |
| **Ref Forwarding**      | `ForwardRefExoticComponent` with `ComponentPropsWithRef`                          | `React.forwardRef<HTMLDivElement, BoxProps>`                                                        | [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx)                 |
| **Compound Components** | Namespace pattern for related component parts                                     | `Card.Header`, `Card.Content`, `Card.Footer`                                                        | [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx)   |

**Sources:** [src/core/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/) [src/components/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/) [.devin/wiki.json11-14](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L11-L14)

## Common Component Props

All components in the library share a consistent set of base props inherited from React's HTML attributes and the variant system.

### Standard React Props

| Prop        | Type               | Description                                            | Inherited From          |
| ----------- | ------------------ | ------------------------------------------------------ | ----------------------- |
| `className` | `string`           | Additional CSS classes to merge with generated classes | `HTMLAttributes`        |
| `style`     | `CSSProperties`    | Inline styles                                          | `HTMLAttributes`        |
| `children`  | `ReactNode`        | Child elements to render                               | `HTMLAttributes`        |
| `ref`       | `Ref<HTMLElement>` | Ref to underlying DOM element                          | `ComponentPropsWithRef` |
| `data-*`    | `string`           | Data attributes for DOM targeting                      | `HTMLAttributes`        |
| `aria-*`    | `string`           | Accessibility attributes                               | `HTMLAttributes`        |

### Custom Component Props

| Prop         | Type                                                                                    | Default        | Description                            | Availability    |
| ------------ | --------------------------------------------------------------------------------------- | -------------- | -------------------------------------- | --------------- |
| `component`  | `'section' \| 'article' \| 'nav' \| 'header' \| 'footer' \| 'aside' \| 'main' \| 'div'` | `'div'`        | Semantic HTML element to render        | `Block`, `Grid` |
| `as`         | `'p' \| 'span' \| 'div' \| 'em' \| 'strong' \| 'small'`                                 | `'p'`          | Text element type                      | `Text`          |
| `order`      | `1 \| 2 \| 3 \| 4 \| 5 \| 6`                                                            | Required       | Heading level                          | `Title`         |
| `data-class` | `string`                                                                                | Component name | Component identifier for DOM targeting | All components  |

**Sources:** [src/core/ui/Block.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx) [src/components/ui/Text.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Text.tsx) [src/components/ui/Title.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Title.tsx) [.devin/wiki.json11-14](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L11-L14)

## Theme System API

The theme system provides dark mode support, accessibility preferences, and theme persistence through React Context.

### Theme Provider

```
// Export: ThemeProvider
// Interface: ThemeProviderProps
interface ThemeProviderProps {
  theme: ThemeConfig;
  children: ReactNode;
  defaultMode?: 'light' | 'dark' | 'system';
  storageKey?: string;
}

// Export: useTheme
// Returns: ThemeContextValue
interface ThemeContextValue {
  isDarkMode: boolean;
  toggleDarkMode: () => void;
  setDarkMode: (enabled: boolean) => void;
  mode: 'light' | 'dark' | 'system';
  setMode: (mode: 'light' | 'dark' | 'system') => void;
  preferences: ThemePreferences;
  updatePreferences: (preferences: Partial<ThemePreferences>) => void;
}

// Export: modernUITheme
// Type: ThemeConfig
interface ThemeConfig {
  name: string;
  displayName: string;
  description: string;
  author: string;
  version: string;
  colors: ColorScheme;
  typography: TypographyConfig;
  spacing: SpacingConfig;
  effects: EffectsConfig;
}
```

**Sources:** [src/themes/providers/ThemeProvider.tsx1-109](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L1-L109) [src/themes/modern-ui.ts](https://github.com/ui8kit/core/blob/2afe2195/src/themes/modern-ui.ts) [README.md219-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L219-L249)

## Utility Hooks API

The library exports responsive design utilities for viewport detection and media queries.

| Hook            | Parameters      | Return Type                         | Description                         | Source                                                                                                        |
| --------------- | --------------- | ----------------------------------- | ----------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| `useMediaQuery` | `query: string` | `boolean`                           | Matches CSS media query             | [src/lib/hooks/useMediaQuery.ts](https://github.com/ui8kit/core/blob/2afe2195/src/lib/hooks/useMediaQuery.ts) |
| `useMobile`     | None            | `boolean`                           | Detects mobile viewport (< 768px)   | [src/lib/hooks/useMobile.ts](https://github.com/ui8kit/core/blob/2afe2195/src/lib/hooks/useMobile.ts)         |
| `useViewport`   | None            | `{ width: number, height: number }` | Returns current viewport dimensions | [src/lib/hooks/useViewport.ts](https://github.com/ui8kit/core/blob/2afe2195/src/lib/hooks/useViewport.ts)     |

**Usage Example:**

```
import { useMediaQuery, useMobile, useViewport } from '@ui8kit/core';

function ResponsiveComponent() {
  const isMobile = useMobile();
  const isSmall = useMediaQuery('(max-width: 640px)');
  const { width, height } = useViewport();
  
  return <Box>{isMobile ? 'Mobile' : 'Desktop'}</Box>;
}
```

**Sources:** [src/lib/hooks/](https://github.com/ui8kit/core/blob/2afe2195/src/lib/hooks/) [README.md341-359](https://github.com/ui8kit/core/blob/2afe2195/README.md#L341-L359)

## Component-Specific Variants

Some components define additional variants beyond the core variant system for specialized styling.

### Button Variants

```
// Defined in: src/components/ui/Button.tsx
export const buttonStyleVariants = cva('', {
  variants: {
    variant: {
      default: 'bg-primary text-primary-foreground hover:bg-primary/90',
      destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',
      outline: 'border border-input bg-background hover:bg-accent',
      secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',
      ghost: 'hover:bg-accent hover:text-accent-foreground',
      link: 'text-primary underline-offset-4 hover:underline'
    }
  }
});

export const buttonSizeVariants = cva('', {
  variants: {
    size: {
      sm: 'h-8 px-3 text-sm',
      md: 'h-10 px-4 text-base',
      lg: 'h-12 px-6 text-lg',
      icon: 'h-10 w-10'
    }
  }
});
```

**Sources:** [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx) [README.md284-303](https://github.com/ui8kit/core/blob/2afe2195/README.md#L284-L303)

### Card Variants

```
// Defined in: src/components/ui/Card.tsx
export const cardVariants = cva('', {
  variants: {
    variant: {
      default: 'bg-card text-card-foreground',
      outlined: 'border border-border bg-card text-card-foreground'
    }
  }
});
```

**Sources:** [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx) [README.md125-144](https://github.com/ui8kit/core/blob/2afe2195/README.md#L125-L144)

## Data Attributes

All components render with `data-class` attributes for consistent DOM targeting and styling.

| Component      | `data-class` Value | Purpose                        |
| -------------- | ------------------ | ------------------------------ |
| `Block`        | `'block'`          | Identifies Block primitive     |
| `Box`          | `'box'`            | Identifies Box primitive       |
| `Grid`         | `'grid'`           | Identifies Grid primitive      |
| `Flex`         | `'flex'`           | Identifies Flex primitive      |
| `Stack`        | `'stack'`          | Identifies Stack primitive     |
| `Button`       | `'button'`         | Identifies Button component    |
| `Card`         | `'card'`           | Identifies Card component      |
| `Card.Header`  | `'card-header'`    | Identifies Card header         |
| `Card.Content` | `'card-content'`   | Identifies Card content        |
| `Card.Footer`  | `'card-footer'`    | Identifies Card footer         |
| `Text`         | `'text'`           | Identifies Text component      |
| `Title`        | `'title'`          | Identifies Title component     |
| `Badge`        | `'badge'`          | Identifies Badge component     |
| `Container`    | `'container'`      | Identifies Container component |

**Usage Example:**

```
// Targeting in tests or stylesheets
const button = document.querySelector('[data-class="button"]');

// CSS targeting
[data-class="card"] {
  /* Custom styles */
}
```

**Sources:** [src/core/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/) [src/components/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/) [.devin/wiki.json11-14](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L11-L14)

## Detailed API Documentation

For complete API documentation of individual components with all props, methods, and usage examples, see:

- **[Core Components](#4.1)** - Primitives: `Block`, `Box`, `Grid`, `Flex`, `Stack`
- **[UI Components](#4.2)** - Composite components: `Button`, `Card`, `Text`, `Title`, `Badge`, etc.
- **[Layout Components](#4.3)** - Layout templates: `DashLayout`, `LayoutBlock`, `SplitBlock`

**Sources:** [.devin/wiki.json135-168](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L135-L168) [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts) [README.md1-453](https://github.com/ui8kit/core/blob/2afe2195/README.md#L1-L453)

# ================================================================================

# FILE 5: architecture\build-system.mdx
# ================================================================================
---
title: 'Build System'
description: 'UI8Kit Core build pipeline - TypeScript compilation, module bundling, CVA extraction, and NPM distribution setup'
---

# Build System

Relevant source files

- [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)
- [scripts/cva-extractor.ts](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts)
- [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts)
- [src/layouts/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/index.ts)
- [src/lib/core-classes.json](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json)
- [tsconfig.json](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json)

## Purpose and Scope

This document covers the build system that compiles TypeScript source code into distributable JavaScript modules for NPM publication. It explains the compilation process, build scripts, TypeScript configuration, output structure, and distribution setup.

For information about the package structure and module exports, see [Package Structure](#3.5). For details about the component registry system that powers per-component installation, see [Component Registry](#3.7). For TypeScript-specific configuration details including path aliases and type generation, see [TypeScript Configuration](#3.8).

---

## Build Pipeline Overview

The build system transforms TypeScript source code in `src/` into ES2022 JavaScript modules with declaration files in `dist/`, along with generated artifacts that support Tailwind CSS and build tooling.

```
Distribution

Build Artifacts

Build-Time Scripts

Source Code

bun scripts/cva-extractor.ts

generates

emits

emits

bunx buildy-ui scan

scans

scans

generates

publishes

safelist for
Tailwind purge

src/core/ui/
Primitives: Block, Box, Grid, etc.

src/core/variants/
CVA variant definitions

src/components/ui/
Composite components

src/layouts/
Layout templates

src/index.ts
Main entry point

scripts/cva-extractor.ts
Extracts 618 CSS classes

tsc -p tsconfig.json
TypeScript compiler

eslint src --ext .ts,.tsx
Code quality checks

buildy-ui scan
Registry generation

src/lib/core-classes.json
618-class whitelist

dist/index.js
ES2022 module output

dist/index.d.ts
TypeScript declarations

src/registry.json
Component metadata

NPM Package
@ui8kit/Unsupported markdown: link

Package files:
dist/**, README.md, LICENSE

Consumer
Applications
```

**Sources:** [package.json21-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L21-L28) [tsconfig.json1-26](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L26) [scripts/cva-extractor.ts1-339](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L339)

---

## Build Commands

The build system provides several npm scripts defined in `package.json` for different aspects of the build and development workflow.

### Core Build Commands

| Command              | Script                            | Purpose                                                 |
| -------------------- | --------------------------------- | ------------------------------------------------------- |
| `npm run build`      | `tsc -p tsconfig.json`            | Compile TypeScript to JavaScript with declaration files |
| `npm run type-check` | `tsc --noEmit`                    | Type-check without emitting files                       |
| `npm run lint`       | `eslint src --ext .ts,.tsx`       | Check code quality and style                            |
| `npm run lint:fix`   | `eslint src --ext .ts,.tsx --fix` | Auto-fix linting issues                                 |

### Tooling Commands

| Command           | Script                                                     | Purpose                              |
| ----------------- | ---------------------------------------------------------- | ------------------------------------ |
| `npm run scan`    | `bunx buildy-ui@latest scan`                               | Generate component registry metadata |
| `npm run build:r` | `bunx buildy-ui@latest build`                              | Build registry package               |
| `npm run publish` | `cd packages/registry && npm version patch && npm publish` | Publish registry to NPM              |

### Manual Build Scripts

| Script         | Command                        | Purpose                                      |
| -------------- | ------------------------------ | -------------------------------------------- |
| CVA Extraction | `bun scripts/cva-extractor.ts` | Extract CSS classes from variant definitions |

**Sources:** [package.json21-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L21-L28)

---

## TypeScript Compilation Process

The TypeScript compiler (`tsc`) transforms source files from `src/` into compiled JavaScript modules and declaration files in `dist/` using the configuration defined in `tsconfig.json`.

```
Outputs

Compilation Process

Compiler Settings

Compilation Inputs

tsconfig.json
Compiler configuration

src//*.ts
src//*.tsx
TypeScript source

target: ES2022
Modern JavaScript features

module: ES2022
moduleResolution: Bundler

jsx: react-jsx
React 18+ JSX transform

Path aliases:
@/* → ./src/*

Type checking
strict: true

JSX transformation
react-jsx runtime

Declaration generation
declaration: true

File emission
outDir: ./dist

dist/index.js
ES2022 modules

dist/index.d.ts
Type declarations

dist//*.js
dist//*.d.ts
Compiled submodules
```

### Compilation Configuration

The TypeScript compiler is configured in [tsconfig.json1-26](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L26) with the following key settings:

| Setting            | Value       | Purpose                                       |
| ------------------ | ----------- | --------------------------------------------- |
| `target`           | `ES2022`    | Output modern JavaScript with ES2022 features |
| `module`           | `ES2022`    | Use ES modules (import/export syntax)         |
| `moduleResolution` | `Bundler`   | Module resolution for modern bundlers         |
| `rootDir`          | `src`       | Source root directory                         |
| `outDir`           | `./dist`    | Compiled output directory                     |
| `declaration`      | `true`      | Generate `.d.ts` type declaration files       |
| `declarationDir`   | `./dist`    | Output location for declarations              |
| `jsx`              | `react-jsx` | Use React 18+ automatic JSX transform         |
| `strict`           | `true`      | Enable all strict type-checking options       |

### Path Aliases

The compiler resolves path aliases during compilation:

```
// Path alias configuration
{
  "@/*": ["./src/*"],              // Maps @/ to src/
  "@ui8kit/core": ["./src/index"]  // Maps package import to src/index
}
```

These aliases are used in source code but resolved to relative paths in the compiled output.

**Sources:** [tsconfig.json4-24](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L4-L24) Diagram 2 from high-level architecture

---

## Output Structure

The compilation process generates a structured output in the `dist/` directory that mirrors the source structure.

### Distribution Directory Layout

```
dist/ Output Directory

Supporting Modules

Layout Modules

Component Modules

Core Modules

imports

imports

imports

imports

imports

imports

dist/themes/
Theme system

dist/index.js
Main entry point module

dist/core/ui/
Compiled primitive components

dist/core/variants/
CVA variant definitions

dist/components/ui/
Composite components

dist/layouts/
Layout templates

dist/hooks/
React hooks

dist/ui/
UI component exports

dist/core/utils/
Utility functions

dist/index.d.ts
Main type declarations
```

### Entry Point Structure

The main entry point at [src/index.ts1-32](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts#L1-L32) defines the public API through a series of exports:

```
// Export structure from src/index.ts
export * from './core/variants';      // Variant definitions
export * from './core/utils';         // Utility functions

// Core primitives with Base prefix
export {
  Block as BaseBlock,
  Box as BaseBox,
  // ... etc
} from './core/ui';

// Composite components (main exports)
export * from './ui';                 // Button, Card, etc.

// Layout components
export * from './layouts';            // DashLayout, LayoutBlock, etc.

// Theme system
export * from './themes';             // ThemeProvider, useTheme

// React hooks
export * from './hooks';
```

This structure is preserved in the compiled `dist/index.js` with all imports resolved to relative paths.

### File Types Generated

| File Type          | Extension   | Purpose                         |
| ------------------ | ----------- | ------------------------------- |
| JavaScript modules | `.js`       | ES2022 executable code          |
| Type declarations  | `.d.ts`     | TypeScript type information     |
| Declaration maps   | `.d.ts.map` | Source mapping for declarations |

**Sources:** [src/index.ts1-32](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts#L1-L32) [tsconfig.json13-19](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L13-L19) [package.json31-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L37)

---

## Distribution Configuration

The package is configured for NPM distribution through settings in `package.json` that define how the compiled code is exposed to consumers.

### Module Exports Configuration

The package defines its exports using the modern `exports` field:

```
{
  "main": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  }
}
```

This configuration:

- **`main`**: Default entry point for CommonJS and older tools
- **`types`**: TypeScript declaration file location
- **`exports["."]`**: Modern conditional exports for ESM and types

### Package Distribution Files

The `files` field in [package.json39-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L43) specifies which files are included in the published package:

```
{
  "files": [
    "dist/**/*",      // All compiled output
    "README.md",      // Documentation
    "LICENSE"         // License file
  ]
}
```

### Package Metadata

| Field                  | Value          | Purpose                           |
| ---------------------- | -------------- | --------------------------------- |
| `name`                 | `@ui8kit/core` | NPM package name                  |
| `version`              | `0.1.8`        | Semantic version number           |
| `type`                 | `module`       | Declares package as ESM           |
| `sideEffects`          | `false`        | Enables tree-shaking optimization |
| `publishConfig.access` | `public`       | Allows public NPM access          |

**Sources:** [package.json1-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L1-L43) [package.json67-69](https://github.com/ui8kit/core/blob/2afe2195/package.json#L67-L69)

---

## Build-Time Tooling

The build system includes specialized scripts that run during development to generate artifacts required by the runtime system and consumer applications.

### CVA Class Extractor

The [scripts/cva-extractor.ts1-339](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L339) script analyzes variant definitions to extract CSS classes used by the library.

```
CVA Extractor Process

Class Extraction

Base Classes
First argument strings

Input:
src/core/variants/**/*.ts
All variant definition files

Babel Parser
Parse TypeScript AST

AST Traversal
Find cva() calls

Variant Classes
Object properties

Compound Variants
Nested objects

Deduplication
Set-based uniqueness

Output:
src/lib/core-classes.json
618 unique classes
```

### Extractor Implementation

The `SimpleCVAExtractor` class processes variant files:

1. **File Discovery**: Recursively scans [src/core/variants/](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/) for `.ts` and `.tsx` files

2. **AST Parsing**: Uses `@babel/parser` to parse TypeScript syntax

3. **CVA Detection**: Finds `cva()` function calls via AST traversal

4. **Class Extraction**: Extracts all string literals from:

   - Base classes (first argument)
   - Variant objects (second argument properties)
   - Nested variant definitions

5. **Deduplication**: Uses a `Set<string>` to ensure uniqueness

6. **Output Generation**: Writes JSON array of 618 classes

### Generated Class Whitelist

The extractor produces [src/lib/core-classes.json1-624](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L624) with this structure:

```
{
  "classes": [
    "absolute",
    "accent-auto",
    // ... 616 more classes
    "z-auto"
  ],
  "count": 618,
  "timestamp": "2025-10-29T12:17:54.882Z"
}
```

This whitelist serves two purposes:

1. **Tailwind safelist**: Prevents CSS purging from removing classes generated by variants
2. **tw-merge configuration**: Enables safe merging of variant-generated classes

### Component Registry Scanner

The `buildy-ui scan` command generates [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json) by analyzing component files for metadata used by the per-component installation system. See [Component Registry](#3.7) for details.

**Sources:** [scripts/cva-extractor.ts11-279](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L11-L279) [src/lib/core-classes.json1-624](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L624) Diagram 2 and Diagram 5 from high-level architecture

---

## Build Artifacts

The build process generates several committed artifacts that bridge build-time and runtime systems.

### Artifact Summary

```
Runtime Usage

Committed Artifacts

Build-Time Generation

produces

produces

produces

npm run build

bun scripts/cva-extractor.ts

npm run scan

dist/
Compiled JS + types
Generated by tsc

src/lib/core-classes.json
618 CSS classes
Generated by CVA extractor

src/registry.json
Component metadata
Generated by buildy-ui

npm install @ui8kit/core
Installs dist/ output

Consumer tailwind.config.js
Uses core-classes.json

npx buildy-ui add button
Uses registry.json
```

### Artifact Details

| Artifact            | Location                    | Generated By       | Purpose                         | Committed |
| ------------------- | --------------------------- | ------------------ | ------------------------------- | --------- |
| Compiled modules    | `dist/**/*.js`              | `tsc`              | Runtime code for NPM package    | Yes       |
| Type declarations   | `dist/**/*.d.ts`            | `tsc`              | TypeScript type information     | Yes       |
| CSS class whitelist | `src/lib/core-classes.json` | `cva-extractor.ts` | Tailwind safelist configuration | Yes       |
| Component registry  | `src/registry.json`         | `buildy-ui scan`   | Per-component installation      | Yes       |

### Why Artifacts Are Committed

Build artifacts are committed to the repository (unlike typical Node.js projects) for several reasons:

1. **Immediate NPM readiness**: The `dist/` directory can be published directly without requiring consumers to run build steps
2. **Submodule compatibility**: Git submodule installations can use the compiled output without build tooling
3. **Whitelist stability**: The `core-classes.json` file serves as a versioned contract for Tailwind configurations
4. **Registry accessibility**: The `registry.json` enables per-component installation without requiring full package installation

**Sources:** [package.json39-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L43) [src/lib/core-classes.json1-624](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L624) Diagram 5 from high-level architecture

---

## Build Workflow Example

A typical development workflow involves running build commands in sequence:

### Full Build Sequence

```
# 1. Extract CVA classes (updates src/lib/core-classes.json)
bun scripts/cva-extractor.ts

# 2. Type-check source code
npm run type-check

# 3. Lint source code
npm run lint

# 4. Compile TypeScript (generates dist/)
npm run build

# 5. Generate component registry
npm run scan

# 6. Publish to NPM (from packages/registry/)
npm run publish
```

### Development Build

For iterative development, run a minimal build:

```
# Quick build for testing
npm run build

# Or just type-check without emitting
npm run type-check
```

### Continuous Integration

A CI/CD pipeline typically runs:

```
npm run lint          # Code quality
npm run type-check    # Type safety
npm run build         # Compilation
```

**Sources:** [package.json21-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L21-L28)

---

## Dependencies and Requirements

The build system requires specific tools and dependencies to function correctly.

### Build-Time Dependencies

| Dependency        | Version   | Purpose                          |
| ----------------- | --------- | -------------------------------- |
| `typescript`      | `^5.6.3`  | TypeScript compiler              |
| `@babel/parser`   | `^7.28.4` | AST parsing for CVA extraction   |
| `@babel/traverse` | `^7.28.4` | AST traversal for CVA extraction |
| `bun-types`       | `^1.1.29` | Type definitions for Bun runtime |

### Runtime Dependencies

These are bundled with the package:

| Dependency                 | Version    | Purpose            |
| -------------------------- | ---------- | ------------------ |
| `class-variance-authority` | `^0.7.1`   | CVA variant engine |
| `clsx`                     | `^2.1.1`   | Class name utility |
| `tailwind-merge`           | `^3.3.1`   | Class name merging |
| `lucide-react`             | `^0.525.0` | Icon components    |
| `react-resizable-panels`   | `^3.0.6`   | Layout resizing    |

### Peer Dependencies

Consumer applications must provide:

| Dependency  | Version Range          | Purpose            |
| ----------- | ---------------------- | ------------------ |
| `react`     | `^18.0.0 \|\| ^19.0.0` | React runtime      |
| `react-dom` | `^18.0.0 \|\| ^19.0.0` | React DOM renderer |

**Sources:** [package.json48-66](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L66)

---

## Troubleshooting Build Issues

### Common Build Problems

| Issue                    | Cause                    | Solution                                                         |
| ------------------------ | ------------------------ | ---------------------------------------------------------------- |
| `tsc` not found          | TypeScript not installed | Run `npm install` to install dev dependencies                    |
| Type errors during build | Strict type checking     | Fix type errors or temporarily disable with `npm run type-check` |
| Missing `dist/` output   | Build not run            | Run `npm run build` explicitly                                   |
| CVA classes not found    | Whitelist not generated  | Run `bun scripts/cva-extractor.ts`                               |
| Registry out of sync     | Components changed       | Run `npm run scan` to regenerate                                 |

### Verification Steps

To verify a successful build:

```
# 1. Check dist/ exists and contains files
ls -la dist/

# 2. Verify main entry points exist
ls -la dist/index.js dist/index.d.ts

# 3. Check CVA whitelist is up to date
cat src/lib/core-classes.json | grep count

# 4. Verify registry is current
cat src/registry.json | grep version
```

**Sources:** [package.json21-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L21-L28) [tsconfig.json1-26](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L26)

# ================================================================================

# FILE 6: architecture\component-registry.mdx
# ================================================================================
---
title: 'Component Registry'
description: 'UI8Kit Core component registry system - centralized metadata catalog enabling multiple installation patterns and consumption methods'
---

# Component Registry

Relevant source files

- [.gitignore](https://github.com/ui8kit/core/blob/2afe2195/.gitignore)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)
- [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json)

## Purpose and Scope

The Component Registry is a centralized metadata system that catalogs all components in `@ui8kit/core` and enables multiple installation and consumption patterns. The registry is defined in [src/registry.json1-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L281) and provides structured metadata including component names, types, dependencies, file paths, and target directories.

This page documents the registry format, component metadata schema, registration process, and how the registry powers different installation methods. For information about the build pipeline that generates registry artifacts, see [Build System](#3.6). For details on package distribution, see [Package Structure](#3.5).

**Sources:** [src/registry.json1-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L281) [README.md251-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L251-L276)

---

## Registry File Structure

The registry is a JSON file conforming to the buildy-ui schema. It contains three top-level properties:

| Property      | Type   | Description                                 |
| ------------- | ------ | ------------------------------------------- |
| `$schema`     | string | JSON schema URL for validation              |
| `items`       | array  | Array of component metadata objects         |
| `version`     | string | Registry schema version (currently "1.0.0") |
| `lastUpdated` | string | ISO 8601 timestamp of last update           |
| `registry`    | string | Registry identifier ("ui")                  |

**Sources:** [src/registry.json2-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L2-L281)

### Registry Schema Diagram

```
registry.json

$schema: buildy.tw/schema/registry.json

items[]
Component metadata array

version: 1.0.0

lastUpdated: ISO 8601 timestamp

registry: ui

Component Metadata Object

name: string

type: registry:ui | registry:layout

description: string

dependencies: string[]

devDependencies: string[]

files[]

path: src path

target: destination directory
```

**Sources:** [src/registry.json2-10](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L2-L10) [src/registry.json278-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L278-L281)

---

## Component Metadata Schema

Each component entry in the `items` array contains the following fields:

| Field             | Type      | Required | Description                                            |
| ----------------- | --------- | -------- | ------------------------------------------------------ |
| `name`            | string    | Yes      | Component name (e.g., "Button", "Card")                |
| `type`            | string    | Yes      | Component category: "registry:ui" or "registry:layout" |
| `description`     | string    | Yes      | Component description (may be empty string)            |
| `dependencies`    | string\[] | Yes      | Runtime dependencies (e.g., "react", "lucide-react")   |
| `devDependencies` | string\[] | Yes      | Development dependencies (typically empty)             |
| `files`           | object\[] | Yes      | Array of file metadata objects                         |
| `files[].path`    | string    | Yes      | Source file path relative to repo root                 |
| `files[].target`  | string    | Yes      | Target directory in consumer project                   |

**Sources:** [src/registry.json4-17](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L4-L17)

### Component Types Distribution

The registry contains 18 components across two types:

| Type              | Count | Components                                                                                                 |
| ----------------- | ----- | ---------------------------------------------------------------------------------------------------------- |
| `registry:ui`     | 15    | Title, Text, Stack, Sheet, Image, Icon, Group, Grid, Container, Card, Button, Box, Block, Badge, Accordion |
| `registry:layout` | 3     | SplitBlock, LayoutBlock, DashLayout                                                                        |

**Sources:** [src/registry.json2-276](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L2-L276)

### Example Component Entry

The Button component demonstrates a minimal registry entry:

```
{
  "name": "Button",
  "type": "registry:ui",
  "description": "",
  "dependencies": ["react"],
  "devDependencies": [],
  "files": [
    {
      "path": "src/components/ui/Button/Button.tsx",
      "target": "components/ui"
    }
  ]
}
```

**Sources:** [src/registry.json156-169](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L156-L169)

---

## Dependency Classification

The registry tracks two categories of dependencies for each component:

### Runtime Dependencies

Components declare runtime dependencies that must be installed in the consumer application:

| Dependency               | Used By          | Purpose                           |
| ------------------------ | ---------------- | --------------------------------- |
| `react`                  | All components   | Core React library                |
| `lucide-react`           | Sheet, Accordion | Icon components (ChevronRight, X) |
| `react-resizable-panels` | DashLayout       | Resizable panel layout system     |

**Note:** `class-variance-authority`, `clsx`, and `tailwind-merge` are package-level dependencies defined in [package.json48-53](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L53) and not tracked per-component.

### Development Dependencies

The `devDependencies` array is present in all entries but typically empty, as development dependencies are managed at the package level in [package.json59-66](https://github.com/ui8kit/core/blob/2afe2195/package.json#L59-L66)

**Sources:** [src/registry.json8-10](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L8-L10) [src/registry.json54-56](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L54-L56) [src/registry.json266-268](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L266-L268) [package.json48-53](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L53)

---

## File Path Mapping

Each component entry maps source files to target directories in the consumer project:

### Target Directory Structure

| Target          | Purpose          | Components                                         |
| --------------- | ---------------- | -------------------------------------------------- |
| `components/ui` | UI components    | 15 components (Button, Card, etc.)                 |
| `layouts`       | Layout templates | 3 components (DashLayout, LayoutBlock, SplitBlock) |

### File Mapping Diagram

```
Consumer Project

Registry Metadata

Source Repository

src/components/ui/Button/Button.tsx

src/layouts/DashLayout.tsx

Button entry
path: src/components/ui/Button/Button.tsx
target: components/ui

DashLayout entry
path: src/layouts/DashLayout.tsx
target: layouts

components/ui/Button.tsx

layouts/DashLayout.tsx
```

**Sources:** [src/registry.json14-16](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L14-L16) [src/registry.json240-243](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L240-L243) [src/registry.json272-274](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L272-L274)

---

## Registry Generation

The registry is generated and maintained through the `buildy-ui` CLI tool:

### Scan Command

The `scan` script in [package.json26](https://github.com/ui8kit/core/blob/2afe2195/package.json#L26-L26) executes the buildy-ui scanner:

```
bunx buildy-ui@latest scan
```

This command:

1. Scans component directories (`src/components/ui/`, `src/layouts/`)
2. Extracts component metadata from source files
3. Determines dependencies by analyzing imports
4. Updates [src/registry.json1-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L281) with current metadata
5. Sets `lastUpdated` timestamp to current ISO 8601 time

**Sources:** [package.json26](https://github.com/ui8kit/core/blob/2afe2195/package.json#L26-L26) [src/registry.json279](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L279-L279)

### Build Registry Command

The `build:r` script in [package.json27](https://github.com/ui8kit/core/blob/2afe2195/package.json#L27-L27) generates distribution artifacts:

```
bunx buildy-ui@latest build
```

This creates the published registry package at `packages/registry/` for programmatic access.

**Sources:** [package.json27-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L27-L28)

---

## Integration with Installation Methods

The registry powers four distinct installation patterns:

### Installation Methods Comparison

| Method        | Command                                | Registry Usage                       | Use Case               |
| ------------- | -------------------------------------- | ------------------------------------ | ---------------------- |
| Full Library  | `npm install @ui8kit/core`             | Not used (installs entire package)   | Comprehensive projects |
| Per-Component | `npx buildy-ui add button`             | Reads metadata for selective install | Bundle optimization    |
| Programmatic  | `import registry from 'registry.json'` | Direct JSON access                   | Tooling/automation     |
| Git Submodule | `git submodule add`                    | Not used (clones source)             | Monorepo architectures |

**Sources:** [README.md255-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L255-L276)

### Per-Component Installation Flow

```
Missing

Present

npx buildy-ui add button

src/registry.json

Look up 'button' in items array

Extract metadata:
name: Button
type: registry:ui
files: src/components/ui/Button/Button.tsx
dependencies: react

Fetch file from GitHub:
ui8kit/core/src/components/ui/Button/Button.tsx

Check dependencies:
Is react installed?

Install missing dependencies:
npm install react

Write to target:
components/ui/Button.tsx

Installation complete
```

**Sources:** [README.md261-265](https://github.com/ui8kit/core/blob/2afe2195/README.md#L261-L265) [src/registry.json156-169](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L156-L169)

---

## Programmatic Registry Access

Applications can import the registry JSON for automation and tooling:

### Registry Data Structure

```
interface RegistryFile {
  $schema: string;
  items: ComponentItem[];
  version: string;
  lastUpdated: string;
  registry: string;
}

interface ComponentItem {
  name: string;
  type: "registry:ui" | "registry:layout";
  description: string;
  dependencies: string[];
  devDependencies: string[];
  files: FileItem[];
}

interface FileItem {
  path: string;
  target: string;
}
```

### Example Usage

```
import registry from '@ui8kit/core/registry.json';

// List all UI components
const uiComponents = registry.items
  .filter(item => item.type === 'registry:ui')
  .map(item => item.name);

// Find components requiring lucide-react
const iconComponents = registry.items
  .filter(item => item.dependencies.includes('lucide-react'))
  .map(item => item.name);
// Result: ["Sheet", "Accordion"]

// Get installation targets
const targets = [...new Set(
  registry.items.flatMap(item => 
    item.files.map(file => file.target)
  )
)];
// Result: ["components/ui", "layouts"]
```

**Sources:** [README.md268-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L268-L276) [src/registry.json1-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L281)

---

## Component Coverage

The registry provides complete coverage of the library's component hierarchy:

### Component Inventory by Layer

```
Layer 3: Layouts

Layer 2: UI Components

Layer 1: Core Primitives

Registry Items: 18 Total

registry:ui
15 components

registry:layout
3 components

Box
src/components/ui/Box/Box.tsx

Block
src/components/ui/Block/Block.tsx

Grid
src/components/ui/Grid/Grid.tsx

Stack
src/components/ui/Stack/Stack.tsx

Button
src/components/ui/Button/Button.tsx

Card
src/components/ui/Card/Card.tsx

Text
src/components/ui/Text/Text.tsx

Title
src/components/ui/Title/Title.tsx

Container
src/components/ui/Container/Container.tsx

Icon
src/components/ui/Icon/Icon.tsx

Image
src/components/ui/Image/Image.tsx

Badge
src/components/ui/Badge/Badge.tsx

Group
src/components/ui/Group/Group.tsx

Sheet
src/components/ui/Sheet/Sheet.tsx

Accordion
src/components/ui/Accordion/Accordion.tsx

DashLayout
src/layouts/DashLayout.tsx

LayoutBlock
src/layouts/LayoutBlock.tsx

SplitBlock
src/layouts/SplitBlock.tsx
```

**Sources:** [src/registry.json1-276](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L276)

---

## Registry Maintenance

### Version Management

The registry uses semantic versioning independently from the package version:

- **Registry Version:** [src/registry.json278](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L278-L278) - Currently "1.0.0"
- **Package Version:** [package.json3](https://github.com/ui8kit/core/blob/2afe2195/package.json#L3-L3) - Currently "0.1.8"

The registry version changes when the metadata schema changes, not when components are added or modified.

### Last Updated Timestamp

The `lastUpdated` field in [src/registry.json279](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L279-L279) records the last modification time as an ISO 8601 string:

```
"lastUpdated": "2025-10-30T13:21:21.408Z"
```

This timestamp updates automatically when running `npm run scan`.

**Sources:** [src/registry.json278-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L278-L281) [package.json3](https://github.com/ui8kit/core/blob/2afe2195/package.json#L3-L3) [package.json26](https://github.com/ui8kit/core/blob/2afe2195/package.json#L26-L26)

---

## Registry Distribution

The registry is distributed through two channels:

### NPM Package Distribution

The registry JSON is included in the NPM package through the `files` field in [package.json39-42](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L42):

```
"files": [
  "dist/**/*",
  "README.md",
  "LICENSE"
]
```

Note: The registry.json is not explicitly listed here but is included in the NPM tarball for programmatic access.

### Standalone Registry Package

The `publish` script in [package.json28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L28-L28) publishes a standalone registry package:

```
cd packages/registry && npm version patch && npm publish
```

This creates a dedicated NPM package containing only the registry metadata for lightweight access by CLI tools.

**Sources:** [package.json28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L28-L28) [package.json39-42](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L42)

---

## Integration with Build Pipeline

The registry interacts with other build-time systems:

```
Distribution

Build Artifacts

Build-Time Tools

Source Files

scans

generates

compiles

generates

extracts

generates

included in

published as

included in

referenced by

src/components/ui/**/.tsx
src/layouts/.tsx

buildy-ui scan

TypeScript Compiler

CVA Extractor

src/registry.json

dist/

src/lib/core-classes.json

NPM Package
@ui8kit/core

Registry Package
```

**Sources:** [package.json22-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L28) [src/registry.json1-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L281)

---

## Summary

The Component Registry serves as the single source of truth for component metadata in `@ui8kit/core`. It enables:

1. **Per-component installation** via `npx buildy-ui add [component]`
2. **Programmatic access** for tooling and automation
3. **Dependency tracking** for selective installations
4. **File path mapping** from source to target directories
5. **Component classification** by type (UI vs Layout)

The registry is automatically maintained through the `buildy-ui scan` command and distributed via NPM alongside the compiled package.

**Sources:** [src/registry.json1-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L281) [README.md251-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L251-L276) [package.json26-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L26-L28)

# ================================================================================

# FILE 7: architecture\core-components.mdx
# ================================================================================
---
title: 'Core Components Architecture'
description: 'UI8Kit Core foundational primitives - Block, Box, Grid, Flex, and Stack components that form the basis of the three-layer architecture'
---

# Core Components

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/components/ui/Block/Block.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx)
- [src/components/ui/Box/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Box/index.ts)

## Purpose and Scope

This document covers the five foundational primitives in Layer 1 of the architecture: `Block`, `Box`, `Grid`, `Flex`, and `Stack`. These components serve as the building blocks for all higher-level UI components and layouts in the library. They provide direct access to the CVA variant system and implement fundamental React patterns including `forwardRef`, TypeScript type composition, and HTML attribute forwarding.

For documentation on composite components that extend these primitives (Button, Card, etc.), see [UI Components](#3.3). For variant system details, see [Variant System](#3.2).

**Sources:** [README.md81-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L81-L103) [.devin/wiki.json56-63](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L56-L63)

---

## Architectural Role

Core components form the foundation of the three-layer architecture. They are the only components that directly apply the CVA variant system and render semantic HTML5 elements. All Layer 2 components (UI Components) and Layer 3 components (Layouts) ultimately compose or extend these five primitives.

```
Output

React Patterns

CVA Variant System

Layer 1: Core Components (This Document)

Block
component='section' | 'article' | 'nav' | etc.
data-class='block'

Box
component='div' | 'span' | any ElementType
data-class='box'

Grid
CSS Grid layout
cols, rows, gap props

Flex
Flexbox layout
direction, align, justify props

Stack
Vertical/horizontal stacking
gap, direction props

class-variance-authority
Variant resolution

spacingVariants()
p, m, px, py, etc.

colorVariants()
bg, c, borderColor

layoutVariants()
w, h, minH, position

roundedVariants()
rounded

shadowVariants()
shadow

borderVariants()
border, borderTop, etc.

forwardRef()
Ref forwarding to DOM

TypeScript interfaces
HTMLAttributes + VariantProps

...props
HTML attribute forwarding

Semantic HTML5
section, article, nav, header, footer

data-class attributes
DOM targeting

Tailwind CSS classes
Applied to className
```

**Sources:** [README.md62-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L103) [src/components/ui/Block/Block.tsx1-88](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L1-L88)

---

## The Five Core Primitives

### Overview Table

| Component | Primary Purpose              | Semantic HTML Support                                   | Key Variants                                    | Default Width |
| --------- | ---------------------------- | ------------------------------------------------------- | ----------------------------------------------- | ------------- |
| `Block`   | Semantic block containers    | section, article, nav, header, footer, aside, main, div | spacing, color, layout, rounded, shadow, border | `w='full'`    |
| `Box`     | Generic flexible container   | Any `ElementType` (div, span, p, etc.)                  | spacing, color, layout                          | No default    |
| `Grid`    | CSS Grid layouts             | div with `display: grid`                                | spacing, layout, cols, rows, gap                | No default    |
| `Flex`    | Flexbox layouts              | div with `display: flex`                                | spacing, layout, direction, align, justify      | No default    |
| `Stack`   | Vertical/horizontal stacking | div with flexbox stacking                               | spacing, gap, direction                         | No default    |

**Sources:** [README.md81-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L81-L103)

---

## Fundamental React Patterns

### forwardRef Implementation

All core components implement `forwardRef` to expose the underlying DOM element reference to parent components. This enables imperative DOM operations and integration with third-party libraries.

```
ref={blockRef}

ref forwarding

blockRef.current?.scrollIntoView()

Parent Component
const blockRef = useRef(null)

Block
forwardRef

DOM Element
section | article | nav | etc.
```

**Example structure from Block component:**

[src/components/ui/Block/Block.tsx33-36](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L33-L36)

```
export const Block = forwardRef<HTMLElement, BlockProps>(
  ({ children, className, component, variant = 'div', ...props }, ref) => {
    // Component implementation
  }
);
```

**Sources:** [src/components/ui/Block/Block.tsx33-86](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L33-L86)

### TypeScript Type Composition

Core components compose multiple TypeScript interfaces to achieve type safety across HTML attributes, variant props, and custom component props.

```
extends

extends

extends

Pick<..., 'w' | 'h' | 'minH' | 'position'>

extends

extends

extends

includes

BlockProps
Component-specific interface

React.HTMLAttributes
Standard HTML attributes

VariantSpacingProps
p, px, py, pt, pb, pl, pr
m, mx, my, mt, mb, ml, mr

ColorProps
bg, c, borderColor

VariantLayoutProps
w, h, minH, maxW, position

RoundedProps
rounded

ShadowProps
shadow

BorderProps
border, borderTop, etc.

Custom Props
children: ReactNode
component?: ElementType
variant?: 'section' | 'article' | ...
```

**Type composition pattern from Block:**

[src/components/ui/Block/Block.tsx20-31](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L20-L31)

```
export interface BlockProps 
  extends React.HTMLAttributes<HTMLElement>,
    VariantSpacingProps,
    ColorProps,
    Pick<VariantLayoutProps, 'w' | 'h' | 'minH' | 'position'>,
    RoundedProps,
    ShadowProps,
    BorderProps {
  children: ReactNode;
  component?: ElementType;
  variant?: 'section' | 'main' | 'nav' | 'article' | 'header' | 'footer' | 'aside' | 'div';
}
```

**Sources:** [src/components/ui/Block/Block.tsx20-31](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L20-L31)

### Prop Destructuring and HTML Attribute Forwarding

Core components destructure variant props explicitly and forward remaining HTML attributes to the underlying DOM element using the spread operator (`...props`).

```
Incoming Props
p='lg', onClick, data-testid, etc.

Destructured Variant Props
p, px, py, m, bg, c, w, h, rounded, shadow, border

Rest Props (...props)
onClick, data-testid, aria-label, etc.

Variant Functions
spacingVariants({ p, px, py, ... })
colorVariants({ bg, c })
layoutVariants({ w, h })

className prop
cn(variants, custom className)

Base Component
Block/Box/Grid/Flex/Stack

Rendered DOM Element
with className + ...props
```

**Prop destructuring pattern from Block:**

[src/components/ui/Block/Block.tsx34-61](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L34-L61)

```
({ 
  children, 
  className,
  component,
  variant = 'div',
  // Spacing props
  p, px, py, pt, pb, pl, pr,
  m, mx, my, mt, mb, ml, mr,
  // Color props
  bg, c, borderColor,
  // Layout props
  w = 'full', h, minH, position,
  // Visual props
  rounded, shadow,
  // Border props
  border, borderTop, borderBottom, borderLeft, borderRight,
  ...props  // Remaining HTML attributes
}, ref)
```

**Sources:** [src/components/ui/Block/Block.tsx34-86](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L34-L86)

---

## Component-Specific Features

### Block: Semantic HTML Container

`Block` is designed for semantic block-level elements. It defaults to `w='full'` (full width) and provides a `variant` prop for selecting semantic HTML5 elements.

**Key characteristics:**

- Semantic element selection via `variant` prop
- Full width by default (`w='full'`)
- Supports all spacing, color, layout, rounded, shadow, and border variants
- Uses `data-class="block"` for DOM targeting

**Element type resolution:**

[src/components/ui/Block/Block.tsx62-68](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L62-L68)

```
// Use variant as component if no component is explicitly provided
const elementType = component || variant;

return (
  <BaseBlock
    ref={ref}
    component={elementType}
    data-class="block"
```

**Usage examples:**

```
// Renders as <section> with full width
<Block variant="section" p="lg" rounded="xl">
  Section content
</Block>

// Renders as <nav> with custom background
<Block variant="nav" bg="primary" c="white">
  Navigation links
</Block>

// Override with custom component
<Block component="article" p="md">
  Article content
</Block>
```

**Sources:** [src/components/ui/Block/Block.tsx1-88](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L1-L88) [README.md85-87](https://github.com/ui8kit/core/blob/2afe2195/README.md#L85-L87)

### Box: Flexible Generic Container

`Box` is the most flexible primitive, accepting any `ElementType` via the `component` prop. It has no default width and minimal defaults, making it suitable for inline and custom layouts.

**Key characteristics:**

- Accepts any React `ElementType` (div, span, p, a, button, custom components)
- No default width or height
- Supports spacing, color, and layout variants
- Uses `data-class="box"` for DOM targeting

**Usage examples:**

```
// Renders as <div>
<Box p="md" bg="card">
  Generic container
</Box>

// Renders as <span> (inline)
<Box component="span" c="primary" weight="bold">
  Inline text
</Box>

// Renders as custom element
<Box component="input" w="full" p="sm" border="default" />
```

**Sources:** [README.md85](https://github.com/ui8kit/core/blob/2afe2195/README.md#L85-L85) [src/components/ui/Box/index.ts1](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Box/index.ts#L1-L1)

### Grid: CSS Grid Layout

`Grid` provides CSS Grid layout capabilities with props for columns, rows, and gap.

**Key characteristics:**

- `display: grid` applied by default
- `cols` prop for column count
- `rows` prop for row count
- `gap` prop for grid spacing
- Supports spacing and layout variants

**Usage examples:**

```
// 2-column grid with gap
<Grid cols={2} gap="md" p="lg">
  <Box>Item 1</Box>
  <Box>Item 2</Box>
  <Box>Item 3</Box>
  <Box>Item 4</Box>
</Grid>

// 3-column responsive grid
<Grid cols={3} gap="lg" w="full">
  {items.map(item => <Card key={item.id}>{item.name}</Card>)}
</Grid>
```

**Sources:** [README.md88](https://github.com/ui8kit/core/blob/2afe2195/README.md#L88-L88)

### Flex: Flexbox Layout

`Flex` provides Flexbox layout capabilities with props for direction, alignment, and justification.

**Key characteristics:**

- `display: flex` applied by default
- `direction` prop for flex-direction
- `align` prop for align-items
- `justify` prop for justify-content
- Supports spacing and layout variants

**Usage examples:**

```
// Horizontal flex with centered items
<Flex direction="row" align="center" justify="between" p="md">
  <Text>Left content</Text>
  <Button>Right action</Button>
</Flex>

// Vertical flex
<Flex direction="column" gap="md">
  <Box>Item 1</Box>
  <Box>Item 2</Box>
</Flex>
```

**Sources:** [README.md88](https://github.com/ui8kit/core/blob/2afe2195/README.md#L88-L88)

### Stack: Simplified Stacking

`Stack` is a specialized flex container for vertical or horizontal stacking with consistent gap spacing.

**Key characteristics:**

- Simplified API compared to `Flex`
- `direction` prop: 'vertical' (default) or 'horizontal'
- `gap` prop for spacing between children
- Automatic flex layout

**Usage examples:**

```
// Vertical stack (default)
<Stack gap="md" p="lg">
  <Text>Item 1</Text>
  <Text>Item 2</Text>
  <Text>Item 3</Text>
</Stack>

// Horizontal stack
<Stack direction="horizontal" gap="sm">
  <Button>Cancel</Button>
  <Button variant="primary">Submit</Button>
</Stack>
```

**Sources:** [README.md89](https://github.com/ui8kit/core/blob/2afe2195/README.md#L89-L89)

---

## Variant Application Pattern

Core components apply variants using the `cn()` utility function, which merges variant-generated classes with custom className props using `tw-merge` for conflict resolution.

```
validated by

Variant Props
p='lg', bg='card', rounded='xl'

Variant Functions
spacingVariants({ p: 'lg' })
colorVariants({ bg: 'card' })
roundedVariants({ rounded: 'xl' })

Generated Classes
'p-8' (from p='lg')
'bg-card' (from bg='card')
'rounded-xl' (from rounded='xl')

Custom className
(optional user override)

cn() utility
tw-merge for conflict resolution

Final className
Applied to component

core-classes.json
618 class whitelist
Prevents Tailwind purging
```

**Application pattern from Block:**

[src/components/ui/Block/Block.tsx70-79](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L70-L79)

```
className={cn(
  // Apply variants
  spacingVariants({ p, px, py, pt, pb, pl, pr, m, mx, my, mt, mb, ml, mr }),
  colorVariants({ bg, c, borderColor }),
  layoutVariants({ w, h, minH, position }),
  roundedVariants({ rounded }),
  shadowVariants({ shadow }),
  borderVariants({ border, borderTop, borderBottom, borderLeft, borderRight }),
  className  // User's custom className (if provided)
)}
```

**Sources:** [src/components/ui/Block/Block.tsx70-79](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L70-L79)

---

## Import and Export Pattern

Core components follow a consistent import/export structure for tree-shaking and type safety.

### Component File Structure

Each core component has a dedicated directory with two files:

```
src/core/ui/Block/
├── Block.tsx          # Component implementation
└── index.ts           # Public exports
```

### Import Pattern in Component Files

[src/components/ui/Block/Block.tsx3-18](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L3-L18)

```
import {
  Block as BaseBlock,           // Base component from core
  spacingVariants,              // Variant functions
  colorVariants,
  layoutVariants,
  roundedVariants,
  shadowVariants,
  borderVariants,
  type VariantSpacingProps,     // TypeScript types
  type ColorProps,
  type VariantLayoutProps,
  type RoundedProps,
  type ShadowProps,
  type BorderProps,
  cn                            // Utility function
} from "@ui8kit/core";
```

### Export Pattern in Index Files

[src/components/ui/Box/index.ts1](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Box/index.ts#L1-L1)

```
export { Box, type BoxProps } from "./Box";
```

**Export structure:**

- Named export for component
- Named export for TypeScript props interface using `type` keyword
- No default exports (enforces consistent import syntax)

**Sources:** [src/components/ui/Block/Block.tsx1-18](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L1-L18) [src/components/ui/Box/index.ts1](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Box/index.ts#L1-L1)

---

## data-class Attributes

All core components include a `data-class` attribute for consistent DOM targeting in tests, CSS selectors, and debugging tools.

```
Block
data-class='block'

Box
data-class='box'

Grid
data-class='grid'

Flex
data-class='flex'

Stack
data-class='stack'

DOM Queries
document.querySelector('[data-class=block]')
screen.getByTestId('block')

CSS Selectors
[data-class='block'] { ... }

Browser DevTools
Filter by data-class
```

**Usage from Block component:**

[src/components/ui/Block/Block.tsx69](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L69-L69)

```
data-class="block"
```

**Consumer testing example:**

```
// React Testing Library
const blockElement = screen.getByTestId('block');

// Direct DOM query
const allBlocks = document.querySelectorAll('[data-class="block"]');

// Cypress
cy.get('[data-class="block"]').should('exist');
```

**Sources:** [src/components/ui/Block/Block.tsx69](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L69-L69)

---

## displayName Convention

All core components set `displayName` for improved debugging experience in React DevTools and error messages.

[src/components/ui/Block/Block.tsx88](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L88-L88)

```
Block.displayName = "Block";
```

**Benefits:**

- Clear component names in React DevTools component tree
- Improved error stack traces
- Better debugging with React.StrictMode warnings

**Sources:** [src/components/ui/Block/Block.tsx88](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L88-L88)

---

## Relationship with Higher Layers

Core components serve as the foundation for Layer 2 (UI Components) and Layer 3 (Layouts). Higher-level components either extend core components with additional props or compose multiple core components together.

```
Layer 1: Core Components

Layer 2: UI Components

Layer 3: Layouts

uses

uses

uses

uses

uses

uses

extends

extends

uses

DashLayout
Composes: Container, Grid, Flex

LayoutBlock
Uses: Grid or Flex

SplitBlock
Uses: Container

Card
Extends: Block
Forwards variant props

Button
Extends: Box
Adds button-specific variants

Container
Uses: Block
Adds max-width logic

Block
Direct variant application

Box
Direct variant application

Grid
Direct variant application

Flex
Direct variant application

Stack
Direct variant application
```

**Extension pattern (Card extends Block):**

```
// Card component internally uses Block
<Block
  component="div"
  data-class="card"
  className={cn(cardVariants({ variant }), className)}
  {...variantProps}  // Forwards spacing, color, layout props
>
  {children}
</Block>
```

**Composition pattern (DashLayout uses Grid):**

```
// DashLayout composes multiple core components
<Block component="div" className="dashboard-layout">
  <Grid cols={12} gap="md">
    <Block component="aside" className="sidebar">
      {sidebar}
    </Block>
    <Block component="main" className="content">
      {children}
    </Block>
  </Grid>
</Block>
```

**Sources:** [README.md62-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L168)

---

## Summary

Core components implement five fundamental patterns:

1. **forwardRef** - Expose DOM references to parent components
2. **Type Composition** - Combine `React.HTMLAttributes` with variant prop types
3. **Prop Destructuring** - Extract variant props and forward HTML attributes
4. **Variant Application** - Apply CVA variants via `cn()` utility
5. **Semantic HTML** - Render appropriate HTML5 elements via `component` prop

These patterns enable:

- Type-safe component APIs with full TypeScript inference
- Direct access to the variant system without prop forwarding overhead
- Flexible semantic HTML structure for accessibility
- Consistent DOM targeting via `data-class` attributes
- Clean React DevTools debugging with `displayName`

All higher-level components in the library either extend or compose these five primitives, ensuring architectural consistency throughout the system.

**Sources:** [README.md62-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L103) [src/components/ui/Block/Block.tsx1-88](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Block/Block.tsx#L1-L88) [.devin/wiki.json56-63](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L56-L63)

# ================================================================================

# FILE 8: architecture\layouts.mdx
# ================================================================================
---
title: 'Layouts Architecture'
description: 'UI8Kit Core layout system - Layer 3 components (DashLayout, LayoutBlock, SplitBlock) for application structure templates'
---

# Layouts

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/layouts/DashLayout.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx)
- [src/layouts/LayoutBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx)
- [src/layouts/SplitBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx)

This document covers the Layer 3 layout components in the `@ui8kit/core` architecture: `DashLayout`, `LayoutBlock`, and `SplitBlock`. These are template-level components (organisms) that orchestrate Layer 2 UI components and Layer 1 primitives into structural page layouts. This page focuses on layout composition patterns, content hook systems, and special considerations for building application structures.

For basic layout primitives (`Grid`, `Flex`, `Stack`), see [Core Components](#3.1).\
For UI components used within layouts, see [UI Components](#3.3).\
For API details and prop references, see [Layout Components API](#4.3).

---

## Layout Architecture Overview

The layout system operates at the highest architectural layer, composing UI components and primitives into complete page structures. The three layout components serve distinct structural purposes:

```
External Dependencies

Layer 1: Primitives Used

Layer 2: UI Components Used

Layer 3: Layout Components

uses

uses

uses

uses

uses

uses

requires

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

uses

optional icons

optional icons

DashLayout
(Dashboard Structure)

LayoutBlock
(Content Sections)

SplitBlock
(Two-Column Layouts)

Card

Button

Text

Title

Badge

Icon

Image

Container

Group

Block
(Semantic sections)

Box
(Generic container)

Grid
(CSS Grid)

Stack
(Vertical/horizontal)

react-resizable-panels
(PanelGroup, Panel)

lucide-react
(Icon components)
```

**Sources:** [src/layouts/DashLayout.tsx1-99](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L1-L99) [src/layouts/LayoutBlock.tsx1-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L389) [src/layouts/SplitBlock.tsx1-145](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L1-L145) [README.md147-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L147-L168)

---

## DashLayout - Dashboard Template

`DashLayout` provides a complete dashboard structure with resizable panels, navigation header, and collapsible sidebar. It uses `react-resizable-panels` for interactive panel management.

### Component Structure

```
renders

renders

contains

contains

contains

wraps

wraps

uses

uses

uses

uses

uses

uses

uses

uses

Dashboard
(Main Component)

Navbar
(Header with brand + theme toggle)

Sidebar
(Collapsible navigation)

Main Panel
(Content area)

PanelGroup
(direction: horizontal)

Panel
(Sidebar container)

PanelResizeHandle
(Drag handle)

Panel
(Content container)

Block component='nav'

Group

Button variant='ghost'

Icon

Text

Block component='aside'

Stack

Container
```

### Key Interfaces and Props

| Interface        | Purpose                   | Key Props                                    |
| ---------------- | ------------------------- | -------------------------------------------- |
| `DashboardProps` | Main layout configuration | `page`, `children`, `sidebar`, `navbarProps` |
| `NavbarProps`    | Header configuration      | `isDarkMode`, `toggleDarkMode`, `brand`      |
| `SidebarProps`   | Sidebar configuration     | `children`, `title`, `dataClass`             |

### Implementation Details

The `Dashboard` component at [src/layouts/DashLayout.tsx64-91](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L64-L91) orchestrates the layout:

1. **Navbar** renders at top with theme toggle at [src/layouts/DashLayout.tsx34-49](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L34-L49)
2. **PanelGroup** with `direction="horizontal"` creates resizable layout at [src/layouts/DashLayout.tsx75-88](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L75-L88)
3. **Panel** components define sidebar (20% default, 10-40% range) and content area (80% default, 50% minimum) at [src/layouts/DashLayout.tsx76-86](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L76-L86)
4. **PanelResizeHandle** enables interactive resizing at [src/layouts/DashLayout.tsx80](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L80-L80)
5. **Container** wraps main content with responsive sizing at [src/layouts/DashLayout.tsx84](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L84-L84)

### Usage Pattern

```
import { DashLayout } from '@ui8kit/core';

<DashLayout
  sidebar={<NavSidebar />}
  navbarProps={{
    brand: "MyApp",
    isDarkMode: true,
    toggleDarkMode: handleToggle
  }}
>
  <Container>
    <Card p="lg">Content</Card>
  </Container>
</DashLayout>
```

The layout automatically persists panel sizes via `autoSaveId="dashlayout-panels"` at [src/layouts/DashLayout.tsx75](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L75-L75)

**Sources:** [src/layouts/DashLayout.tsx1-99](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L1-L99) [README.md155-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L155-L168)

---

## LayoutBlock - Flexible Content Sections

`LayoutBlock` is a versatile layout component that renders content sections with three layout modes (`grid`, `flex`, `stack`) and a powerful content hook system for dynamic rendering.

### Layout Modes and Configuration

```
renders

renders

renders

uses

uses

uses

wraps with

wraps in

LayoutBlock

Grid Mode
(layout='grid')

Flex Mode
(layout='flex')

Stack Mode
(layout='stack')

Grid Component
cols, gap, align, justify

Group Component
gap, align, justify, wrap

Stack Component
gap, align

Container
(optional wrapper)

Block component='section'
```

### Content Hook System

The content hook system at [src/layouts/LayoutBlock.tsx22-30](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L22-L30) allows replacing any part of the rendered content:

| Hook           | Purpose                       | Signature                                 |
| -------------- | ----------------------------- | ----------------------------------------- |
| `beforeHeader` | Content before header section | `(content: any) => ReactNode`             |
| `header`       | Custom header renderer        | `(content: any) => ReactNode`             |
| `afterHeader`  | Content after header section  | `(content: any) => ReactNode`             |
| `beforeItems`  | Content before items list     | `(content: any) => ReactNode`             |
| `item`         | Custom item renderer          | `(item: any, index: number) => ReactNode` |
| `afterItems`   | Content after items list      | `(content: any) => ReactNode`             |

### Default Renderers

The component provides default renderers at [src/layouts/LayoutBlock.tsx123-227](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L123-L227):

- **DefaultHeaderRenderer** at [src/layouts/LayoutBlock.tsx87-121](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L87-L121) - Renders badge, title, and description with alignment
- **DefaultItemRenderers.gridCard** at [src/layouts/LayoutBlock.tsx126-166](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L126-L166) - Card-based grid items with images/icons
- **DefaultItemRenderers.gridSimple** at [src/layouts/LayoutBlock.tsx169-196](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L169-L196) - Minimal grid items without cards
- **DefaultItemRenderers.flexItem** at [src/layouts/LayoutBlock.tsx199-226](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L199-L226) - Horizontal group layout for flex/stack modes

### Configuration Props

| Prop Category       | Props                                         | Purpose                      |
| ------------------- | --------------------------------------------- | ---------------------------- |
| **Layout Control**  | `layout`, `useContainer`, `containerSize`     | Mode and container settings  |
| **Grid Settings**   | `cols`, `gridCols`, `gap`, `align`, `justify` | CSS Grid configuration       |
| **Flex Settings**   | `wrap`, `flexWrap`                            | Flexbox wrapping behavior    |
| **Stack Settings**  | `stackAlign`                                  | Vertical alignment           |
| **Header Settings** | `showHeader`, `headerAlign`                   | Header display and alignment |
| **Content Data**    | `content`, `content.items`                    | Data structure for rendering |
| **Customization**   | `contentHooks`                                | Custom render functions      |

### Content Data Structure

The `content` prop at [src/layouts/LayoutBlock.tsx61-77](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L61-L77) follows this schema:

```
content: {
  badge?: string;          // Optional badge text
  title?: string;          // Section title
  description?: string;    // Section description
  items?: Array<{
    id: string;           // Required unique identifier
    title?: string;       // Item title
    description: string;  // Item description (required)
    image?: {             // Optional image
      src: string;
      alt: string;
    };
    lucideIcon?: any;     // Optional Lucide icon component
    [key: string]: any;   // Additional custom data
  }>;
}
```

### Layout Mode Rendering

The rendering logic at [src/layouts/LayoutBlock.tsx298-353](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L298-L353) selects the appropriate layout component:

```
grid

flex

stack

renderItems()

layout type?

Grid Component
cols, gap, align, justify
data-class='layout-grid'

Group Component
gap, align, justify, wrap
data-class='layout-flex'

Stack Component
gap, align
data-class='layout-stack'

itemRenderer(item, index)
```

Each layout wraps items in the appropriate primitive component with `data-class` attributes for DOM targeting at [src/layouts/LayoutBlock.tsx320-348](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L320-L348)

### Usage Examples

**Grid with Cards:**

```
<LayoutBlock
  layout="grid"
  cols="1-2-3"
  gap="lg"
  content={{
    badge: "Features",
    title: "Why Choose Us",
    description: "Discover our advantages",
    items: [
      {
        id: "1",
        title: "Fast",
        description: "Lightning speed",
        lucideIcon: Zap
      }
    ]
  }}
/>
```

**Flex with Custom Hooks:**

```
<LayoutBlock
  layout="flex"
  wrap="wrap"
  contentHooks={{
    header: (content) => <CustomHeader {...content} />,
    item: (item, index) => <CustomCard key={item.id} {...item} />
  }}
  content={data}
/>
```

**Sources:** [src/layouts/LayoutBlock.tsx1-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L389) [README.md149-154](https://github.com/ui8kit/core/blob/2afe2195/README.md#L149-L154)

---

## SplitBlock - Two-Column Split Layout

`SplitBlock` creates two-column layouts with flexible media and content sections, commonly used for hero sections, feature showcases, and content/image combinations.

### Layout Modes

```
SplitBlock

Container Mode
(splitSection=false)

Full Width Mode
(splitSection=true)

Block component='section'

Container wrapper

Grid cols='1-2'

Grid cols='1-2'
data-class='split-grid'

leftMedia=true

leftMedia=false
```

### Content Hook System

Similar to `LayoutBlock`, `SplitBlock` supports content hooks at [src/layouts/SplitBlock.tsx11-15](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L11-L15):

| Hook            | Purpose                     | Signature                     |
| --------------- | --------------------------- | ----------------------------- |
| `beforeContent` | Content before main section | `(content: any) => ReactNode` |
| `content`       | Main content renderer       | `(content: any) => ReactNode` |
| `afterContent`  | Content after main section  | `(content: any) => ReactNode` |

### Slots API

The slots API at [src/layouts/SplitBlock.tsx36-42](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L36-L42) provides named overrides:

```
slots?: {
  media?: ReactNode;      // Override media section
  header?: ReactNode;     // Future: Header slot
  body?: ReactNode;       // Future: Body slot
  actions?: ReactNode;    // Future: Actions slot
}
```

The media slot resolution at [src/layouts/SplitBlock.tsx91](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L91-L91) prioritizes slot overrides over direct props.

### Configuration Props

| Prop             | Type                           | Default    | Purpose                                    |
| ---------------- | ------------------------------ | ---------- | ------------------------------------------ |
| `mediaSection`   | `ReactNode`                    | -          | Content for media column                   |
| `contentSection` | `ReactNode`                    | -          | Content for content column                 |
| `leftMedia`      | `boolean`                      | `false`    | Position media on left side                |
| `splitSection`   | `boolean`                      | `true`     | Use full-width grid vs container           |
| `containerSize`  | `ContainerSizingProps["size"]` | `"lg"`     | Container size (when `splitSection=false`) |
| `gap`            | `VariantGridProps["gap"]`      | `"lg"`     | Gap between columns                        |
| `align`          | `VariantGridProps["align"]`    | `"center"` | Vertical alignment                         |

### Layout Rendering Logic

The rendering logic at [src/layouts/SplitBlock.tsx94-136](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L94-L136) creates two distinct layouts:

**Container Mode** (`splitSection=false`) at [src/layouts/SplitBlock.tsx96-111](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L96-L111):

- Wraps grid in responsive `Container`
- Applies `containerSize` and `padding` props
- Suitable for standard page sections

**Full Width Mode** (`splitSection=true`) at [src/layouts/SplitBlock.tsx115-135](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L115-L135):

- Grid directly after `Block` with no container
- Uses `data-class="split-grid"` for identification at [src/layouts/SplitBlock.tsx129](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L129-L129)
- Applies `flex-1 items-center` for full viewport height

### Column Order

The column order is determined by `leftMedia` prop at [src/layouts/SplitBlock.tsx106-107](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L106-L107) and [src/layouts/SplitBlock.tsx131-132](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L131-L132):

- `leftMedia=true`: `[mediaSection, contentSection]`
- `leftMedia=false`: `[contentSection, mediaSection]`

### Usage Examples

**Basic Split with Media:**

```
<SplitBlock
  mediaSection={
    <Image src="/hero.jpg" alt="Hero" fit="cover" />
  }
  contentSection={
    <Stack gap="lg">
      <Title order={1}>Welcome</Title>
      <Text>Description text</Text>
      <Button>Get Started</Button>
    </Stack>
  }
  leftMedia
/>
```

**With Content Hooks:**

```
<SplitBlock
  content={{ title: "Feature", description: "Details" }}
  contentHooks={{
    beforeContent: (content) => <Badge>{content.badge}</Badge>,
    content: (content) => (
      <Stack gap="md">
        <Title>{content.title}</Title>
        <Text>{content.description}</Text>
      </Stack>
    ),
    afterContent: () => <Button>Learn More</Button>
  }}
  slots={{
    media: <Image src="/feature.jpg" />
  }}
/>
```

**Full Width Hero:**

```
<SplitBlock
  splitSection
  leftMedia={false}
  mediaSection={<HeroImage />}
  contentSection={<HeroContent />}
/>
```

**Sources:** [src/layouts/SplitBlock.tsx1-145](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L1-L145) [README.md149-154](https://github.com/ui8kit/core/blob/2afe2195/README.md#L149-L154)

---

## Layout Primitives Integration

Layout components extensively use Layer 1 primitives for structure. Understanding these primitives is essential for working with layouts.

### Grid Component

Used by `LayoutBlock` (grid mode) and `SplitBlock` for CSS Grid layouts:

```
applies

applies

applies

applies

'1-2-3' creates

Grid
(CSS Grid)

cols variant
'1-2-3', '2', '3', '4'

gap variant
'sm', 'md', 'lg', 'xl'

align variant
'start', 'center', 'end'

justify variant
'start', 'center', 'between'

Responsive columns
1 col mobile
2 cols tablet
3 cols desktop
```

**Common Grid Configurations:**

- `cols="1-2-3"` - Responsive 1/2/3 columns
- `cols="2"` - Fixed 2 columns
- `gap="lg"` - Large gap between items
- `align="center"` - Center items vertically

### Stack Component

Used by `LayoutBlock` (stack mode) and within content sections for vertical layouts:

| Prop    | Values                                           | Purpose              |
| ------- | ------------------------------------------------ | -------------------- |
| `gap`   | `"sm"`, `"md"`, `"lg"`, `"xl"`, `"2xl"`, `"3xl"` | Vertical spacing     |
| `align` | `"start"`, `"center"`, `"end"`                   | Horizontal alignment |
| `ta`    | `"left"`, `"center"`, `"right"`                  | Text alignment       |

### Block Component

All layout components use `Block` as the root semantic container:

```
<Block
  component="section"  // Semantic HTML5 tag
  w="full"            // Full width
  py="xl"             // Vertical padding
  data-class="layout-block"  // DOM identification
>
  {/* Layout content */}
</Block>
```

The `component` prop at [src/layouts/DashLayout.tsx16](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L16-L16) [src/layouts/DashLayout.tsx36](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L36-L36) and [src/layouts/DashLayout.tsx74](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L74-L74) ensures semantic HTML structure (`<section>`, `<nav>`, `<aside>`, `<main>`).

**Sources:** [src/layouts/LayoutBlock.tsx3-16](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L3-L16) [src/layouts/SplitBlock.tsx3-8](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L3-L8) [src/layouts/DashLayout.tsx2](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L2-L2)

---

## Composition Patterns

Layout components follow specific composition patterns for building complex structures.

### Pattern 1: Nested Layout Composition

Layouts can be nested to create complex page structures:

```
```

**Example:**

```
<DashLayout sidebar={<Navigation />}>
  <LayoutBlock layout="grid" cols="1-2-3" content={heroData} />
  <SplitBlock mediaSection={<Image />} contentSection={<Content />} />
  <LayoutBlock layout="stack" content={testimonialsData} />
</DashLayout>
```

### Pattern 2: Container Management

Layouts use `Container` component for responsive width control:

| Layout        | Container Usage                                                                                                                                             | When Used                                  |
| ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------ |
| `DashLayout`  | Always uses `Container` at [src/layouts/DashLayout.tsx84](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L84-L84)                  | Wraps main content panel                   |
| `LayoutBlock` | Optional via `useContainer` prop at [src/layouts/LayoutBlock.tsx259](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L259-L259)    | Default `true`, can disable for full-width |
| `SplitBlock`  | Conditional via `splitSection` prop at [src/layouts/SplitBlock.tsx94-112](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L94-L112) | Used when `splitSection=false`             |

### Pattern 3: Content Hook Override

The content hook system enables progressive enhancement:

```
```

**Fallback Chain:**

1. Check for custom `contentHooks.item` at [src/layouts/LayoutBlock.tsx302](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L302-L302)
2. Fall back to default renderer at [src/layouts/LayoutBlock.tsx285](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L285-L285)
3. Apply layout-specific defaults at [src/layouts/LayoutBlock.tsx230-254](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L230-L254)

### Pattern 4: Slot-Based Overrides

`SplitBlock` slots provide targeted customization without full content hooks:

```
<SplitBlock
  // Base props
  leftMedia
  gap="xl"
  
  // Original sections
  mediaSection={<DefaultImage />}
  contentSection={<DefaultContent />}
  
  // Slot overrides
  slots={{
    media: <CustomVideo />  // Overrides mediaSection
  }}
/>
```

The resolution at [src/layouts/SplitBlock.tsx91](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L91-L91) prioritizes slots over direct props.

### Pattern 5: Data-Driven Rendering

Layouts accept structured data and render automatically:

```
const pageData = {
  badge: "New",
  title: "Feature Section",
  description: "Amazing features",
  items: [
    { id: "1", title: "Fast", description: "Speed", lucideIcon: Zap },
    { id: "2", title: "Secure", description: "Safe", lucideIcon: Lock }
  ]
};

<LayoutBlock layout="grid" cols="2" content={pageData} />
```

The rendering pipeline at [src/layouts/LayoutBlock.tsx288-361](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L288-L361) handles:

1. Header rendering from `content.badge/title/description`
2. Item iteration and rendering from `content.items`
3. Layout wrapping based on `layout` mode

**Sources:** [src/layouts/LayoutBlock.tsx256-386](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L256-L386) [src/layouts/SplitBlock.tsx67-143](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L67-L143) [src/layouts/DashLayout.tsx64-91](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L64-L91)

---

## Special Considerations

### Semantic HTML Structure

Layout components enforce semantic HTML5 structure:

| Component            | Root Element       | Purpose                                                                                                                                                |
| -------------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `DashLayout`         | `<nav>` + `<main>` | Navigation header + main content at [src/layouts/DashLayout.tsx36-74](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L36-L74) |
| `DashLayout.Sidebar` | `<aside>`          | Sidebar navigation at [src/layouts/DashLayout.tsx16](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L16-L16)                  |
| `LayoutBlock`        | `<section>`        | Content sections at [src/layouts/LayoutBlock.tsx366](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L366-L366)               |
| `SplitBlock`         | `<section>`        | Split content sections at [src/layouts/SplitBlock.tsx97-117](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L97-L117)         |

This ensures accessibility and SEO compliance without additional configuration.

### Data-Class Attributes

All layouts apply `data-class` attributes for consistent DOM targeting:

| Component            | Data-Class Value            | Location                                                                                                             |
| -------------------- | --------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| `DashLayout.Navbar`  | `data-role="dash-navbar"`   | [src/layouts/DashLayout.tsx36](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L36-L36)      |
| `DashLayout.Sidebar` | Custom via prop             | [src/layouts/DashLayout.tsx16](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L16-L16)      |
| `LayoutBlock`        | `data-class="layout-block"` | [src/layouts/LayoutBlock.tsx371](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L371-L371) |
| `LayoutBlock` Grid   | `data-class="layout-grid"`  | [src/layouts/LayoutBlock.tsx320](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L320-L320) |
| `LayoutBlock` Flex   | `data-class="layout-flex"`  | [src/layouts/LayoutBlock.tsx333](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L333-L333) |
| `LayoutBlock` Stack  | `data-class="layout-stack"` | [src/layouts/LayoutBlock.tsx344](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L344-L344) |
| `SplitBlock` Grid    | `data-class="split-grid"`   | [src/layouts/SplitBlock.tsx129](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L129-L129)   |

These enable reliable testing and styling without className dependencies.

### Responsive Behavior

Layouts handle responsive design through variant props:

**Grid Responsive Columns:**

- `cols="1-2-3"` creates mobile→tablet→desktop breakpoints
- Automatically collapses to 1 column on mobile
- Scales to 2 columns on tablet (`md:`)
- Expands to 3 columns on desktop (`lg:`)

**Container Responsive Sizing:**

- `containerSize="lg"` applies `max-w-7xl` with breakpoint adjustments
- Automatically adds horizontal padding on mobile
- Centers content with `mx="auto"`

**Panel Resizing (DashLayout):**

- Sidebar: `defaultSize={20}`, `minSize={10}`, `maxSize={40}` at [src/layouts/DashLayout.tsx76](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L76-L76)
- Content: `defaultSize={80}`, `minSize={50}` at [src/layouts/DashLayout.tsx82](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L82-L82)
- Sizes persisted via `autoSaveId` at [src/layouts/DashLayout.tsx75](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L75-L75)

### Performance Considerations

**Item Key Management:** The `LayoutBlock` component requires unique `id` in content items at [src/layouts/LayoutBlock.tsx66](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L66-L66) for efficient React reconciliation. Keys are applied at [src/layouts/LayoutBlock.tsx306](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L306-L306)

**Memoization Opportunities:** Content hooks and renderers are evaluated on every render. For expensive computations, wrap in `useMemo`:

```
const contentHooks = useMemo(() => ({
  item: (item, index) => <ExpensiveComponent {...item} />
}), [dependencies]);
```

**Panel State Persistence:** `DashLayout` automatically persists panel sizes to localStorage via `react-resizable-panels`, reducing layout shift on reload.

### External Dependencies

| Component    | Dependency               | Purpose                  | Installation                         |
| ------------ | ------------------------ | ------------------------ | ------------------------------------ |
| `DashLayout` | `react-resizable-panels` | Resizable panel system   | `npm install react-resizable-panels` |
| All layouts  | `lucide-react`           | Optional icon components | `npm install lucide-react`           |

These are listed as peer dependencies and must be installed separately when using layouts.

**Sources:** [src/layouts/DashLayout.tsx4](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L4-L4) [src/layouts/LayoutBlock.tsx366-383](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L366-L383) [src/layouts/SplitBlock.tsx94-136](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L94-L136)

---

## Usage Examples

### Dashboard Application

Complete dashboard with navigation, resizable panels, and content sections:

```
import { DashLayout, LayoutBlock, Card } from '@ui8kit/core';
import { Home, Settings, Users } from 'lucide-react';

function DashboardApp() {
  const [darkMode, setDarkMode] = useState(false);
  
  return (
    <DashLayout
      navbarProps={{
        brand: "Admin Panel",
        isDarkMode: darkMode,
        toggleDarkMode: () => setDarkMode(!darkMode)
      }}
      sidebar={
        <Stack gap="md">
          <Button variant="ghost" leftSection={<Home />}>
            Dashboard
          </Button>
          <Button variant="ghost" leftSection={<Users />}>
            Users
          </Button>
          <Button variant="ghost" leftSection={<Settings />}>
            Settings
          </Button>
        </Stack>
      }
    >
      <LayoutBlock
        layout="grid"
        cols="1-2-3"
        gap="lg"
        content={{
          title: "Overview",
          description: "Key metrics",
          items: statsData
        }}
      />
    </DashLayout>
  );
}
```

### Marketing Landing Page

Hero section with split layout and feature grid:

```
import { SplitBlock, LayoutBlock } from '@ui8kit/core';
import { Zap, Shield, Globe } from 'lucide-react';

function LandingPage() {
  return (
    <>
      <SplitBlock
        leftMedia={false}
        splitSection
        mediaSection={
          <Image
            src="/hero.jpg"
            alt="Hero"
            fit="cover"
            h="full"
          />
        }
        contentSection={
          <Stack gap="xl" align="start" p="2xl">
            <Badge variant="secondary">New Release</Badge>
            <Title order={1} size="4xl" fw="bold">
              Build Faster
            </Title>
            <Text size="xl" c="secondary-foreground">
              Create amazing interfaces with minimal code
            </Text>
            <Group gap="md">
              <Button variant="primary" size="lg">
                Get Started
              </Button>
              <Button variant="outline" size="lg">
                Learn More
              </Button>
            </Group>
          </Stack>
        }
      />
      
      <LayoutBlock
        layout="grid"
        cols="1-2-3"
        gap="xl"
        py="3xl"
        content={{
          badge: "Features",
          title: "Why Choose Us",
          description: "Everything you need to succeed",
          items: [
            {
              id: "fast",
              title: "Lightning Fast",
              description: "Optimized for performance",
              lucideIcon: Zap
            },
            {
              id: "secure",
              title: "Secure by Default",
              description: "Built with security in mind",
              lucideIcon: Shield
            },
            {
              id: "global",
              title: "Global Scale",
              description: "Deploy worldwide instantly",
              lucideIcon: Globe
            }
          ]
        }}
      />
    </>
  );
}
```

### Content-Heavy Article Layout

Stack layout with custom content hooks for rich content:

```
import { LayoutBlock, createLayoutContentHook } from '@ui8kit/core';

const articleHooks = createLayoutContentHook({
  header: (content) => (
    <Stack gap="md" align="center" ta="center">
      <Badge>{content.category}</Badge>
      <Title order={1} size="4xl">{content.title}</Title>
      <Text c="muted" size="sm">
        {content.author} • {content.date}
      </Text>
    </Stack>
  ),
  item: (item, index) => (
    <Card p="xl" rounded="lg" shadow="sm">
      <Stack gap="lg">
        <Title order={2} size="2xl">{item.title}</Title>
        <Text>{item.content}</Text>
        {item.quote && (
          <Box p="lg" bg="muted" rounded="md" border="1px solid border">
            <Text size="lg" fw="medium">"{item.quote}"</Text>
          </Box>
        )}
      </Stack>
    </Card>
  )
});

function ArticlePage() {
  return (
    <LayoutBlock
      layout="stack"
      gap="2xl"
      containerSize="md"
      contentHooks={articleHooks}
      content={articleData}
    />
  );
}
```

**Sources:** [README.md36-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L36-L168) [src/layouts/DashLayout.tsx53-96](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L53-L96) [src/layouts/LayoutBlock.tsx256-389](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L256-L389) [src/layouts/SplitBlock.tsx67-143](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx#L67-L143)

# ================================================================================

# FILE 9: architecture\overview.mdx
# ================================================================================
---
title: 'Architecture'
description: 'UI8Kit Core architectural design - three-layer component hierarchy, variant system, build pipeline, and module organization'
---

# Architecture

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/components/README.md](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md)

## Purpose and Scope

This document describes the architectural design of `@ui8kit/core`, including its three-layer component hierarchy, variant system, build pipeline, and module organization. It explains the structural relationships between primitives, composite components, and layouts, along with the underlying mechanisms for styling, type safety, and distribution.

For detailed API documentation of individual components and their props, see [API Reference](#4). For installation and configuration instructions, see [Getting Started](#2). For development workflows and usage patterns, see [Development Guide](#5).

---

## Three-Layer Architecture Overview

The library implements a three-layer architecture aligned with atomic design principles: **atoms** (core primitives), **molecules** (UI components), and **organisms** (layout templates). Each layer builds upon the previous one through composition and prop forwarding.

### Layer Hierarchy and Dependencies

```
Foundation: Variant System

Layer 1: Core Primitives (Atoms)

Layer 2: UI Components (Molecules)

Layer 3: Layouts (Organisms)

uses

uses

uses

uses

extends

extends

uses

extends

applies

applies

applies

applies

DashLayout

LayoutBlock

SplitBlock

Card + Card.Header/Content/Footer

Button

Badge

Title

Text

Image

Icon

Accordion

Sheet

Group

Container

Block

Box

Grid

Flex

Stack

class-variance-authority

spacingVariants

colorVariants

layoutVariants

typographyVariants

effectsVariants
```

**Sources:** [README.md62-89](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L89) [README.md105-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L105-L168) [src/components/README.md9-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L9-L19)

### Layer 1: Core Primitives

Five fundamental building blocks located in [src/core/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/) provide direct access to the CVA variant system. These primitives render as semantic HTML elements and serve as the foundation for all higher-level components.

| Primitive | Base Element | Primary Use Case             | Key Props                       |
| --------- | ------------ | ---------------------------- | ------------------------------- |
| `Box`     | `div`        | Generic container            | `component`, all variants       |
| `Block`   | `section`    | Semantic blocks              | `component`, all variants       |
| `Grid`    | `div`        | CSS Grid layouts             | `cols`, `gap`, grid variants    |
| `Flex`    | `div`        | Flexbox layouts              | `direction`, `align`, `justify` |
| `Stack`   | `div`        | Vertical/horizontal stacking | `gap`, `align`, extends Flex    |

**Implementation Details:**

- All primitives support `forwardRef` for DOM access: [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx) [src/core/ui/Block.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx)
- Polymorphic `component` prop enables semantic HTML tags: [src/core/ui/Block.tsx10-15](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx#L10-L15)
- Direct variant application without intermediate abstraction: [src/core/ui/Box.tsx20-30](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx#L20-L30)

**Sources:** [README.md81-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L81-L103) [src/core/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/) [src/components/README.md23-92](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L23-L92)

### Layer 2: UI Components

Fifteen composite components in [src/components/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/) extend core primitives through prop forwarding. These components add semantic structure, compound patterns, and specialized behavior while inheriting the full variant system.

| Component   | Extends | Compound Parts                              | Special Features                             |
| ----------- | ------- | ------------------------------------------- | -------------------------------------------- |
| `Card`      | `Block` | Header, Content, Footer, Title, Description | Compound component pattern                   |
| `Button`    | `Box`   | -                                           | Loading state, sections (left/right)         |
| `Badge`     | `Box`   | -                                           | Dot indicator, variant system                |
| `Title`     | `Box`   | -                                           | Heading hierarchy (h1-h6)                    |
| `Text`      | `Box`   | -                                           | Semantic text elements (p, span, em, strong) |
| `Container` | `Block` | -                                           | Responsive max-width presets                 |
| `Group`     | `Flex`  | -                                           | Horizontal layout helper                     |
| `Icon`      | `Box`   | -                                           | SVG wrapper with size control                |
| `Image`     | `Box`   | -                                           | Aspect ratio, object-fit                     |
| `Sheet`     | -       | -                                           | Drawer/sheet with transitions                |
| `Accordion` | -       | Item, Trigger, Content                      | Expandable sections                          |

**Prop Forwarding Pattern:**

```
forwards props

imports

Developer JSX
Card p='lg' rounded='xl'

Card component
src/components/ui/Card.tsx

Block primitive
src/core/ui/Block.tsx

spacingVariants
roundedVariants
shadowVariants

class-variance-authority
Resolves variants

Tailwind classes
p-8 rounded-xl
```

**Sources:** [README.md105-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L105-L145) [src/components/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/) [src/components/README.md94-177](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L94-L177)

### Layer 3: Layouts

Three layout templates in [src/layouts/](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/) orchestrate UI components into application structures. These templates handle complex composition patterns like resizable panels, grid systems, and responsive breakpoints.

| Layout        | Primary Use            | Key Features                      | Dependencies             |
| ------------- | ---------------------- | --------------------------------- | ------------------------ |
| `DashLayout`  | Dashboard applications | Sidebar, header, resizable panels | `react-resizable-panels` |
| `LayoutBlock` | Content sections       | Grid layout, content hooks        | `Grid` primitive         |
| `SplitBlock`  | Two-column layouts     | Responsive split, image/content   | `Container`, `Grid`      |

**Content Hooks Pattern:**

The `LayoutBlock` component demonstrates the content hooks pattern for dynamic rendering:

```
// From src/layouts/LayoutBlock.tsx
interface LayoutBlockProps {
  contentHooks?: {
    beforeContent?: () => React.ReactNode;
    content?: () => React.ReactNode;
    afterContent?: () => React.ReactNode;
  };
}
```

**Sources:** [README.md147-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L147-L168) [src/layouts/DashLayout.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx) [src/layouts/LayoutBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx) [src/layouts/SplitBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/SplitBlock.tsx)

---

## Architectural Principles

### Atomic Design Alignment

The three-layer structure maps directly to atomic design methodology:

| Layer             | Atomic Design Level | Complexity | Composition                       |
| ----------------- | ------------------- | ---------- | --------------------------------- |
| Layer 1 (Core)    | Atoms               | Minimal    | Direct variant application        |
| Layer 2 (UI)      | Molecules           | Moderate   | Extends atoms, prop forwarding    |
| Layer 3 (Layouts) | Organisms           | Complex    | Composes molecules into templates |

This alignment ensures components are organized by complexity and reusability, making the codebase predictable and maintainable.

**Sources:** [README.md62-79](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L79) [.devin/wiki.json4](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L4-L4)

### Minimalism Philosophy

The library achieves its minimalist goal through three key constraints:

1. **15 composite components** provide 95% coverage of UI needs: [README.md370-386](https://github.com/ui8kit/core/blob/2afe2195/README.md#L370-L386)
2. **12 reusable variants** eliminate 80% of custom classes: [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217)
3. **5 core primitives** serve as universal building blocks: [README.md81-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L81-L103)

This constraint-based design reduces bundle size, development time, cognitive load, and CSS complexity.

**Sources:** [README.md388-403](https://github.com/ui8kit/core/blob/2afe2195/README.md#L388-L403) [.devin/wiki.json8-9](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L8-L9)

### Prop Forwarding Pattern

All Layer 2 components inherit variant props from their base primitives through explicit prop forwarding:

```
props

own variants

forwards to

applies

merged with

User Code
Button p='md' rounded='lg' shadow='sm'

Button Component
src/components/ui/Button.tsx

Box Primitive
src/core/ui/Box.tsx

buttonStyleVariants
buttonSizeVariants

spacingVariants
roundedVariants
shadowVariants
```

This pattern enables:

- **Type Safety:** TypeScript validates all forwarded props
- **Variant Inheritance:** Components automatically gain new variants added to primitives
- **Composition Flexibility:** Multiple variant sources combine without conflict

**Sources:** [src/components/README.md9-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L9-L19) [.devin/wiki.json12-13](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L12-L13)

### Semantic HTML and Data Attributes

Every component renders semantic HTML5 elements and includes `data-class` attributes for identification:

| Pattern                 | Purpose                | Example                                                     |
| ----------------------- | ---------------------- | ----------------------------------------------------------- |
| Semantic elements       | Accessibility, SEO     | `<Block component="section">`, `<Block component="nav">`    |
| `data-class` attributes | DOM targeting, testing | `<div data-class="card">`, `<div data-class="card-header">` |
| Polymorphic components  | Flexible element types | `component` prop accepts any valid HTML tag                 |

**Example from Card component:**

```
// src/components/ui/Card.tsx
<Block data-class="card" {...props}>
  {children}
</Block>

// Compound parts also use data-class
<Box data-class="card-header">{children}</Box>
<Box data-class="card-content">{children}</Box>
<Box data-class="card-footer">{children}</Box>
```

**Sources:** [README.md14](https://github.com/ui8kit/core/blob/2afe2195/README.md#L14-L14) [src/components/README.md223-235](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L223-L235)

---

## Component Relationships and File Structure

### Directory Organization

```
@ui8kit/core/
├── src/
│   ├── core/
│   │   ├── ui/              # Layer 1: 5 primitives
│   │   │   ├── Box.tsx
│   │   │   ├── Block.tsx
│   │   │   ├── Grid.tsx
│   │   │   ├── Flex.tsx
│   │   │   └── Stack.tsx
│   │   └── variants/        # CVA variant definitions
│   │       ├── spacing.ts
│   │       ├── colors.ts
│   │       ├── layout.ts
│   │       ├── typography.ts
│   │       └── effects.ts
│   ├── components/
│   │   └── ui/              # Layer 2: 15 UI components
│   │       ├── button.tsx
│   │       ├── card.tsx
│   │       ├── badge.tsx
│   │       └── ...
│   ├── layouts/             # Layer 3: 3 layout templates
│   │   ├── DashLayout.tsx
│   │   ├── LayoutBlock.tsx
│   │   └── SplitBlock.tsx
│   ├── themes/
│   │   └── providers/       # Theme system
│   │       └── ThemeProvider.tsx
│   ├── lib/
│   │   ├── core-classes.json  # Generated class whitelist (618 classes)
│   │   └── utils.ts
│   └── registry.json        # Component metadata
├── dist/                    # Build output (ES2022 modules)
│   ├── index.js
│   └── index.d.ts
└── scripts/
    └── cva-extractor.ts     # Build-time class extraction
```

**Sources:** [README.md1-453](https://github.com/ui8kit/core/blob/2afe2195/README.md#L1-L453) [package.json1-50](https://github.com/ui8kit/core/blob/2afe2195/package.json#L1-L50)

### Component Import and Export Flow

```
tsc compile

npm publish

imports

imports

imports

src/core/ui/
Box, Block, Grid, Flex, Stack

src/core/variants/
12 variant definitions

src/components/ui/
15 composite components

src/layouts/
3 layout templates

src/themes/providers/
ThemeProvider

src/index.ts
Central export file

dist/
index.js + index.d.ts

NPM Registry
@ui8kit/core
```

**Entry Points:**

The main entry point [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts) re-exports all public APIs:

```
// Core primitives
export * from './core/ui/Box';
export * from './core/ui/Block';
export * from './core/ui/Grid';
export * from './core/ui/Flex';
export * from './core/ui/Stack';

// UI components
export * from './components/ui/button';
export * from './components/ui/card';
// ... 13 more

// Layouts
export * from './layouts/DashLayout';
export * from './layouts/LayoutBlock';
export * from './layouts/SplitBlock';

// Theme system
export * from './themes/providers/ThemeProvider';

// Variants (optional export for extension)
export * from './core/variants';
```

**Sources:** [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts) [package.json30-36](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L36)

### Composition Patterns

The library supports five distinct composition patterns for different architectural needs:

```
Pattern 5: Content Hooks

LayoutBlock
contentHooks functions

beforeContent, content, afterContent

Dynamic section rendering

Pattern 4: Layout Composition

DashLayout
sidebar, header, children

Container + Card + Stack

Dashboard structure

Pattern 3: Prop Forwarding

Button p='md' rounded='lg'
+ button-specific props

Merges button variants + core variants

Styled button element

Pattern 2: Compound Components

Card
Card.Header
Card.Content
Card.Footer

Structured card with parts

Pattern 1: Direct Primitive

Block component='form' p='lg'

form element with padding
```

**Pattern Details:**

1. **Direct Primitive:** Use `Box` or `Block` with `component` prop for semantic HTML
2. **Compound Components:** Use structured components like `Card.Header`, enables flexible composition
3. **Prop Forwarding:** Composite components merge their own variants with inherited base variants
4. **Layout Composition:** Templates orchestrate multiple components into application structures
5. **Content Hooks:** Layouts accept render functions for dynamic content injection

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md10-13](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L10-L13) [src/layouts/LayoutBlock.tsx15-22](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L15-L22) [src/layouts/DashLayout.tsx72-99](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L72-L99)

---

## Variant System Architecture

### CVA Integration

The variant system is powered by `class-variance-authority`, providing type-safe, composable styling utilities. All variants are defined in [src/core/variants/](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/) and applied through core primitives.

**12 Variant Categories:**

| Category   | Variants                                                                         | Values                                               | Purpose                         |
| ---------- | -------------------------------------------------------------------------------- | ---------------------------------------------------- | ------------------------------- |
| Spacing    | `p`, `m`, `px`, `py`, `pt`, `pb`, `pl`, `pr`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto`  | Padding and margins             |
| Colors     | `bg`, `c`, `borderColor`                                                         | Design system colors                                 | Background, text, border colors |
| Layout     | `w`, `h`, `minH`, `maxW`, `position`                                             | `auto`, `full`, `screen`, `fit`, `min`, `max`        | Width, height, positioning      |
| Typography | `size`, `weight`, `align`, `leading`                                             | Font sizes and weights                               | Text styling                    |
| Effects    | `rounded`, `shadow`, `border`                                                    | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, `full` | Visual enhancements             |
| Display    | `display`                                                                        | `block`, `inline`, `flex`, `grid`, `none`            | Display modes                   |
| Flexbox    | `direction`, `align`, `justify`, `wrap`                                          | Flex properties                                      | Flexbox layouts                 |
| Grid       | `cols`, `rows`, `gap`                                                            | Grid properties                                      | Grid layouts                    |
| Overflow   | `overflow`, `overflowX`, `overflowY`                                             | `auto`, `hidden`, `scroll`, `visible`                | Overflow control                |
| Cursor     | `cursor`                                                                         | `pointer`, `default`, `move`, etc.                   | Cursor styles                   |
| Opacity    | `opacity`                                                                        | `0` to `100`                                         | Transparency                    |
| Z-Index    | `z`                                                                              | `0`, `10`, `20`, `30`, `40`, `50`                    | Stacking order                  |

**Sources:** [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217) [src/core/variants/](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/)

### Variant Application Pipeline

```
Component Props
p='lg' rounded='xl' shadow='md'

Imported Variants
spacingVariants
roundedVariants
shadowVariants

CVA Engine
class-variance-authority

Generated Classes
'p-8 rounded-xl shadow-md'

core-classes.json
618-class whitelist

Tailwind CSS Purge
Safelist validation

DOM Output
className attribute
```

**Pipeline Stages:**

1. **Prop Input:** Developer provides variant props (e.g., `p='lg'`)
2. **Variant Resolution:** CVA engine resolves props to Tailwind classes using variant definitions
3. **Class Generation:** Produces className string (e.g., `'p-8 rounded-xl shadow-md'`)
4. **Whitelist Validation:** Generated classes validated against [src/lib/core-classes.json](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json) (618 classes)
5. **Tailwind Processing:** Tailwind CSS applies utility classes, using whitelist as safelist to prevent purging
6. **DOM Output:** Final className applied to rendered element

**Sources:** [README.md98-124](https://github.com/ui8kit/core/blob/2afe2195/README.md#L98-L124) [src/lib/core-classes.json1-619](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L619) [scripts/cva-extractor.ts223-260](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L223-L260)

### Class Whitelist Generation

The build-time `cva-extractor.ts` script scans all variant definitions to generate the class whitelist:

**Extractor Workflow:**

```
scan

generates

writes

imported by

src/core/variants/
*.ts variant definitions

scripts/cva-extractor.ts
Static analysis

Extracted Classes
618 total classes

src/lib/core-classes.json
Committed artifact

tailwind.config.js
safelist configuration
```

**Generated Class Categories:**

- Spacing: `p-0`, `p-1`, `p-2`, ..., `p-96`, `m-0`, `m-1`, ..., `m-96`, `mx-auto`, `my-auto`
- Rounded: `rounded-none`, `rounded-sm`, `rounded-md`, ..., `rounded-full`
- Shadow: `shadow-none`, `shadow-sm`, `shadow-md`, ..., `shadow-2xl`
- Colors: All design system color utilities
- Layout: `w-full`, `w-screen`, `h-full`, `h-screen`, etc.

**Sources:** [scripts/cva-extractor.ts1-260](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L260) [src/lib/core-classes.json617-619](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L617-L619)

---

## Build-Time vs Runtime Architecture

The system maintains strict separation between build-time tooling and runtime code to optimize bundle size and developer experience.

### Build-Time Systems

```
Build Artifacts (Committed)

Build-Time Tools

Source Code
src/

cva-extractor.ts
Extract CSS classes

TypeScript Compiler
tsc -p tsconfig.json

ESLint
Code quality checks

buildy-ui scan
Component metadata

src/lib/core-classes.json
618 classes

dist/index.js
dist/index.d.ts

src/registry.json
Component metadata
```

**Build Commands:**

| Command                        | Tool          | Output              | Purpose                   |
| ------------------------------ | ------------- | ------------------- | ------------------------- |
| `bun scripts/cva-extractor.ts` | Custom script | `core-classes.json` | Extract variant classes   |
| `tsc -p tsconfig.json`         | TypeScript    | `dist/` directory   | Compile to ES2022 modules |
| `eslint src --ext .ts,.tsx`    | ESLint        | Console output      | Code quality validation   |
| `buildy-ui scan`               | buildy-ui CLI | `registry.json`     | Component metadata        |

**Sources:** [scripts/cva-extractor.ts1-260](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L260) [package.json19-25](https://github.com/ui8kit/core/blob/2afe2195/package.json#L19-L25)

### Runtime Systems

```
Consumer Application

External Runtime Dependencies

Runtime Systems

dist/index.js
Compiled modules

Core Primitives
Block, Box, Grid, Flex, Stack

Variant System
class-variance-authority

UI Components
15 composite components

Layout Templates
3 layout components

Theme System
ThemeProvider + useTheme

react ^18 | ^19

lucide-react
Icons

react-resizable-panels
Layouts

class-variance-authority
Variant engine

Application Code
import from @ui8kit/core

Tailwind CSS
Utility styling
```

**Runtime Dependencies:**

| Dependency                 | Type   | Usage               | Components       |
| -------------------------- | ------ | ------------------- | ---------------- |
| `react`                    | Peer   | Component framework | All components   |
| `react-dom`                | Peer   | DOM rendering       | All components   |
| `class-variance-authority` | Direct | Variant engine      | Core primitives  |
| `lucide-react`             | Direct | Icons               | Sheet, Accordion |
| `react-resizable-panels`   | Direct | Resizable panels    | DashLayout       |

**Sources:** [package.json42-56](https://github.com/ui8kit/core/blob/2afe2195/package.json#L42-L56) [src/themes/providers/ThemeProvider.tsx1-109](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L1-L109)

---

## Distribution and Module System

### Package Configuration

The [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json) defines multiple entry points and export patterns:

**Main Entry Points:**

```
{
  "main": "./dist/index.js",
  "module": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "types": "./dist/index.d.ts",
      "import": "./dist/index.js",
      "require": "./dist/index.js"
    },
    "./registry.json": "./src/registry.json",
    "./core-classes.json": "./src/lib/core-classes.json"
  }
}
```

**Export Pattern:**

- **Primary export (`.`):** All components, variants, and theme utilities
- **Registry export (`./registry.json`):** Component metadata for tooling
- **Classes export (`./core-classes.json`):** CSS class whitelist for Tailwind config

**Sources:** [package.json30-42](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L42)

### Integration Methods

```
```

**Integration Comparison:**

| Method           | Installation                    | Updates                | Bundle       | Use Case                |
| ---------------- | ------------------------------- | ---------------------- | ------------ | ----------------------- |
| Full NPM install | `npm install @ui8kit/core`      | `npm update`           | Full library | Complete library needed |
| Per-component    | `npx buildy-ui add button card` | Manual re-add          | Minimal      | Bundle optimization     |
| Git submodule    | `git submodule add`             | `git submodule update` | Full source  | Monorepo architecture   |
| Direct source    | Copy files manually             | Manual sync            | Custom       | Custom modifications    |

**Sources:** [README.md252-277](https://github.com/ui8kit/core/blob/2afe2195/README.md#L252-L277) [src/registry.json2-244](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L2-L244)

### Component Registry Structure

The [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json) file provides metadata for tooling automation:

**Registry Schema:**

```
interface Registry {
  version: string;
  items: ComponentItem[];
}

interface ComponentItem {
  name: string;              // Component identifier
  type: "registry:ui" | "registry:layout";
  description: string;       // Human-readable description
  dependencies?: string[];   // External package dependencies
  registryDependencies?: string[]; // Internal component dependencies
  files: string[];          // Source file paths
  target?: string;          // Installation target directory
}
```

**Example Entry:**

```
{
  "name": "card",
  "type": "registry:ui",
  "description": "Flexible card component with compound parts",
  "dependencies": [],
  "registryDependencies": ["block", "box"],
  "files": ["src/components/ui/card.tsx"],
  "target": "components/ui"
}
```

This metadata enables:

- Per-component installation via `buildy-ui` CLI
- Automatic dependency resolution
- Programmatic component discovery
- Build tool integration

**Sources:** [src/registry.json1-244](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L244) [README.md251-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L251-L276)

---

## Cross-Cutting Concerns

### TypeScript Configuration

The TypeScript setup balances strict type safety with developer ergonomics:

**Key Settings from [tsconfig.json](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json):**

| Setting          | Value       | Purpose                    |
| ---------------- | ----------- | -------------------------- |
| `target`         | `ES2022`    | Modern JavaScript features |
| `module`         | `ESNext`    | ES module support          |
| `jsx`            | `react-jsx` | React 17+ JSX transform    |
| `strict`         | `true`      | Maximum type safety        |
| `skipLibCheck`   | `true`      | Faster compilation         |
| `declaration`    | `true`      | Generate `.d.ts` files     |
| `declarationMap` | `true`      | Source map for types       |
| `outDir`         | `./dist`    | Build output directory     |

**Path Aliases:**

```
{
  "paths": {
    "@/*": ["./src/*"],
    "@/components/*": ["./src/components/*"],
    "@/core/*": ["./src/core/*"],
    "@/layouts/*": ["./src/layouts/*"]
  }
}
```

For detailed TypeScript configuration, see [TypeScript Configuration](#3.8).

**Sources:** [tsconfig.json1-30](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L30) [package.json19-25](https://github.com/ui8kit/core/blob/2afe2195/package.json#L19-L25)

### Theme System

The theme system provides dark mode support with automatic persistence:

**ThemeProvider Architecture:**

```
```

**Usage Pattern:**

```
// Wrap application
import { ThemeProvider, modernUITheme } from '@ui8kit/core';

<ThemeProvider theme={modernUITheme}>
  <App />
</ThemeProvider>

// Access theme in components
import { useTheme } from '@ui8kit/core';

const { isDarkMode, toggleDarkMode } = useTheme();
```

For detailed theme implementation, see [Dark Mode](#5.4).

**Sources:** [src/themes/providers/ThemeProvider.tsx1-109](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L1-L109) [README.md219-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L219-L249)

### Accessibility Features

The library implements accessibility through semantic HTML and ARIA patterns:

**Accessibility Strategies:**

1. **Semantic HTML5 elements:** `<Block component="section">`, `<Block component="nav">`
2. **Heading hierarchy:** `<Title order={1}>` renders `<h1>`, ensuring proper document outline
3. **Keyboard navigation:** Interactive components support Tab, Enter, Space
4. **ARIA attributes:** Accordion and Sheet components include proper ARIA labels
5. **Focus management:** Focus visible states and logical tab order
6. **Color contrast:** Design system colors meet WCAG AA standards

**Sources:** [README.md14](https://github.com/ui8kit/core/blob/2afe2195/README.md#L14-L14) [src/components/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/)

---

## Subsection References

This architecture overview provides the foundation for understanding the library's structure. For detailed information on specific subsystems, see the following pages:

- [Core Components](#3.1) - Detailed documentation of the 5 core primitives
- [Variant System](#3.2) - Complete variant definitions and usage patterns
- [UI Components](#3.3) - Extended component implementations and prop forwarding
- [Layouts](#3.4) - Layout template patterns and composition strategies
- [Package Structure](#3.5) - Module exports, entry points, and distribution setup
- [Build System](#3.6) - TypeScript compilation, build scripts, and artifact generation
- [Component Registry](#3.7) - Registry system, metadata format, and tooling integration
- [TypeScript Configuration](#3.8) - Type system setup, path aliases, and compiler options

For API documentation of specific components and their props, see [API Reference](#4).

For development workflows and usage examples, see [Development Guide](#5).

**Sources:** [.devin/wiki.json45-133](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L45-L133) [README.md1-453](https://github.com/ui8kit/core/blob/2afe2195/README.md#L1-L453)

# ================================================================================

# FILE 10: architecture\package-structure.mdx
# ================================================================================
---
title: 'Package Structure'
description: 'UI8Kit Core package configuration - entry points, module exports, dependencies, and distribution setup for multiple integration methods'
---

# Package Structure

Relevant source files

- [.gitignore](https://github.com/ui8kit/core/blob/2afe2195/.gitignore)
- [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)
- [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json)

This document describes the configuration of the `@ui8kit/core` package, including entry points, module exports, dependencies, and distribution setup. It explains how the package.json configuration supports multiple integration methods (NPM installation, per-component installation via buildy-ui CLI, git submodules, and direct source copying).

For information about the build process that generates distribution files, see [Build System](#3.6). For details on the component registry system, see [Component Registry](#3.7).

---

## Package Metadata

The package is configured as an ES module library targeting modern JavaScript environments.

| Property      | Value                | Purpose                                  |
| ------------- | -------------------- | ---------------------------------------- |
| `name`        | `@ui8kit/core`       | Scoped NPM package identifier            |
| `version`     | `0.1.8`              | Semantic version (MAJOR.MINOR.PATCH)     |
| `type`        | `"module"`           | Declares ES module format (not CommonJS) |
| `license`     | `GPL-3.0`            | Open source license                      |
| `homepage`    | `https://buildy.tw/` | Documentation and tooling site           |
| `sideEffects` | `false`              | Enables tree-shaking optimization        |

The `type: "module"` declaration [package.json8](https://github.com/ui8kit/core/blob/2afe2195/package.json#L8-L8) ensures all `.js` files are treated as ES modules, requiring explicit `.js` extensions in import statements. The `sideEffects: false` flag [package.json30](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L30) indicates the package contains pure modules without side effects, allowing bundlers to safely remove unused code.

**Sources:** [package.json1-30](https://github.com/ui8kit/core/blob/2afe2195/package.json#L1-L30)

---

## Module Entry Points and Exports

The package defines a single default export entry point with dual-format resolution:

```
{
  "main": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  }
}
```

### Entry Point Resolution

```
Build Artifacts

File System

Package Resolution

Consumer Import

import { Button, Card } from '@ui8kit/core'

exports field

'.' entry point

import condition

types condition

dist/index.js
Runtime code

dist/index.d.ts
Type definitions

TypeScript Compiler

src/index.tsx

src/components/ui/*

src/layouts/*

src/core/ui/*
```

The `main` field [package.json31](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L31) provides backward compatibility for older tools, while the `exports` field [package.json33-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L33-L37) provides modern conditional exports. The `types` condition ensures TypeScript resolves type definitions correctly for both resolution strategies.

All components are exported from a single barrel file at [src/index.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/index.tsx) which is compiled to [dist/index.js](https://github.com/ui8kit/core/blob/2afe2195/dist/index.js) This provides a unified import surface:

```
// All exports available from single entry point
import { Button, Card, Block, Box, DashLayout } from '@ui8kit/core';
```

**Sources:** [package.json31-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L37)

---

## Distribution Files

The package distributes only essential files, configured via the `files` field:

```
{
  "files": [
    "dist/**/*",
    "README.md",
    "LICENSE"
  ]
}
```

### Distribution Manifest

```
Excluded Files

Included Files

Published Package

excluded

excluded

excluded

excluded

excluded

@ui8kit/Unsupported markdown: link

dist/
Compiled output

dist/index.js
Main entry point

dist/index.d.ts
Type definitions

dist/components/

dist/layouts/

dist/core/

dist/themes/

README.md
Documentation

LICENSE
GPL-3.0 terms

src/
Source code

node_modules/

scripts/

tsconfig.json
eslint.config.js

src/registry.json
```

The `files` array [package.json39-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L43) explicitly includes only the compiled `dist/` directory and documentation files. Source files in `src/`, build scripts, and development configuration are excluded from the published package.

The `.gitignore` file [.gitignore9-10](https://github.com/ui8kit/core/blob/2afe2195/.gitignore#L9-L10) excludes `dist/` from version control, as it contains generated artifacts. During NPM publication, the build process generates `dist/` and includes it in the package tarball.

**Sources:** [package.json39-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L43) [.gitignore9-10](https://github.com/ui8kit/core/blob/2afe2195/.gitignore#L9-L10)

---

## Dependencies

Dependencies are organized into three categories based on when and how they are required:

### Runtime Dependencies

```
Component Usage

Runtime Dependencies

class-variance-authority@^0.7.1
Variant resolution engine

clsx@^2.1.1
Conditional class names

lucide-react@^0.525.0
Icon components

react-resizable-panels@^3.0.6
DashLayout panels

tailwind-merge@^3.3.1
Class deduplication

All Components
Use CVA + CLSX + TWMerge

Sheet Component

Accordion Component

DashLayout Component
```

Runtime dependencies [package.json48-54](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L54) are bundled with the package and installed automatically:

| Dependency                 | Version    | Used By                      | Purpose                                   |
| -------------------------- | ---------- | ---------------------------- | ----------------------------------------- |
| `class-variance-authority` | `^0.7.1`   | All components               | CVA-based variant system                  |
| `clsx`                     | `^2.1.1`   | All components               | Conditional className construction        |
| `lucide-react`             | `^0.525.0` | Sheet, Accordion, DashLayout | Icon rendering (X, ChevronDown, etc.)     |
| `react-resizable-panels`   | `^3.0.6`   | DashLayout                   | Resizable sidebar panels                  |
| `tailwind-merge`           | `^3.3.1`   | All components               | Deduplicates conflicting Tailwind classes |

These dependencies appear in [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json) component metadata. For example, Sheet lists `lucide-react` [src/registry.json54-55](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L54-L55) and DashLayout lists both `lucide-react` and `react-resizable-panels` [src/registry.json266-267](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L266-L267)

### Peer Dependencies

```
@ui8kit/core

Peer Dependencies

Consumer Application

installs

installs

installs

uses from peer

uses from peer

Application package.json

node_modules/

react@^18.0.0 || ^19.0.0

react-dom@^18.0.0 || ^19.0.0

@ui8kit/Unsupported markdown: link

Components require React
```

Peer dependencies [package.json55-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L55-L58) must be provided by the consuming application:

```
{
  "peerDependencies": {
    "react": "^18.0.0 || ^19.0.0",
    "react-dom": "^18.0.0 || ^19.0.0"
  }
}
```

The version range supports both React 18 and 19, providing flexibility for applications during the React 19 migration period. The library does not bundle React, avoiding version conflicts and duplicate React instances.

### Development Dependencies

Development dependencies [package.json59-66](https://github.com/ui8kit/core/blob/2afe2195/package.json#L59-L66) are used only during library development and testing:

| Dependency        | Version   | Purpose                 |
| ----------------- | --------- | ----------------------- |
| `react`           | `^19.1.0` | Development and testing |
| `react-dom`       | `^19.1.0` | Development and testing |
| `bun-types`       | `^1.1.29` | Bun runtime types       |
| `typescript`      | `^5.6.3`  | TypeScript compilation  |
| `@babel/parser`   | `^7.28.4` | CVA extractor script    |
| `@babel/traverse` | `^7.28.4` | CVA extractor script    |

React and ReactDOM appear in both `peerDependencies` and `devDependencies`. The `devDependencies` versions are used for local development, while `peerDependencies` declare compatibility requirements for consumers.

**Sources:** [package.json48-66](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L66) [src/registry.json54-55](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L54-L55) [src/registry.json266-267](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L266-L267)

---

## Build Scripts

The `scripts` section defines commands for development and publication workflows:

```
{
  "scripts": {
    "build": "tsc -p tsconfig.json",
    "type-check": "tsc --noEmit",
    "lint": "eslint src --ext .ts,.tsx",
    "lint:fix": "eslint src --ext .ts,.tsx --fix",
    "scan": "bunx buildy-ui@latest scan",
    "build:r": "bunx buildy-ui@latest build",
    "publish": "cd packages/registry && npm version patch && npm publish"
  }
}
```

### Build Script Flow

```
Build Scripts

Development Scripts

Publication Scripts

npm run publish

npm version patch

npm publish

NPM Registry

Registry Scripts

npm run scan
buildy-ui scan

src/registry.json

npm run build:r
buildy-ui build

npm run type-check
Validate types without output

npm run lint
Check code quality

npm run lint:fix
Auto-fix issues

npm run build
Compile TypeScript

tsc -p tsconfig.json

dist/ directory
```

| Script       | Command                                                    | Purpose                                  |
| ------------ | ---------------------------------------------------------- | ---------------------------------------- |
| `build`      | `tsc -p tsconfig.json`                                     | Compiles TypeScript to `dist/`           |
| `type-check` | `tsc --noEmit`                                             | Validates types without generating files |
| `lint`       | `eslint src --ext .ts,.tsx`                                | Checks code quality                      |
| `lint:fix`   | `eslint src --ext .ts,.tsx --fix`                          | Auto-fixes linting issues                |
| `scan`       | `bunx buildy-ui@latest scan`                               | Updates component registry metadata      |
| `build:r`    | `bunx buildy-ui@latest build`                              | Builds registry package                  |
| `publish`    | `cd packages/registry && npm version patch && npm publish` | Publishes to NPM                         |

The `build` script [package.json22](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L22) is the primary compilation command, generating ES2022 modules and TypeScript declarations in `dist/`. The `scan` script [package.json26](https://github.com/ui8kit/core/blob/2afe2195/package.json#L26-L26) updates [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json) with component metadata, enabling per-component installation via `npx buildy-ui add [component]`.

**Sources:** [package.json21-28](https://github.com/ui8kit/core/blob/2afe2195/package.json#L21-L28)

---

## Integration Methods Supported

The package structure supports four distinct integration methods, each using different aspects of the package configuration:

### Integration Method Matrix

```
Installed Artifacts

Package Configuration Used

Integration Methods

Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list

main + exports
package.json:31-37

files field
package.json:39-43

dependencies
package.json:48-54

peerDependencies
package.json:55-58

src/registry.json
Component metadata

items[] array
18 components

src/ directory
TypeScript source

repository.url
package.json:45

node_modules/@ui8kit/core/
dist/, README, LICENSE

components/ui/
Selected components

packages/@ui8kit/core/
Full source

src/components/
Copied source
```

### Method 1: Full NPM Installation

Uses the complete package configuration:

- Resolves entry points via `main` and `exports` fields [package.json31-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L37)
- Installs files specified in `files` array [package.json39-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L43)
- Installs all runtime dependencies [package.json48-54](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L54)
- Requires peer dependencies [package.json55-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L55-L58)

Installed location: `node_modules/@ui8kit/core/`

### Method 2: Per-Component Installation

Uses the component registry:

- Reads component metadata from `src/registry.json` [src/registry.json3-276](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L3-L276)
- Installs only specified component files to `components/ui/` or `layouts/`
- Installs component-specific dependencies (e.g., `lucide-react` for Sheet)

Command: `npx buildy-ui add [component]`

### Method 3: Git Submodule

Uses repository URL:

- Clones repository via `repository.url` [package.json45](https://github.com/ui8kit/core/blob/2afe2195/package.json#L45-L45)
- Provides access to full source tree in `src/`
- Requires manual dependency management

Installed location: `packages/@ui8kit/core/` (typical monorepo pattern)

### Method 4: Direct Source Copy

Uses source files directly:

- Copies `src/components/` or specific components
- Requires manual dependency installation
- Enables custom modifications

Installed location: Application's `src/` directory

**Sources:** [package.json31-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L58) [src/registry.json1-281](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L281)

---

## Repository Configuration

The `repository` field enables source code discovery and git-based integrations:

```
{
  "repository": {
    "url": "https://github.com/ui8kit/core.git",
    "type": "git"
  }
}
```

This configuration [package.json44-47](https://github.com/ui8kit/core/blob/2afe2195/package.json#L44-L47):

- Links NPM package to GitHub repository
- Enables `npm repo` command to open repository
- Supports git submodule integration via `git submodule add https://github.com/ui8kit/core.git`
- Provides source code visibility for transparency (GPL-3.0 license requirement)

**Sources:** [package.json44-47](https://github.com/ui8kit/core/blob/2afe2195/package.json#L44-L47)

---

## Publish Configuration

The `publishConfig` section controls NPM publication behavior:

```
{
  "publishConfig": {
    "access": "public"
  }
}
```

The `access: "public"` setting [package.json67-69](https://github.com/ui8kit/core/blob/2afe2195/package.json#L67-L69) is required for scoped packages (`@ui8kit/core`) to be publicly accessible on the NPM registry. Without this configuration, scoped packages default to private access.

**Sources:** [package.json67-69](https://github.com/ui8kit/core/blob/2afe2195/package.json#L67-L69)

# ================================================================================

# FILE 11: architecture\typescript-configuration.mdx
# ================================================================================
---
title: 'TypeScript Configuration'
description: 'UI8Kit Core TypeScript setup - compilation settings, type generation, path aliases, and module resolution configuration'
---

# TypeScript Configuration

Relevant source files

- [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)
- [tsconfig.json](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json)

This document provides a detailed explanation of the TypeScript configuration in `@ui8kit/core`, covering compilation settings, type generation, path aliases, and module resolution. The configuration is defined in [tsconfig.json1-26](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L26) and integrates with the build system documented in [Build System](#3.6).

For information about the distribution artifacts generated by TypeScript compilation, see [Package Structure](#3.5). For details on how types are used in component APIs, see [API Reference](#4).

---

## Configuration Overview

The TypeScript configuration serves three primary functions: compiling source code from `src/` to ES2022 modules in `dist/`, generating type declaration files (`.d.ts`) for IDE autocomplete and type checking, and establishing path aliases for clean imports.

**Diagram: TypeScript Compilation Pipeline**

```
Output Artifacts

Build Process

tsconfig.json Settings

Source Files

src/core/ui/*.tsx
Primitive components

src/components/ui/*.tsx
Composite components

src/layouts/*.tsx
Layout templates

src/core/variants/*.ts
CVA variant definitions

src/themes/**/*.tsx
Theme system

src/index.ts
Main entry point

rootDir: 'src'
Source root directory

outDir: './dist'
Output directory

target: 'ES2022'
ECMAScript version

module: 'ES2022'
Module system

declaration: true
Generate .d.ts files

declarationDir: './dist'
Type definition output

strict: true
All strict checks enabled

paths: @/* and @ui8kit/core
Path alias mappings

tsc -p tsconfig.json
TypeScript compiler

tsc --noEmit
Type validation only

dist/index.js
Compiled JavaScript

dist/index.d.ts
Type definitions

dist/components/**/*.js
Component modules

dist/components/**/*.d.ts
Component types
```

**Sources**: [tsconfig.json1-26](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L26) [package.json22-25](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L25)

---

## Compilation Target Settings

The configuration targets modern JavaScript environments with ES2022 output, avoiding transpilation of recent language features while maintaining broad compatibility.

**Compilation Settings Table**

| Setting            | Value                         | Purpose                                         | Line Reference                                                                        |
| ------------------ | ----------------------------- | ----------------------------------------------- | ------------------------------------------------------------------------------------- |
| `target`           | `ES2022`                      | Compile to ECMAScript 2022 syntax               | [tsconfig.json5](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L5-L5)    |
| `module`           | `ES2022`                      | Use ES2022 module system                        | [tsconfig.json6](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L6-L6)    |
| `lib`              | `["DOM", "ESNext", "ES2022"]` | Include DOM APIs and latest JavaScript features | [tsconfig.json14](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L14-L14) |
| `jsx`              | `react-jsx`                   | Use React 17+ automatic JSX runtime             | [tsconfig.json15](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L15-L15) |
| `moduleResolution` | `Bundler`                     | Modern bundler-compatible resolution            | [tsconfig.json7](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L7-L7)    |

### Target: ES2022

The `target: "ES2022"` setting [tsconfig.json5](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L5-L5) compiles TypeScript to ECMAScript 2022, which includes:

- Top-level await
- Class fields and private methods
- Static initialization blocks
- Error cause property
- `at()` method for arrays

This assumes consumers use modern browsers or Node.js 16+ environments.

### Module System: ES2022

The `module: "ES2022"` setting [tsconfig.json6](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L6-L6) generates ES modules with `.js` extensions, enabling tree-shaking in consumer applications. This aligns with the `"type": "module"` declaration in [package.json8](https://github.com/ui8kit/core/blob/2afe2195/package.json#L8-L8)

### Module Resolution: Bundler

The `moduleResolution: "Bundler"` setting [tsconfig.json7](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L7-L7) uses bundler-specific resolution that supports:

- Extensionless imports (`import { Button } from "./Button"`)
- Package exports field resolution
- Conditional exports for different environments
- Subpath patterns

This works seamlessly with modern bundlers like Vite, Webpack 5, and esbuild.

**Sources**: [tsconfig.json5-7](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L5-L7) [tsconfig.json14-15](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L14-L15) [package.json8](https://github.com/ui8kit/core/blob/2afe2195/package.json#L8-L8)

---

## Type System Configuration

The configuration enables all strict type checking options and generates declaration files for IDE integration.

**Type System Settings Table**

| Setting           | Value    | Purpose                                    | Line Reference                                                                        |
| ----------------- | -------- | ------------------------------------------ | ------------------------------------------------------------------------------------- |
| `strict`          | `true`   | Enable all strict type checks              | [tsconfig.json8](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L8-L8)    |
| `declaration`     | `true`   | Generate `.d.ts` type declarations         | [tsconfig.json17](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L17-L17) |
| `declarationDir`  | `./dist` | Output directory for type definitions      | [tsconfig.json18](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L18-L18) |
| `composite`       | `true`   | Enable project references                  | [tsconfig.json16](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L16-L16) |
| `skipLibCheck`    | `true`   | Skip type checking of declaration files    | [tsconfig.json10](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L10-L10) |
| `esModuleInterop` | `true`   | Enable CommonJS/ES module interoperability | [tsconfig.json9](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L9-L9)    |

### Strict Mode

The `strict: true` flag [tsconfig.json8](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L8-L8) enables all strict type checking options:

- `strictNullChecks`: Null and undefined are not assignable to other types
- `strictFunctionTypes`: Function parameters are checked contravariantly
- `strictBindCallApply`: Type-check `bind`, `call`, and `apply` methods
- `strictPropertyInitialization`: Class properties must be initialized
- `noImplicitAny`: Variables must have explicit types
- `noImplicitThis`: `this` expressions require explicit type
- `alwaysStrict`: Parse in strict mode and emit `"use strict"`

This prevents common errors and ensures type safety across the component library.

### Declaration Generation

The `declaration: true` setting [tsconfig.json17](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L17-L17) generates `.d.ts` files alongside compiled JavaScript. These type definitions:

- Enable IDE autocomplete for all exported components
- Provide inline documentation from JSDoc comments
- Support type checking in consumer TypeScript projects
- Power the `"types": "./dist/index.d.ts"` entry in [package.json32](https://github.com/ui8kit/core/blob/2afe2195/package.json#L32-L32)

**Diagram: Type Definition Generation Flow**

```
Consumer Usage

Generated Artifacts

Compiler Processing

Source TypeScript

*.tsx components
with JSDoc comments

*.ts utilities
with type exports

interface declarations
export type ButtonProps

tsc --declaration
Extract type information

Parse JSDoc comments
Convert to type annotations

dist/**/*.d.ts
Type declaration files

dist/index.d.ts
Main type entry point

VSCode IntelliSense
Autocomplete props

tsc type checking
in consumer projects

IDE hover tooltips
Show documentation
```

### Composite Projects

The `composite: true` flag [tsconfig.json16](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L16-L16) enables TypeScript project references, which:

- Allow faster incremental builds
- Enable dependency graphs between TypeScript projects
- Support monorepo architectures documented in [SUBMODULE\_GUIDE.md](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md)

**Sources**: [tsconfig.json8-10](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L8-L10) [tsconfig.json16-18](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L16-L18) [package.json32](https://github.com/ui8kit/core/blob/2afe2195/package.json#L32-L32)

---

## Path Alias Configuration

Path aliases enable clean imports using `@/` prefix and `@ui8kit/core` package reference.

**Path Alias Settings**

```
// From tsconfig.json:20-24
{
  "baseUrl": ".",
  "paths": {
    "@/*": ["./src/*"],
    "@ui8kit/core": ["./src/index"]
  }
}
```

### Base URL

The `baseUrl: "."` setting [tsconfig.json20](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L20-L20) establishes the project root as the base for all non-relative imports. This enables path resolution relative to the repository root.

### Path Mappings

The `paths` object [tsconfig.json21-24](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L21-L24) defines two alias patterns:

**Alias Table**

| Alias Pattern  | Resolves To   | Usage Example                                     | Purpose                  |
| -------------- | ------------- | ------------------------------------------------- | ------------------------ |
| `@/*`          | `./src/*`     | `import { Button } from "@/components/ui/Button"` | Internal source imports  |
| `@ui8kit/core` | `./src/index` | `import { Button } from "@ui8kit/core"`           | Main package entry point |

### Internal Imports: `@/*`

The `@/*` alias maps to `./src/*` [tsconfig.json22](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L22-L22) enabling imports like:

- `import { Block } from "@/core/ui/Block"`
- `import { spacingVariants } from "@/core/variants/spacing"`
- `import { ThemeProvider } from "@/themes/providers/ThemeProvider"`

This eliminates brittle relative paths (`../../../core/ui/Block`) and makes refactoring safer.

### Package Entry Point: `@ui8kit/core`

The `@ui8kit/core` alias maps to `./src/index` [tsconfig.json23](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L23-L23) allowing internal files to import from the package as consumers would. This is useful in:

- Example code and documentation
- Testing component composition
- Verifying the public API surface

**Diagram: Path Resolution Flow**

```
Runtime Module Resolution

Resolved File Paths

Path Resolution (tsconfig.json paths)

Import Statements

import { Button } from '@/components/ui/Button'

import { Block } from '@/core/ui/Block'

import { spacingVariants } from '@/core/variants/spacing'

import { ThemeProvider } from '@ui8kit/core'

baseUrl: '.'
Project root reference

@/* → ./src/*
Internal source mapping

@ui8kit/core → ./src/index
Package entry point

./src/components/ui/Button.tsx

./src/core/ui/Block.tsx

./src/core/variants/spacing.ts

./src/index.ts

dist/index.js
Compiled package entry

dist/components/ui/Button.js
Compiled component
```

**Sources**: [tsconfig.json20-24](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L20-L24)

---

## Build Output Configuration

The configuration controls where compiled files and type definitions are written.

**Output Settings Table**

| Setting          | Value    | Purpose                    | Line Reference                                                                        |
| ---------------- | -------- | -------------------------- | ------------------------------------------------------------------------------------- |
| `rootDir`        | `src`    | Source directory root      | [tsconfig.json13](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L13-L13) |
| `outDir`         | `./dist` | Compiled JavaScript output | [tsconfig.json19](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L19-L19) |
| `declarationDir` | `./dist` | Type definition output     | [tsconfig.json18](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L18-L18) |

### Root Directory

The `rootDir: "src"` setting [tsconfig.json13](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L13-L13) establishes `src/` as the root for compilation. This ensures the output directory structure mirrors the source:

```
src/
├── index.ts              → dist/index.js + dist/index.d.ts
├── core/
│   └── ui/
│       └── Block.tsx     → dist/core/ui/Block.js + dist/core/ui/Block.d.ts
└── components/
    └── ui/
        └── Button.tsx    → dist/components/ui/Button.js + dist/components/ui/Button.d.ts
```

### Output Directory

The `outDir: "./dist"` setting [tsconfig.json19](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L19-L19) writes compiled JavaScript to `dist/`. This directory is:

- Included in NPM package via `"files": ["dist/**/*"]` in [package.json39-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L43)
- Referenced by `"main": "./dist/index.js"` in [package.json31](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L31)
- Excluded from version control via `.gitignore`
- Generated by the `npm run build` script in [package.json22](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L22)

### Declaration Directory

The `declarationDir: "./dist"` setting [tsconfig.json18](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L18-L18) writes `.d.ts` files alongside `.js` files in the same directory structure. This colocation:

- Simplifies package distribution (single `dist/` folder)
- Matches consumer expectations for type locations
- Enables the `"types": "./dist/index.d.ts"` entry in [package.json32](https://github.com/ui8kit/core/blob/2afe2195/package.json#L32-L32)

**Sources**: [tsconfig.json13](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L13-L13) [tsconfig.json18-19](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L18-L19) [package.json31-32](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L32) [package.json39-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L39-L43)

---

## Include and Exclude Patterns

The configuration specifies which files to compile and which to ignore.

**File Pattern Settings**

```
// From tsconfig.json:2-3
{
  "include": ["./src"],
  "exclude": ["./lib", "./dist"]
}
```

### Include Pattern

The `include: ["./src"]` setting [tsconfig.json2](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L2-L2) compiles all TypeScript files within the `src/` directory:

- `src/**/*.ts` - All TypeScript files
- `src/**/*.tsx` - All React component files
- `src/**/*.json` - JSON modules (via `resolveJsonModule: true`)

This captures:

- Core primitives in `src/core/ui/`
- Variant definitions in `src/core/variants/`
- UI components in `src/components/ui/`
- Layout templates in `src/layouts/`
- Theme system in `src/themes/`
- Registry metadata in `src/registry.json`

### Exclude Pattern

The `exclude: ["./lib", "./dist"]` setting [tsconfig.json3](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L3-L3) prevents compilation of:

- `./lib/` - Generated artifacts like `core-classes.json` documented in [Build System](#3.6)
- `./dist/` - Previously compiled output to avoid recursive compilation

**Sources**: [tsconfig.json2-3](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L2-L3)

---

## Special Compiler Options

Several additional options configure TypeScript's behavior for specific use cases.

**Special Options Table**

| Setting             | Value                  | Purpose                    | Line Reference                                                                        |
| ------------------- | ---------------------- | -------------------------- | ------------------------------------------------------------------------------------- |
| `types`             | `["bun-types"]`        | Include Bun runtime types  | [tsconfig.json11](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L11-L11) |
| `resolveJsonModule` | `true`                 | Allow importing JSON files | [tsconfig.json12](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L12-L12) |
| `esModuleInterop`   | `true`                 | Enable CommonJS interop    | [tsconfig.json9](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L9-L9)    |
| `skipLibCheck`      | `true`                 | Skip library type checking | [tsconfig.json10](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L10-L10) |
| `sideEffects`       | `false` (package.json) | Enable tree-shaking        | [package.json30](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L30)   |

### Bun Runtime Types

The `types: ["bun-types"]` setting [tsconfig.json11](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L11-L11) includes type definitions for the Bun runtime. This enables:

- Type checking for Bun-specific APIs
- Support for `bun` commands in scripts like `bunx buildy-ui@latest scan` in [package.json26](https://github.com/ui8kit/core/blob/2afe2195/package.json#L26-L26)
- Development with Bun's fast TypeScript transpiler

The `bun-types` dependency is declared in [package.json62](https://github.com/ui8kit/core/blob/2afe2195/package.json#L62-L62)

### JSON Module Resolution

The `resolveJsonModule: true` setting [tsconfig.json12](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L12-L12) allows importing JSON files as typed modules:

```
// Import registry metadata with types
import registry from "@/registry.json";

// TypeScript infers type from JSON structure
const component = registry.registry.find(c => c.name === "button");
```

This is used to import `src/registry.json` throughout the codebase, as documented in [Component Registry](#3.7).

### CommonJS Interoperability

The `esModuleInterop: true` setting [tsconfig.json9](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L9-L9) enables seamless imports of CommonJS modules in ES module syntax:

```
// Works even if package uses module.exports
import cva from "class-variance-authority";
```

This is essential for compatibility with dependencies like `class-variance-authority` and `clsx` declared in [package.json48-53](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L53)

### Library Type Checking

The `skipLibCheck: true` setting [tsconfig.json10](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L10-L10) skips type checking of `.d.ts` files in `node_modules/`. This:

- Speeds up compilation significantly
- Avoids errors from incompatible library types
- Focuses type checking on project source code

The library declares peer dependencies for React 18/19 in [package.json55-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L55-L58) relying on consumer projects to provide compatible versions.

**Sources**: [tsconfig.json9-12](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L9-L12) [package.json30](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L30) [package.json48-53](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L53) [package.json55-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L55-L58) [package.json62](https://github.com/ui8kit/core/blob/2afe2195/package.json#L62-L62)

---

## Integration with Build Scripts

The TypeScript configuration integrates with several build scripts defined in `package.json`.

**Build Script Integration Diagram**

```
Output/Validation

tsconfig.json Settings Applied

TypeScript Compiler Modes

npm Scripts (package.json)

npm run build
tsc -p tsconfig.json

npm run type-check
tsc --noEmit

npm run lint
eslint src --ext .ts,.tsx

npm run lint:fix
eslint src --ext .ts,.tsx --fix

Full Compilation
Generate .js + .d.ts

Type Validation Only
No output files

All 20+ settings
from tsconfig.json

Strict type checks
strict: true

Declaration generation
declaration: true

Path resolution
@/* and @ui8kit/core

dist/
Compiled modules

Type errors reported
Exit code 1 on error

ESLint errors
Coding standards
```

### Build Script

The `npm run build` command [package.json22](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L22) executes:

```
tsc -p tsconfig.json
```

This:

1. Reads all settings from `tsconfig.json`
2. Compiles `src/**/*.ts` and `src/**/*.tsx` to `dist/`
3. Generates `.d.ts` type definitions in `dist/`
4. Applies path alias transformations
5. Enables strict type checking
6. Exits with code 1 if any type errors are found

The output is consumed by the NPM package distribution documented in [Package Structure](#3.5).

### Type Check Script

The `npm run type-check` command [package.json23](https://github.com/ui8kit/core/blob/2afe2195/package.json#L23-L23) executes:

```
tsc --noEmit
```

The `--noEmit` flag:

- Performs full type checking without generating files
- Validates types in local development
- Runs faster than full compilation
- Useful in CI/CD pipelines before deployment

This script verifies type safety without the overhead of emitting JavaScript.

### Lint Script Integration

The `npm run lint` command [package.json24](https://github.com/ui8kit/core/blob/2afe2195/package.json#L24-L24) runs ESLint on TypeScript files:

```
eslint src --ext .ts,.tsx
```

ESLint respects the TypeScript configuration through:

- Understanding path aliases defined in `tsconfig.json`
- Parsing TypeScript syntax (`.ts`, `.tsx` extensions)
- Accessing type information for advanced linting rules

The `npm run lint:fix` variant [package.json25](https://github.com/ui8kit/core/blob/2afe2195/package.json#L25-L25) automatically fixes fixable issues.

**Sources**: [package.json22-25](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L25) [tsconfig.json1-26](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L26)

---

## Summary

The TypeScript configuration in `@ui8kit/core` establishes a modern, type-safe build pipeline:

1. **Compilation Target**: ES2022 modules with bundler-friendly resolution
2. **Type Generation**: Full declaration files (`.d.ts`) for IDE integration
3. **Strict Checking**: All strict mode options enabled for type safety
4. **Path Aliases**: `@/*` for internal imports, `@ui8kit/core` for package reference
5. **Output Structure**: `dist/` directory mirroring `src/` structure
6. **JSON Support**: Import registry metadata as typed modules
7. **Build Integration**: Scripts for compilation, type checking, and linting

This configuration supports the three-layer architecture documented in [Architecture](#3) while enabling multiple distribution methods described in [Package Structure](#3.5).

**Sources**: [tsconfig.json1-26](https://github.com/ui8kit/core/blob/2afe2195/tsconfig.json#L1-L26) [package.json22-25](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L25) [package.json30-43](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L43)

# ================================================================================

# FILE 12: architecture\ui-components.mdx
# ================================================================================
---
title: 'UI Components Architecture'
description: 'UI8Kit Core Layer 2 composite components - Button, Card, Badge, Accordion and other UI elements with prop forwarding and variant integration'
---

# UI Components

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/components/README.md](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md)
- [src/components/ui/Accordion/Accordion.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx)
- [src/components/ui/Badge/Badge.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx)

## Purpose and Scope

This page documents the **Layer 2** composite UI components located in `src/components/ui/`. These 15 components provide a developer-friendly API that extends the core primitives with prop forwarding, variant integration, and semantic composition patterns.

For documentation of the underlying primitives (Box, Block, Grid, Flex, Stack), see [Core Components](#3.1). For the variant system that powers styling, see [Variant System](#3.2). For complete API reference including all props, see [UI Components API](#4.2).

**Sources:** [README.md105-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L105-L145) [src/components/README.md1-20](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L1-L20) [.devin/wiki.json75-84](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L75-L84)

---

## Architecture Position

UI Components occupy **Layer 2** in the three-layer architecture, sitting between core primitives and layout templates:

```
Foundation: Variant System

Layer 1: Core Primitives

Layer 2: UI Components (Current)

extends

extends

uses

uses

imports & applies

forwards props

forwards props

imports & applies

forwards props

forwards props

forwards props

forwards props

forwards props

Button
src/components/ui/Button

Card + Compound Parts
src/components/ui/Card

Badge
src/components/ui/Badge

Text
src/components/ui/Text

Title
src/components/ui/Title

Icon
src/components/ui/Icon

Image
src/components/ui/Image

Group
src/components/ui/Group

Container
src/components/ui/Container

Sheet
src/components/ui/Sheet

Accordion
src/components/ui/Accordion

BaseButton
src/core/ui/Button

BaseCard
src/core/ui/Card

Box
src/core/ui/Box

Block
src/core/ui/Block

spacingVariants
src/core/variants/spacing.ts

roundedVariants
src/core/variants/rounded.ts

shadowVariants
src/core/variants/shadow.ts

buttonSizeVariants
buttonStyleVariants

badgeSizeVariants
badgeStyleVariants
```

**Sources:** [README.md62-79](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L79) [README.md105-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L105-L145) [src/components/README.md8-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L8-L19)

---

## Core Principles

### 1. Prop Forwarding Architecture

UI components extend base primitives by **forwarding variant props** while adding component-specific functionality. This pattern enables developers to use spacing, layout, and styling props directly without managing `className`:

```
Developer Code
<Badge p='md' rounded='lg'
variant='success' />

Badge Component
src/components/ui/Badge/Badge.tsx

Variant Props
p, m, rounded, shadow, border

Component Props
variant, size, dot
leftSection, rightSection

BaseBadge
src/core/ui/Badge

CVA Resolution
spacingVariants()
roundedVariants()
badgeStyleVariants()

Rendered DOM
<div class='inline-flex
p-4 rounded-lg...'
data-class='badge' />
```

**Sources:** [src/components/ui/Badge/Badge.tsx1-96](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L1-L96) [src/components/README.md8-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L8-L19)

### 2. TypeScript Type Composition

Components achieve type safety by **composing interfaces** from multiple variant type sources:

```
BadgeProps Interface

React.HTMLAttributes<HTMLDivElement>
Standard HTML props

Pick<VariantSpacingProps, 'm' | 'mx' | 'my'>
Selected spacing props

RoundedProps
rounded?: 'none' | 'sm' | 'md' | 'lg' | 'xl'...

ShadowProps
shadow?: 'none' | 'sm' | 'md' | 'lg'...

BorderProps
border, borderTop, borderBottom...

BadgeSizeProps
size?: 'default' | 'sm' | 'lg'

BadgeStyleProps
variant?: 'default' | 'secondary'...

Custom Props
leftSection, rightSection, dot
```

**Sources:** [src/components/ui/Badge/Badge.tsx20-32](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L20-L32) [src/components/README.md206-221](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L206-L221)

### 3. data-class Convention

All UI components apply **semantic `data-class` attributes** for consistent DOM targeting and testing. This convention enables CSS selectors and test queries without relying on dynamically generated class names:

| Component | Root data-class          | Sub-component data-classes                                                     |
| --------- | ------------------------ | ------------------------------------------------------------------------------ |
| Badge     | `data-class="badge"`     | `badge-dot`, `badge-left-section`, `badge-right-section`                       |
| Card      | `data-class="card"`      | `card-header`, `card-title`, `card-description`, `card-content`, `card-footer` |
| Accordion | `data-class="accordion"` | `accordion-item`, `accordion-trigger`, `accordion-content`                     |
| Button    | `data-class="button"`    | `button-left-section`, `button-right-section`                                  |

**Sources:** [src/components/ui/Badge/Badge.tsx59-92](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L59-L92) [src/components/ui/Accordion/Accordion.tsx67-182](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L67-L182) [src/components/README.md223-235](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L223-L235)

### 4. Compound Component Pattern

Complex components use **nested sub-components** with shared context for flexible composition:

```
Card
Provides styling context

Card.Header
data-class='card-header'

Card.Title
data-class='card-title'

Card.Description
data-class='card-description'

Card.Content
data-class='card-content'

Card.Footer
data-class='card-footer'

Accordion
Manages open/closed state

AccordionContext
value, onItemClick, type

AccordionItem
Provides item value

AccordionItemContext
value string

AccordionTrigger
Reads contexts, toggles

AccordionContent
Conditional rendering
```

**Sources:** [src/components/ui/Accordion/Accordion.tsx9-182](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L9-L182) [README.md17](https://github.com/ui8kit/core/blob/2afe2195/README.md#L17-L17) [README.md125-144](https://github.com/ui8kit/core/blob/2afe2195/README.md#L125-L144)

---

## Complete Component Catalog

The library provides 15 composite UI components organized by functional category:

| Component     | Location                      | Base Primitive | Primary Purpose              | Key Variants                                           |
| ------------- | ----------------------------- | -------------- | ---------------------------- | ------------------------------------------------------ |
| **Button**    | `src/components/ui/Button`    | `BaseButton`   | Interactive actions          | `buttonStyleVariants`, `buttonSizeVariants`            |
| **Card**      | `src/components/ui/Card`      | `BaseCard`     | Content containers           | `spacingVariants`, `roundedVariants`, `shadowVariants` |
| **Badge**     | `src/components/ui/Badge`     | `BaseBadge`    | Status indicators            | `badgeSizeVariants`, `badgeStyleVariants`              |
| **Text**      | `src/components/ui/Text`      | `Box`          | Semantic text elements       | `typographyVariants`, `colorVariants`                  |
| **Title**     | `src/components/ui/Title`     | `Box`          | Heading hierarchy (h1-h6)    | `typographyVariants`, `colorVariants`                  |
| **Container** | `src/components/ui/Container` | `Block`        | Responsive containers        | `layoutVariants`, `spacingVariants`                    |
| **Icon**      | `src/components/ui/Icon`      | `Box`          | SVG icon wrapper             | `colorVariants`, `spacingVariants`                     |
| **Image**     | `src/components/ui/Image`     | `Box`          | Optimized images             | `roundedVariants`, `shadowVariants`, `layoutVariants`  |
| **Group**     | `src/components/ui/Group`     | `Flex`         | Horizontal grouping          | `flexVariants`, `spacingVariants`                      |
| **Stack**     | `src/components/ui/Stack`     | `Flex`         | Vertical/horizontal stacking | `flexVariants`, `spacingVariants`                      |
| **Grid**      | `src/components/ui/Grid`      | `Grid`         | CSS Grid layouts             | `gridVariants`, `spacingVariants`                      |
| **Sheet**     | `src/components/ui/Sheet`     | `Block`        | Drawer/sheet overlays        | `layoutVariants`, `shadowVariants`                     |
| **Accordion** | `src/components/ui/Accordion` | Context-based  | Expandable sections          | `flexVariants`, `layoutVariants`                       |
| **Flex**      | `src/components/ui/Flex`      | `Flex`         | Flexbox layouts              | `flexVariants`, `spacingVariants`                      |
| **Block**     | `src/components/ui/Block`     | `Block`        | Semantic sections            | All variants via forwarding                            |

**Sources:** [README.md370-386](https://github.com/ui8kit/core/blob/2afe2195/README.md#L370-L386) [src/components/README.md21-203](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L21-L203)

---

## Prop Forwarding Implementation

### Destructuring and Forwarding Pattern

UI components use a consistent pattern for prop forwarding illustrated by the Badge implementation:

```
Badge Props Object
{variant, size, rounded,
m, mx, my, shadow,
border, className, ...rest}

Destructure Props
Extract known props
Collect ...rest

Apply CVA Variants
badgeStyleVariants({variant})
badgeSizeVariants({size})
spacingVariants({m, mx, my})
roundedVariants({rounded})
shadowVariants({shadow})

Merge with cn()
Base classes +
variant classes +
custom className

Forward to BaseBadge
className={merged}
...rest props
```

**Implementation example from Badge:**

[src/components/ui/Badge/Badge.tsx34-95](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L34-L95)

Key characteristics:

1. **Selective destructuring** - Extract only the variant props the component uses
2. **Spread operator** - Collect remaining HTML attributes in `...props`
3. **CVA resolution** - Apply each variant function with corresponding prop
4. **Class merging** - Use `cn()` utility to merge all class strings
5. **Forwarding** - Pass merged className and spread props to base component

**Sources:** [src/components/ui/Badge/Badge.tsx34-95](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L34-L95)

---

## Variant Integration Patterns

### Multi-Variant Composition

Components typically integrate 3-7 variant categories simultaneously:

```
Component Props
(e.g., Card, Badge, Button)

Core Styling Variants

spacingVariants
p, px, py, m, mx, my

roundedVariants
rounded: 'none' to 'full'

shadowVariants
shadow: 'none' to '2xl'

borderVariants
border, borderTop, etc.

Component-Specific Variants

sizeVariants
size: 'sm' | 'md' | 'lg'

styleVariants
variant: 'default' | 'primary'...

Layout Variants

layoutVariants
w: 'full' | 'auto' | 'fit'
```

### Import and Application Pattern

Each UI component follows this import structure:

```
// 1. Import base primitive
import { Badge as BaseBadge } from "@ui8kit/core";

// 2. Import variant functions
import {
  spacingVariants,
  roundedVariants,
  shadowVariants,
  borderVariants,
  badgeSizeVariants,    // Component-specific
  badgeStyleVariants,   // Component-specific
} from "@ui8kit/core";

// 3. Import variant prop types
import type {
  VariantSpacingProps,
  RoundedProps,
  ShadowProps,
  BorderProps,
  BadgeSizeProps,
  BadgeStyleProps,
} from "@ui8kit/core";

// 4. Import cn utility for class merging
import { cn } from "@ui8kit/core";
```

**Sources:** [src/components/ui/Badge/Badge.tsx1-18](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L1-L18) [src/components/ui/Accordion/Accordion.tsx5-7](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L5-L7)

---

## Type Safety Architecture

### Interface Composition Strategy

UI components compose their TypeScript interfaces from multiple sources using `Pick` utility types for selective prop inclusion:

```
Component Props Interface

Base HTML Interface
React.HTMLAttributes<T>
onClick, onMouseEnter, etc.

Selective Variant Props

Pick<VariantSpacingProps,
'p' | 'px' | 'py' | 'm'>

Pick<VariantLayoutProps,
'w' | 'h'>

Pick<VariantFlexProps,
'gap' | 'direction'>

Full Variant Props

RoundedProps
All rounded values

ShadowProps
All shadow values

Component-Specific Props

Custom Interface
leftSection?: ReactNode
rightSection?: ReactNode
dot?: boolean
```

### Example: Badge Type Composition

[src/components/ui/Badge/Badge.tsx20-32](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L20-L32)

This pattern achieves:

- **Selective inclusion** - Only expose spacing props needed (m, mx, my), not all padding props
- **Type inheritance** - Extend base HTML props for event handlers
- **Variant integration** - Include all props from variant interfaces
- **Custom extension** - Add component-specific props (leftSection, rightSection, dot)

### Example: Accordion Type Composition

[src/components/ui/Accordion/Accordion.tsx26-32](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L26-L32) [src/components/ui/Accordion/Accordion.tsx91-93](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L91-L93)

Demonstrates:

- **Controlled/uncontrolled** - Support both value patterns
- **Selective width** - Pick only `w` from layout variants
- **Context typing** - Type-safe context values for compound components

**Sources:** [src/components/ui/Badge/Badge.tsx20-32](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Badge/Badge.tsx#L20-L32) [src/components/ui/Accordion/Accordion.tsx26-93](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L26-L93)

---

## Compound Component Implementation

### Context-Based State Sharing

Complex components like Accordion use React Context for state management across sub-components:

```
Root Component
(Accordion, Sheet)

Context Provider
value={{state, actions}}

Sub-Component 1
(AccordionItem)

Sub-Component 2
(AccordionTrigger)

Sub-Component 3
(AccordionContent)

useContext Hook
Access state

useContext Hook
Access actions

useContext Hook
Access state
```

### Accordion Implementation Pattern

The Accordion component demonstrates a two-level context hierarchy:

1. **AccordionContext** - Manages global accordion state (open items, click handlers)

   - [src/components/ui/Accordion/Accordion.tsx9-24](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L9-L24)

2. **AccordionItemContext** - Provides item-specific value to triggers/content

   - [src/components/ui/Accordion/Accordion.tsx77-89](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L77-L89)

3. **State management** - Supports both controlled and uncontrolled modes

   - [src/components/ui/Accordion/Accordion.tsx36-60](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L36-L60)

4. **Sub-component coordination** - Trigger reads context to toggle, content reads to render

   - [src/components/ui/Accordion/Accordion.tsx125-153](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L125-L153)
   - [src/components/ui/Accordion/Accordion.tsx157-182](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L157-L182)

**Sources:** [src/components/ui/Accordion/Accordion.tsx9-182](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Accordion/Accordion.tsx#L9-L182)

### Card Compound Pattern

Card uses a simpler pattern without context, relying on prop composition:

```
Card (root container with variants)
├── Card.Header (semantic header section)
│   ├── Card.Title (heading element)
│   └── Card.Description (muted text)
├── Card.Content (main content area)
└── Card.Footer (action area)
```

Each sub-component:

- Receives all variant props independently
- Applies semantic `data-class` attributes
- Forwards refs for DOM access
- Extends base primitives

**Sources:** [README.md125-144](https://github.com/ui8kit/core/blob/2afe2195/README.md#L125-L144) [src/components/README.md96-117](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L96-L117)

---

## Usage Patterns

### Basic Component Usage

Simple components with variant props:

```
// Badge with variants
<Badge 
  variant="success" 
  size="sm" 
  rounded="full"
  m="xs"
  dot
>
  Active
</Badge>

// Button with sections and variants
<Button 
  variant="primary" 
  size="lg"
  rounded="md"
  shadow="sm"
  leftSection={<Icon lucideIcon={Heart} />}
>
  Save
</Button>
```

### Compound Component Composition

Complex components with nested structure:

```
// Card with all sub-components
<Card p="lg" rounded="xl" shadow="md" bg="card">
  <Card.Header>
    <Card.Title>Dashboard</Card.Title>
    <Card.Description>Overview of your account</Card.Description>
  </Card.Header>
  <Card.Content>
    <Stack gap="md">
      {/* Content here */}
    </Stack>
  </Card.Content>
  <Card.Footer>
    <Group gap="md" justify="end">
      <Button variant="secondary">Cancel</Button>
      <Button variant="primary">Save Changes</Button>
    </Group>
  </Card.Footer>
</Card>

// Accordion with state management
<Accordion type="single" collapsible w="full">
  <AccordionItem value="item-1" gap="sm">
    <AccordionTrigger>Section 1</AccordionTrigger>
    <AccordionContent>
      Content for section 1
    </AccordionContent>
  </AccordionItem>
  <AccordionItem value="item-2" gap="sm">
    <AccordionTrigger>Section 2</AccordionTrigger>
    <AccordionContent>
      Content for section 2
    </AccordionContent>
  </AccordionItem>
</Accordion>
```

### Layout Component Usage

Responsive layouts with variant props:

```
// Container with sizing
<Container size="lg" px="md" centered>
  <Stack gap="xl" align="stretch">
    {/* Page content */}
  </Stack>
</Container>

// Grid layout
<Grid cols="1-2-3" gap="lg" p="md">
  <GridCol span={2}>Wide content</GridCol>
  <GridCol>Regular content</GridCol>
</Grid>

// Group for horizontal layout
<Group gap="md" align="center" justify="between">
  <Title order={2}>Page Title</Title>
  <Button>Action</Button>
</Group>
```

**Sources:** [README.md121-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L121-L145) [src/components/README.md23-203](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L23-L203)

---

## Integration with Core Primitives

UI components extend core primitives while maintaining the same variant prop API:

| UI Component | Extends Primitive | Added Features                                                   |
| ------------ | ----------------- | ---------------------------------------------------------------- |
| Button       | BaseButton        | Size variants, style variants, loading state, icon sections      |
| Badge        | BaseBadge         | Size variants, style variants, dot indicator, icon sections      |
| Card         | BaseCard          | Compound structure (Header, Content, Footer, Title, Description) |
| Text         | Box               | Semantic text elements (p, span, em, strong), truncation         |
| Title        | Box               | Heading hierarchy (h1-h6), semantic order prop                   |
| Container    | Block             | Responsive size presets, centered prop                           |
| Icon         | Box               | Lucide icon integration, size scaling                            |
| Group        | Flex              | Horizontal layout defaults, simplified justify/align             |
| Stack        | Flex              | Vertical/horizontal stacking, simplified gap prop                |

The inheritance relationship enables:

1. **Variant reuse** - All spacing, layout, color variants from primitives
2. **Ref forwarding** - Access underlying DOM elements via forwardRef
3. **HTML attributes** - All standard HTML props pass through
4. **Type safety** - Full TypeScript support across composition chain

**Sources:** [src/components/README.md8-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L8-L19) [README.md81-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L81-L103)

---

## Best Practices

### 1. Prefer Variants Over className

Use variant props instead of manual `className` for consistency:

```
// ❌ Avoid
<Badge className="px-4 py-2 rounded-lg shadow-md">Status</Badge>

// ✅ Prefer
<Badge px="md" py="sm" rounded="lg" shadow="md">Status</Badge>
```

### 2. Use data-class for Custom Styling

Target components via `data-class` attributes in custom CSS:

```
/* ✅ Stable selector */
[data-class="badge"] {
  /* Custom styles */
}

[data-class="card-header"] {
  /* Header-specific styles */
}
```

### 3. Leverage Compound Components

Use sub-components for semantic structure:

```
// ✅ Semantic and flexible
<Card>
  <Card.Header>
    <Card.Title>Title</Card.Title>
  </Card.Header>
  <Card.Content>Content</Card.Content>
</Card>

// ❌ Less semantic
<Card>
  <div className="header">
    <h3>Title</h3>
  </div>
  <div>Content</div>
</Card>
```

### 4. Apply Type Safety

Use TypeScript interfaces for prop validation:

```
// Component prop interface ensures type safety
interface MyComponentProps {
  badge: BadgeProps;
  onAction: () => void;
}

export function MyComponent({ badge, onAction }: MyComponentProps) {
  return (
    <Card p="lg">
      <Badge {...badge} />
      <Button onClick={onAction}>Action</Button>
    </Card>
  );
}
```

**Sources:** [src/components/README.md237-258](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L237-L258) [.devin/wiki.json200-209](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L200-L209)

---

## Summary

UI Components in Layer 2 provide:

- **15 composite components** covering common UI patterns
- **Prop forwarding** from core primitives to user-facing API
- **Type safety** via composed TypeScript interfaces
- **Variant integration** across 12 reusable variant categories
- **data-class convention** for stable DOM targeting
- **Compound patterns** for flexible composition
- **Semantic HTML** with accessibility built-in

This architecture achieves the library's goal of building complex interfaces with minimal code while maintaining type safety, flexibility, and consistency.

For component-by-component API documentation, see [UI Components API](#4.2). For usage examples and workflows, see [Basic Workflow](#5.1).

**Sources:** [README.md105-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L105-L145) [src/components/README.md1-258](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L1-L258) [.devin/wiki.json75-84](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L75-L84)

# ================================================================================

# FILE 13: architecture\variant-system.mdx
# ================================================================================
---
title: 'Variant System'
description: 'UI8Kit Core variant system - CVA-based styling with 12 composable categories covering spacing, colors, layout, typography, and effects'
---

# Variant System

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [scripts/cva-extractor.ts](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts)
- [src/components/README.md](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md)
- [src/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts)
- [src/layouts/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/index.ts)
- [src/lib/core-classes.json](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json)

## Purpose and Scope

The Variant System is the foundational styling layer of `@ui8kit/core`, providing a CVA-based (class-variance-authority) approach to component styling. This system groups Tailwind CSS utility classes into 12 composable, reusable variant categories that cover approximately 80% of design scenarios, eliminating the need for manual `className` management and reducing style duplication across components.

This document covers the variant architecture, the 12 variant categories, CVA class generation, extraction mechanics, and composition patterns. For information about how components consume these variants, see [Core Components](#3.1) and [UI Components](#3.3). For build-time extraction of variant classes, see [Build System](#3.6).

**Sources:** [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217) [.devin/wiki.json19-22](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L19-L22)

---

## Architecture Overview

The Variant System operates as a three-stage pipeline: variant definitions, CVA resolution, and class application.

### Variant System Pipeline

```
Build-Time Extraction

Stage 3: Class Application

Stage 2: CVA Resolution

Stage 1: Variant Definitions

safelist for

whitelist for

src/core/variants/
TypeScript CVA definitions

12 Variant Categories
spacing, colors, layout,
typography, effects

class-variance-authority
cva() function calls

Component props
p='lg', rounded='xl'

Generated classes
p-8 rounded-xl

Primitives
Block, Box, Grid, Flex, Stack

Composites
Card, Button, Badge

Layouts
DashLayout, LayoutBlock

scripts/cva-extractor.ts
AST-based extraction

src/lib/core-classes.json
618 classes

Tailwind CSS purge

tw-merge utility
```

**Sources:** [README.md64-88](https://github.com/ui8kit/core/blob/2afe2195/README.md#L64-L88) [scripts/cva-extractor.ts282-291](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L282-L291) [src/lib/core-classes.json1-624](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L624)

---

## The 12 Variant Categories

The system provides 12 variant categories organized by design concern. Each category maps developer-friendly prop names to Tailwind CSS utility classes.

### Variant Category Overview

| Category                 | Variant Props                                                                    | Value Range                                                                                                              | Purpose                      |
| ------------------------ | -------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ | ---------------------------- |
| **Spacing**              | `p`, `m`, `px`, `py`, `pt`, `pb`, `pl`, `pr`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto`                                                                      | Control padding and margin   |
| **Colors**               | `bg`, `c`, `borderColor`                                                         | Design system tokens: `primary`, `secondary`, `accent`, `destructive`, `muted`, `card`, `background`, `foreground`, etc. | Semantic color application   |
| **Layout - Sizing**      | `w`, `h`, `minH`, `maxW`                                                         | `auto`, `full`, `screen`, `fit`, `min`, `max`                                                                            | Width and height control     |
| **Layout - Position**    | `position`                                                                       | `static`, `relative`, `absolute`, `fixed`, `sticky`                                                                      | Element positioning          |
| **Typography - Size**    | `size`                                                                           | `xs`, `sm`, `base`, `lg`, `xl`, `2xl`, `3xl`, `4xl`, `5xl`                                                               | Font size scaling            |
| **Typography - Weight**  | `weight`, `fw`                                                                   | `normal`, `medium`, `semibold`, `bold`                                                                                   | Font weight control          |
| **Typography - Align**   | `align`, `ta`                                                                    | `left`, `center`, `right`, `justify`                                                                                     | Text alignment               |
| **Typography - Leading** | `leading`                                                                        | `tight`, `normal`, `relaxed`                                                                                             | Line height control          |
| **Effects - Rounded**    | `rounded`                                                                        | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, `full`                                                                     | Border radius                |
| **Effects - Shadow**     | `shadow`                                                                         | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `inner`                                                                           | Box shadow application       |
| **Effects - Border**     | `border`                                                                         | `0`, `default`, `2`, `4` + directional variants                                                                          | Border thickness             |
| **Flexbox/Grid**         | `gap`, `justify`, `items`, `cols`, `rows`                                        | Contextual values                                                                                                        | Layout alignment and spacing |

**Sources:** [README.md174-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L174-L217) [src/components/README.md206-221](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L206-L221)

---

### Spacing Variants

Spacing variants control padding and margin using a consistent scale. Each variant supports directional modifiers.

#### Spacing Variant Structure

```
Value Scale

Margin Variants

Padding Variants

p (all sides)

px (horizontal)

py (vertical)

pt (top)

pr (right)

pb (bottom)

pl (left)

m (all sides)

mx (horizontal)

my (vertical)

mt (top)

mr (right)

mb (bottom)

ml (left)

none → 0

xs → 1 (0.25rem)

sm → 2 (0.5rem)

md → 4 (1rem)

lg → 8 (2rem)

xl → 12 (3rem)

2xl → 16+ (4rem+)

auto → auto
```

**Example Usage:**

```
// All sides padding
<Box p="lg">              // → p-8
<Box p="xl">              // → p-12

// Directional padding
<Box px="md" py="lg">     // → px-4 py-8
<Box pt="sm" pb="xl">     // → pt-2 pb-12

// Auto margins for centering
<Box mx="auto">           // → mx-auto
<Box ml="auto">           // → ml-auto

// Combined spacing
<Card p="xl" mb="lg">     // → p-12 mb-8
```

**Extracted Classes (sample):**

```
["p-0", "p-1", "p-2", "p-4", "p-6", "p-8", "p-12",
 "px-0", "px-1", "px-2", "px-4", "px-6", "px-8", "px-12",
 "py-0", "py-1", "py-2", "py-4", "py-8", "py-16", "py-32", "py-48",
 "m-0", "m-1", "m-2", "m-4", "m-6", "m-8", "m-12", "m-auto",
 "mx-auto", "my-auto", "mt-auto", "mb-auto", "ml-auto", "mr-auto"]
```

**Sources:** [README.md174-181](https://github.com/ui8kit/core/blob/2afe2195/README.md#L174-L181) [src/lib/core-classes.json261-463](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L261-L463) [src/components/README.md209-212](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L209-L212)

---

### Color Variants

Color variants apply the design system's semantic color tokens to backgrounds, text, and borders. Colors automatically support dark mode through Tailwind CSS variables.

#### Color Variant Mapping

```
Generated Classes

Semantic Tokens

Color Props

bg
(background)

c
(text color)

borderColor
(border)

primary /
primary-foreground

secondary /
secondary-foreground

accent /
accent-foreground

destructive /
destructive-foreground

muted /
muted-foreground

card /
card-foreground

background /
foreground

border / input / ring

bg-primary
bg-secondary
bg-accent
bg-destructive
bg-muted
bg-card
bg-background

text-primary
text-secondary
text-foreground
text-muted-foreground

border-primary
border-border
border-input
```

**Example Usage:**

```
// Background colors
<Card bg="card">                    // → bg-card
<Button bg="primary">               // → bg-primary
<Badge bg="destructive">            // → bg-destructive

// Text colors
<Text c="foreground">               // → text-foreground
<Text c="muted-foreground">         // → text-muted-foreground
<Title c="primary">                 // → text-primary

// Border colors
<Box borderColor="border">          // → border-border
<Box borderColor="input">           // → border-input

// Combined with hover states
<Button 
  bg="primary" 
  className="hover:bg-primary/90"
>                                   // → bg-primary hover:bg-primary/90
```

**Extracted Classes (sample):**

```
["bg-primary", "bg-primary-foreground", "bg-secondary", "bg-secondary-foreground",
 "bg-accent", "bg-accent-foreground", "bg-destructive", "bg-destructive-foreground",
 "bg-muted", "bg-muted-foreground", "bg-card", "bg-background", "bg-foreground",
 "bg-border", "bg-input", "bg-ring", "bg-transparent",
 "text-primary", "text-secondary", "text-foreground", "text-muted-foreground",
 "border-primary", "border-secondary", "border-border", "border-input"]
```

**Sources:** [README.md183-190](https://github.com/ui8kit/core/blob/2afe2195/README.md#L183-L190) [src/lib/core-classes.json26-576](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L26-L576)

---

### Layout Variants

Layout variants control element dimensions and positioning. Width and height variants support responsive and intrinsic sizing.

#### Layout Sizing Values

| Prop       | Values                                                                  | Generated Classes                                        | Use Case                  |
| ---------- | ----------------------------------------------------------------------- | -------------------------------------------------------- | ------------------------- |
| `w`        | `auto`, `full`, `screen`, `fit`, `min`, `max`, `px`, numeric            | `w-auto`, `w-full`, `w-screen`, `w-fit`, `w-3` to `w-12` | Width control             |
| `h`        | `auto`, `full`, `screen`, `fit`, `min`, `max`, `px`, numeric            | `h-auto`, `h-full`, `h-screen`, `h-fit`, `h-3` to `h-12` | Height control            |
| `minH`     | `full`, `screen`, `200px`, `300px`, `400px`, `500px`                    | `min-h-full`, `min-h-screen`, `min-h-[200px]`            | Minimum height            |
| `maxW`     | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `4xl`, `6xl`, `full`, `screen-*` | `max-w-sm`, `max-w-md`, `max-w-screen-lg`                | Maximum width constraints |
| `position` | `static`, `relative`, `absolute`, `fixed`, `sticky`                     | `static`, `relative`, `absolute`, `fixed`, `sticky`      | Positioning mode          |

**Example Usage:**

```
// Full width/height
<Box w="full" h="screen">              // → w-full h-screen

// Intrinsic sizing
<Box w="fit" h="auto">                 // → w-fit h-auto

// Minimum height
<Box minH="screen">                    // → min-h-screen
<Box minH="400px">                     // → min-h-[400px]

// Maximum width with centering
<Container maxW="4xl" mx="auto">       // → max-w-4xl mx-auto

// Positioning
<Box position="relative">              // → relative
<Box position="absolute">              // → absolute
```

**Extracted Classes (sample):**

```
["w-auto", "w-full", "w-screen", "w-fit", "w-min", "w-max", "w-px", "w-3", "w-4", "w-5", "w-6", "w-8", "w-10", "w-12",
 "h-auto", "h-full", "h-screen", "h-fit", "h-min", "h-max", "h-px", "h-3", "h-4", "h-5", "h-6", "h-8", "h-9", "h-10", "h-11", "h-12",
 "min-h-full", "min-h-screen", "min-h-[200px]", "min-h-[300px]", "min-h-[400px]", "min-h-[500px]",
 "max-w-sm", "max-w-md", "max-w-lg", "max-w-xl", "max-w-2xl", "max-w-4xl", "max-w-6xl", "max-w-full", "max-w-screen-sm", "max-w-screen-md",
 "static", "relative", "absolute", "fixed", "sticky"]
```

**Sources:** [README.md192-199](https://github.com/ui8kit/core/blob/2afe2195/README.md#L192-L199) [src/lib/core-classes.json196-606](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L196-L606)

---

### Typography Variants

Typography variants control text appearance: size, weight, alignment, and leading (line height).

#### Typography Variant Matrix

```
Leading Variant

tight → leading-tight

normal → leading-normal

relaxed → leading-relaxed

Align Variant

left → text-left

center → text-center

right → text-right

justify → text-justify

Weight Variant

normal → font-normal

medium → font-medium

semibold → font-semibold

bold → font-bold

Size Variant

xs → text-xs

sm → text-sm

base → text-base

lg → text-lg

xl → text-xl

2xl → text-2xl

3xl → text-3xl

4xl → text-4xl

5xl → text-5xl
```

**Example Usage:**

```
// Size variants
<Text size="sm">                    // → text-sm
<Title size="3xl">                  // → text-3xl

// Weight variants
<Text weight="medium">              // → font-medium
<Title fw="bold">                   // → font-bold (fw is alias)

// Alignment variants
<Text align="center">               // → text-center
<Text ta="right">                   // → text-right (ta is alias)

// Leading variants
<Text leading="tight">              // → leading-tight

// Combined typography
<Title 
  size="2xl" 
  weight="bold" 
  align="center"
  leading="tight"
>                                   // → text-2xl font-bold text-center leading-tight
```

**Extracted Classes:**

```
["text-xs", "text-sm", "text-base", "text-lg", "text-xl", "text-2xl", "text-3xl", "text-4xl", "text-5xl",
 "font-normal", "font-medium", "font-semibold", "font-bold",
 "text-left", "text-center", "text-right", "text-justify",
 "leading-tight", "leading-normal", "leading-relaxed"]
```

**Sources:** [README.md201-208](https://github.com/ui8kit/core/blob/2afe2195/README.md#L201-L208) [src/lib/core-classes.json150-579](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L150-L579)

---

### Effects Variants

Effects variants apply visual enhancements: rounded corners, shadows, and borders.

#### Effects Variant Categories

| Category    | Prop      | Values                                                      | Generated Classes                                                                                                    |
| ----------- | --------- | ----------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| **Rounded** | `rounded` | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, `full`        | `rounded-none`, `rounded-sm`, `rounded-md`, `rounded-lg`, `rounded-xl`, `rounded-2xl`, `rounded-3xl`, `rounded-full` |
| **Shadow**  | `shadow`  | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `inner`              | `shadow-none`, `shadow-sm`, `shadow-md`, `shadow-lg`, `shadow-xl`, `shadow-2xl`, `shadow-inner`                      |
| **Border**  | `border`  | `0`, `default`, `2`, `4` + directional (`t`, `r`, `b`, `l`) | `border-0`, `border`, `border-2`, `border-4`, `border-t`, `border-r`, `border-b`, `border-l`                         |

**Example Usage:**

```
// Rounded corners
<Card rounded="xl">                 // → rounded-xl
<Button rounded="full">             // → rounded-full
<Badge rounded="md">                // → rounded-md

// Shadows
<Card shadow="lg">                  // → shadow-lg
<Box shadow="md">                   // → shadow-md

// Borders
<Box border="default">              // → border
<Box border="2">                    // → border-2
<Box border="t">                    // → border-t (top only)

// Combined effects
<Card 
  rounded="2xl" 
  shadow="xl" 
  border="default"
  borderColor="border"
>                                   // → rounded-2xl shadow-xl border border-border
```

**Directional Border Variants:**

```
// Top border
<Box border="t" border="2">         // → border-t-2

// Bottom border
<Box border="b" border="4">         // → border-b-4

// Left and right
<Box border="l" border="r">         // → border-l border-r
```

**Extracted Classes (sample):**

```
["rounded-none", "rounded-sm", "rounded-md", "rounded-lg", "rounded-xl", "rounded-2xl", "rounded-3xl", "rounded-full",
 "rounded-t-none", "rounded-t-sm", "rounded-t-md", "rounded-t-lg", "rounded-t-xl", "rounded-t-full",
 "rounded-b-none", "rounded-b-sm", "rounded-b-md", "rounded-b-lg", "rounded-b-xl", "rounded-b-full",
 "rounded-l-none", "rounded-l-sm", "rounded-l-md", "rounded-l-lg", "rounded-l-xl", "rounded-l-full",
 "rounded-r-none", "rounded-r-sm", "rounded-r-md", "rounded-r-lg", "rounded-r-xl", "rounded-r-full",
 "shadow-none", "shadow-sm", "shadow-md", "shadow-lg", "shadow-xl", "shadow-2xl", "shadow-inner",
 "border", "border-0", "border-2", "border-4", "border-t", "border-r", "border-b", "border-l",
 "border-t-0", "border-t-2", "border-t-4", "border-b-0", "border-b-2", "border-b-4"]
```

**Sources:** [README.md210-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L210-L217) [src/lib/core-classes.json48-540](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L48-L540)

---

## CVA Engine and Class Generation

The variant system uses `class-variance-authority` (CVA) to transform prop-based API into Tailwind CSS classes.

### CVA Processing Flow

```
Output: Tailwind Classes

CVA Engine

CVA Definition

Input: Component Props

Component JSX

p='lg'
rounded='xl'
shadow='md'
bg='card'

cva() function

base: 'transition-all'

variants: {
  p: { lg: 'p-8' },
  rounded: { xl: 'rounded-xl' },
  shadow: { md: 'shadow-md' },
  bg: { card: 'bg-card' }
}

Variant Resolution

Class Merging

Generated className

'transition-all p-8 rounded-xl shadow-md bg-card'

Applied to DOM element
```

**CVA Definition Pattern:**

The CVA pattern used in variant files follows this structure:

```
import { cva } from 'class-variance-authority';

export const spacingVariants = cva('', {
  variants: {
    p: {
      none: 'p-0',
      xs: 'p-1',
      sm: 'p-2',
      md: 'p-4',
      lg: 'p-8',
      xl: 'p-12',
      '2xl': 'p-16'
    },
    px: {
      none: 'px-0',
      xs: 'px-1',
      sm: 'px-2',
      md: 'px-4',
      lg: 'px-8',
      xl: 'px-12'
    }
    // ... more spacing variants
  }
});
```

**Component Usage Pattern:**

Components import and apply variants:

```
import { spacingVariants } from '@/core/variants';

// Props are passed to CVA function
const className = spacingVariants({ p: 'lg', px: 'xl' });
// Result: 'p-8 px-12'
```

**Sources:** [scripts/cva-extractor.ts114-143](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L114-L143) [README.md283-304](https://github.com/ui8kit/core/blob/2afe2195/README.md#L283-L304)

---

## Extraction and Whitelist System

The build system extracts all CVA-defined classes to generate a whitelist for Tailwind CSS purging and `tw-merge` utilities.

### Extraction Pipeline

```
Consumers

Output

Extraction Process

Source Files

src/core/variants/
All .ts/.tsx files

CVA Definitions
cva('base', { variants: {...} })

scripts/cva-extractor.ts

@babel/parser
Parse to AST

@babel/traverse
Find cva() calls

Extract classes from:
• Base strings
• Variant objects
• Nested objects
• Arrays

618 unique classes

src/lib/core-classes.json

timestamp: 2025-10-29T12:17:54.882Z

tailwind.config.js
safelist configuration

tw-merge utility
class whitelist
```

**Extraction Script Details:**

The extraction script [scripts/cva-extractor.ts1-339](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L339) implements these steps:

1. **Recursively scan** `src/core/variants/` for `.ts` and `.tsx` files [scripts/cva-extractor.ts67-93](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L67-L93)

2. **Parse TypeScript** using Babel parser with plugins `['typescript', 'jsx']` [scripts/cva-extractor.ts103-106](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L103-L106)

3. **Traverse AST** to find `CallExpression` nodes where callee is `cva` [scripts/cva-extractor.ts114-125](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L114-L125)

4. **Extract classes** from:

   - String literals (base classes) [scripts/cva-extractor.ts129-137](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L129-L137)
   - Object expressions (variant definitions) [scripts/cva-extractor.ts138-142](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L138-L142)
   - Nested objects and arrays [scripts/cva-extractor.ts164-195](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L164-L195)

5. **Split by whitespace** to separate individual class names [scripts/cva-extractor.ts200-203](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L200-L203)

6. **Deduplicate** into a Set, then sort alphabetically [scripts/cva-extractor.ts46-51](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L46-L51)

**Generated Whitelist Structure:**

The output file [src/lib/core-classes.json1-624](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L624) contains:

```
{
  "classes": [
    "absolute",
    "bg-primary",
    "border",
    "flex",
    "gap-4",
    "p-8",
    "rounded-xl",
    "shadow-md",
    // ... 618 total classes
  ],
  "count": 618,
  "timestamp": "2025-10-29T12:17:54.882Z"
}
```

**Usage in Tailwind Configuration:**

```
// tailwind.config.js
const coreClasses = require('./src/lib/core-classes.json');

module.exports = {
  safelist: coreClasses.classes,
  // ... other config
};
```

**Sources:** [scripts/cva-extractor.ts1-339](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L339) [src/lib/core-classes.json1-624](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L624)

---

## Variant Composition

Variants are designed to be composable—multiple variants can be combined on a single component to achieve complex designs.

### Composition Patterns

```
Typography Composition

  size='2xl'
  weight='bold'
  align='center'
  leading='tight'
  c='primary'
/>

text-2xl font-bold text-center leading-tight text-primary

Directional Composition

  px='lg'
  py='md'
  mt='xl'
  mb='sm'
/>

px-8 py-4 mt-12 mb-2

Multi-Variant Composition

  p='xl'
  rounded='2xl'
  shadow='lg'
  bg='card'
/>

p-12 rounded-2xl shadow-lg bg-card

Single Variant Application

p-8
```

### Composition Priority

When variants conflict, the order of precedence is:

1. **Component-specific props** (higher specificity)
2. **Directional variants** (`px`, `py`) override general variants (`p`)
3. **Last prop wins** in the component prop list
4. **`className` prop** overrides all variants (escape hatch)

**Example: Directional Override**

```
// py overrides the vertical portion of p
<Box p="lg" py="xl">
// Result: p-8 py-12
// Tailwind applies: padding: 2rem (from p-8), then padding-top/bottom: 3rem (from py-12)
```

**Example: className Escape Hatch**

```
// className for custom styles not covered by variants
<Card 
  p="lg" 
  rounded="xl" 
  className="hover:scale-105 transition-transform"
>
// Result: p-8 rounded-xl hover:scale-105 transition-transform
```

**Sources:** [src/components/README.md238-257](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L238-L257)

---

## Type Safety and IntelliSense

The variant system provides full TypeScript support for type-safe prop usage and IntelliSense autocomplete.

### Type Definition Structure

```
Final Component Type

Component Props Interface

Variant Definition

cva('', { variants: {...} })

VariantProps

ComponentPropsWithoutRef<'div'>

SpacingVariantProps
ColorVariantProps
LayoutVariantProps
EffectsVariantProps

Custom component props

type CardProps = 
  BaseProps &
  VariantProps &
  CustomProps

IntelliSense shows:
• All variant options
• Valid values
• Descriptions
```

**Type Definition Example:**

```
// Variant definition with type extraction
import { cva, type VariantProps } from 'class-variance-authority';

const spacingVariants = cva('', {
  variants: {
    p: {
      none: 'p-0',
      xs: 'p-1',
      sm: 'p-2',
      md: 'p-4',
      lg: 'p-8',
      xl: 'p-12'
    }
  }
});

// Extract variant prop types
export type SpacingVariantProps = VariantProps<typeof spacingVariants>;
// Result: { p?: 'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' }

// Component props interface
interface CardProps extends ComponentPropsWithoutRef<'div'>, SpacingVariantProps {
  variant?: 'default' | 'outlined';
}
```

**IntelliSense Benefits:**

1. **Autocomplete**: Type `<Card p=` and IntelliSense shows `'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'`
2. **Type checking**: Using `<Card p="invalid">` produces TypeScript error
3. **Documentation**: Hover over props to see available values
4. **Refactoring**: Rename variant values safely across the codebase

**Sources:** [README.md11-12](https://github.com/ui8kit/core/blob/2afe2195/README.md#L11-L12)

---

## Variant System File Structure

The variant system is organized by concern in `src/core/variants/`:

```
src/core/variants/
├── spacing.ts          # Padding and margin variants
├── colors.ts           # Background, text, border color variants
├── layout.ts           # Width, height, position variants
├── typography.ts       # Size, weight, align, leading variants
├── effects.ts          # Rounded, shadow, border variants
├── flex.ts             # Flexbox alignment and gap variants
├── grid.ts             # Grid layout variants
└── index.ts            # Exports all variants
```

**Export Pattern:**

All variants are exported from [src/index.ts1-3](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts#L1-L3):

```
// Export variants and utilities from core
export * from './core/variants';
```

This allows consumers to import variants:

```
import { 
  spacingVariants, 
  colorVariants, 
  roundedVariants 
} from '@ui8kit/core';
```

**Sources:** [src/index.ts1-3](https://github.com/ui8kit/core/blob/2afe2195/src/index.ts#L1-L3)

---

## Usage Patterns

### Pattern 1: Direct Primitive Usage

Primitives (`Block`, `Box`, `Grid`, `Flex`, `Stack`) directly apply variants:

```
import { Block, Box, Stack } from '@ui8kit/core';

<Block 
  component="section" 
  p="xl" 
  bg="background" 
  rounded="lg"
>
  <Stack gap="md" align="center">
    <Box w="full" h="auto" border="default" rounded="md">
      Content
    </Box>
  </Stack>
</Block>
```

**Sources:** [README.md82-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L82-L103) [src/components/README.md23-92](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L23-L92)

---

### Pattern 2: Composite Component Prop Forwarding

Composite components (`Card`, `Button`, `Badge`) extend primitives and forward variant props:

```
import { Card, Button, Text } from '@ui8kit/core';

<Card 
  p="lg" 
  rounded="xl" 
  shadow="md" 
  bg="card"
>
  <Card.Header>
    <Text size="xl" weight="bold" c="foreground">
      Title
    </Text>
  </Card.Header>
  <Card.Content>
    <Text size="base" c="muted-foreground">
      Description
    </Text>
  </Card.Content>
  <Card.Footer>
    <Button 
      bg="primary" 
      rounded="md" 
      px="lg" 
      py="md"
    >
      Action
    </Button>
  </Card.Footer>
</Card>
```

**Sources:** [README.md38-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L38-L145) [src/components/README.md94-149](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L94-L149)

---

### Pattern 3: Layout Template Composition

Layouts use variants for consistent spacing and structure:

```
import { DashLayout, Container, LayoutBlock } from '@ui8kit/core';

<DashLayout>
  <Container maxW="6xl" px="lg" py="xl">
    <LayoutBlock 
      layout="grid" 
      gap="lg" 
      p="xl"
      bg="background"
      rounded="lg"
    >
      {/* Grid content */}
    </LayoutBlock>
  </Container>
</DashLayout>
```

**Sources:** [README.md147-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L147-L168)

---

## Summary

The Variant System provides the foundational styling layer for `@ui8kit/core` through:

- **12 Composable Categories**: Spacing, colors, layout, typography, and effects covering \~80% of design scenarios
- **CVA-Based Engine**: Type-safe variant resolution using `class-variance-authority`
- **618 Extracted Classes**: Build-time extraction generates whitelist for Tailwind purging
- **Prop-Based API**: Clean developer experience with `p="lg"` instead of `className="p-8"`
- **Full Type Safety**: TypeScript types provide IntelliSense and compile-time validation
- **Composition Patterns**: Variants combine seamlessly across primitives, composites, and layouts

This architecture eliminates style duplication, reduces CSS complexity, and maintains type safety while providing unlimited design flexibility through composition.

**Sources:** [README.md1-453](https://github.com/ui8kit/core/blob/2afe2195/README.md#L1-L453) [.devin/wiki.json19-22](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L19-L22) [scripts/cva-extractor.ts1-339](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L339) [src/lib/core-classes.json1-624](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L624)

# ================================================================================

# FILE 14: development-guide\basic-workflow.mdx
# ================================================================================
---
title: 'Basic Workflow'
description: 'Basic UI8Kit Core development patterns - component selection, styling with variants, and building standard UI patterns'
---

# Basic Workflow

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/components/README.md](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md)

## Purpose and Scope

This document describes the typical development workflows and patterns used when building user interfaces with `@ui8kit/core`. It covers common scenarios developers encounter when composing components, applying styling through the variant system, and building standard UI patterns like cards, forms, and layouts.

For advanced scenarios where standard components are insufficient (e.g., creating custom form components), see [Advanced Workflow](#5.2). For general guidelines and performance recommendations, see [Best Practices](#5.3).

**Sources:** [.devin/wiki.json181-188](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L181-L188) [src/components/README.md1-259](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L1-L259)

---

## Component Selection Workflow

The first step in any development workflow is selecting the appropriate component for your use case. The library follows a three-layer hierarchy where each layer serves specific purposes.

```
Yes

No

Yes

No

Yes

No

Start: Need to render UI

Need layout
structure?

Need semantic
container?

Need pre-styled
component?

Layer 1: Core Primitives

Layer 2: UI Components

Layer 3: Layouts

Box
(generic container)

Block
(semantic element)

Grid
(CSS Grid)

Flex
(Flexbox)

Stack
(vertical/horizontal)

Button

Card + subcomponents

Text

Title

Container

Badge

Group

Icon

Image

DashLayout

LayoutBlock

SplitBlock
```

**Decision matrix:**

| Scenario                                      | Component Choice  | Reason                                          |
| --------------------------------------------- | ----------------- | ----------------------------------------------- |
| Generic container with styling                | `Box`             | Flexible primitive with full variant support    |
| Semantic HTML element (section, article, nav) | `Block`           | Renders semantic tags with `component` prop     |
| Grid layout                                   | `Grid`            | CSS Grid with responsive presets                |
| Flexbox layout                                | `Flex` or `Stack` | Flex for general, Stack for vertical/horizontal |
| Interactive button                            | `Button`          | Pre-styled with variants and states             |
| Content card                                  | `Card`            | Compound component with Header/Content/Footer   |
| Dashboard template                            | `DashLayout`      | Complete layout with sidebar and header         |

**Sources:** [README.md62-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L103) [src/components/README.md9-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L9-L19) [README.md363-387](https://github.com/ui8kit/core/blob/2afe2195/README.md#L363-L387)

---

## Basic Styling Workflow

All components accept variant props instead of className strings. This workflow shows how to apply styling through the variant system.

```
Output

CVA Processing

Variant Categories

Component Instance

Spacing Props
p, m, px, py, etc.

Color Props
bg, c, borderColor

Visual Props
rounded, shadow, border

Layout Props
w, h, position

Typography Props
size, weight, align

spacingVariants

colorVariants

roundedVariants

shadowVariants

layoutVariants

typographyVariants

Tailwind Classes
p-8 rounded-xl shadow-md
```

### Step-by-Step: Styling a Component

**Step 1: Apply spacing variants**

```
// Import component
import { Box } from '@ui8kit/core';

// Apply padding and margin
<Box p="lg" m="md" mx="auto">
  Content
</Box>
```

Available spacing values: `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto`

**Step 2: Apply color variants**

```
<Box p="lg" bg="card" c="foreground">
  Content with semantic colors
</Box>
```

**Step 3: Apply visual effects**

```
<Box p="lg" bg="card" rounded="xl" shadow="md" border="default">
  Styled container
</Box>
```

**Step 4: Apply layout variants**

```
<Box p="lg" w="full" h="screen" position="relative">
  Full-width layout
</Box>
```

### Variant Props Reference

| Category     | Props                                   | Values                                               |
| ------------ | --------------------------------------- | ---------------------------------------------------- |
| **Spacing**  | `p`, `px`, `py`, `pt`, `pb`, `pl`, `pr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`          |
| **Spacing**  | `m`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto`  |
| **Colors**   | `bg`, `c`, `borderColor`                | Design system color tokens                           |
| **Rounded**  | `rounded`                               | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, `full` |
| **Shadow**   | `shadow`                                | `none`, `sm`, `md`, `lg`, `xl`, `2xl`                |
| **Layout**   | `w`, `h`, `minH`, `maxW`                | `auto`, `full`, `screen`, `fit`, `min`, `max`        |
| **Position** | `position`                              | `static`, `relative`, `absolute`, `fixed`, `sticky`  |

**Sources:** [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217) [src/components/README.md206-222](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L206-L222)

---

## Layout Pattern Workflows

### Vertical Stacking with `Stack`

The most common layout pattern is vertical stacking of elements.

```
import { Stack, Title, Text, Button } from '@ui8kit/core';

<Stack gap="lg" align="center" p="md">
  <Title order={1}>Heading</Title>
  <Text>Description text</Text>
  <Button variant="primary">Action</Button>
</Stack>
```

**Key `Stack` props:**

- `gap`: Space between children (`xs`, `sm`, `md`, `lg`, `xl`, `2xl`)
- `align`: Cross-axis alignment (`start`, `center`, `end`, `stretch`)
- `justify`: Main-axis alignment (`start`, `center`, `end`, `between`, `around`)

**Sources:** [src/components/README.md52-64](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L52-L64)

### Horizontal Layout with `Group`

For horizontal arrangements, use `Group`.

```
import { Group, Button } from '@ui8kit/core';

<Group gap="md" align="center" justify="between">
  <Button variant="secondary">Cancel</Button>
  <Button variant="primary">Confirm</Button>
</Group>
```

**Sources:** [src/components/README.md66-78](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L66-L78)

### Grid Layout with `Grid`

For multi-column layouts, use `Grid` with responsive presets.

```
import { Grid, GridCol, Card } from '@ui8kit/core';

<Grid cols="1-2-3" gap="lg" p="md">
  <GridCol span={2}>
    <Card p="lg">Wide column</Card>
  </GridCol>
  <GridCol>
    <Card p="lg">Regular column</Card>
  </GridCol>
</Grid>
```

**`cols` preset values:**

- `"1-2-3"`: 1 column mobile, 2 tablet, 3 desktop
- `"2"`: 2 columns at all breakpoints
- Custom: Use standard Grid props

**Sources:** [src/components/README.md80-92](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L80-L92) [README.md90-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L90-L103)

### Responsive Container

Use `Container` for centered, max-width layouts.

```
import { Container } from '@ui8kit/core';

<Container size="lg" px="md" centered>
  <Card p="lg">
    Centered content with responsive max-width
  </Card>
</Container>
```

**Container sizes:**

- `xs`: 448px
- `sm`: 640px
- `md`: 768px
- `lg`: 1024px
- `xl`: 1280px

**Sources:** [src/components/README.md39-50](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L39-L50)

---

## UI Component Patterns

### Working with Cards

`Card` is a compound component with semantic subcomponents.

```
Card (root container)

Card.Header

Card.Title

Card.Description

Card.Content

Card.Footer

data-class='card'

data-class='card-header'

data-class='card-title'

data-class='card-content'

data-class='card-footer'
```

**Step-by-Step: Building a Card**

```
import { Card, Title, Text, Button, Stack } from '@ui8kit/core';

<Card p="lg" rounded="xl" shadow="md" bg="card">
  <Card.Header>
    <Card.Title>Title</Card.Title>
    <Card.Description>Optional description</Card.Description>
  </Card.Header>
  
  <Card.Content>
    <Stack gap="md">
      <Text>Main content goes here</Text>
      <Text c="muted-foreground">Additional details</Text>
    </Stack>
  </Card.Content>
  
  <Card.Footer>
    <Button variant="primary">Action</Button>
  </Card.Footer>
</Card>
```

**Sources:** [src/components/README.md96-117](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L96-L117) [README.md121-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L121-L145)

### Working with Buttons

`Button` supports variants, sizes, loading states, and icon sections.

```
import { Button } from '@ui8kit/core';
import { Heart } from 'lucide-react';

// Basic button
<Button variant="primary" size="md">
  Click me
</Button>

// Button with icon
<Button 
  variant="default" 
  leftSection={<Heart size={16} />}
  rounded="md"
  shadow="sm"
>
  Favorite
</Button>

// Loading state
<Button variant="primary" loading={isLoading}>
  Submit
</Button>
```

**Button variants:**

- `default`: Standard button
- `primary`: Primary action
- `secondary`: Secondary action
- `destructive`: Dangerous actions
- `outline`: Outlined style
- `ghost`: Minimal style
- `link`: Link-styled button

**Sources:** [src/components/README.md119-133](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L119-L133)

### Working with Typography

Use `Title` for headings and `Text` for body content.

```
import { Title, Text, Stack } from '@ui8kit/core';

<Stack gap="md">
  <Title order={1} size="3xl" weight="bold" c="primary">
    Main Heading
  </Title>
  
  <Title order={2} size="2xl" weight="semibold">
    Subheading
  </Title>
  
  <Text size="lg" c="muted-foreground" align="left">
    Body text with semantic styling
  </Text>
  
  <Text size="sm" weight="medium" truncate>
    Truncated text for overflow scenarios
  </Text>
</Stack>
```

**`Title` order mapping:**

- `order={1}`: `<h1>` tag
- `order={2}`: `<h2>` tag
- `order={3}`: `<h3>` tag
- (continues to `order={6}`)

**Sources:** [src/components/README.md150-177](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L150-L177)

### Working with Badges

Use `Badge` for status indicators and labels.

```
import { Badge, Group } from '@ui8kit/core';
import { CheckCircle } from 'lucide-react';

<Group gap="sm">
  <Badge variant="success" size="sm" rounded="full">
    Active
  </Badge>
  
  <Badge 
    variant="default" 
    dot
    rightSection={<CheckCircle size={14} />}
  >
    Verified
  </Badge>
</Group>
```

**Badge variants:**

- `default`: Standard badge
- `success`: Green/positive
- `warning`: Yellow/caution
- `error`: Red/negative
- `outline`: Outlined style

**Sources:** [src/components/README.md135-148](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L135-L148)

---

## Semantic HTML Workflow

Use `Block` with the `component` prop to render semantic HTML5 elements.

```
import { Block, Title, Text } from '@ui8kit/core';

<Block component="section" py="xl" bg="background">
  <Block component="article" p="lg" rounded="lg">
    <Title order={2}>Article Title</Title>
    <Text>Article content</Text>
  </Block>
</Block>

<Block component="nav" p="md" bg="card">
  <Block component="ul">
    <Block component="li">Nav item</Block>
  </Block>
</Block>

<Block component="header" py="md" border="bottom">
  <Title>Page Header</Title>
</Block>

<Block component="footer" py="lg" bg="muted">
  <Text size="sm">Footer content</Text>
</Block>
```

**Common semantic elements:**

- `section`: Thematic grouping
- `article`: Self-contained content
- `nav`: Navigation links
- `header`: Introductory content
- `footer`: Footer content
- `aside`: Sidebar content
- `main`: Main content area

**Sources:** [src/components/README.md23-37](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L23-L37) [README.md14](https://github.com/ui8kit/core/blob/2afe2195/README.md#L14-L14)

---

## Common Development Scenarios

### Scenario 1: Building a Feature Card

```
import { Card, Title, Text, Button, Stack, Badge } from '@ui8kit/core';
import { CheckCircle } from 'lucide-react';

export function FeatureCard() {
  return (
    <Card variant="outlined" p="xl" rounded="xl" shadow="lg">
      <Card.Header>
        <Stack gap="sm">
          <Badge variant="success" size="sm">
            New
          </Badge>
          <Title order={3} size="xl" weight="bold">
            Premium Feature
          </Title>
        </Stack>
      </Card.Header>
      
      <Card.Content>
        <Stack gap="md">
          <Text size="md" c="muted-foreground">
            Unlock advanced capabilities with our premium plan.
          </Text>
          <Stack gap="xs">
            <Text size="sm">
              ✓ Advanced analytics
            </Text>
            <Text size="sm">
              ✓ Priority support
            </Text>
            <Text size="sm">
              ✓ Custom integrations
            </Text>
          </Stack>
        </Stack>
      </Card.Content>
      
      <Card.Footer>
        <Button 
          variant="primary" 
          w="full"
          leftSection={<CheckCircle size={16} />}
        >
          Upgrade Now
        </Button>
      </Card.Footer>
    </Card>
  );
}
```

**Sources:** [README.md310-339](https://github.com/ui8kit/core/blob/2afe2195/README.md#L310-L339) [src/components/README.md96-117](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L96-L117)

### Scenario 2: Building a Form Layout

When form-specific components are not available, compose layouts using `Block` and `Box`.

```
import { Card, Block, Box, Title, Text, Button, Stack } from '@ui8kit/core';

export function FormCard() {
  return (
    <Card variant="outlined" p="xl" rounded="xl">
      <Card.Header>
        <Title order={2} size="2xl">
          Sign Up
        </Title>
      </Card.Header>
      
      <Card.Content>
        <Stack gap="md">
          <Box>
            <Text weight="medium" mb="xs">
              Email
            </Text>
            <Box 
              component="input"
              type="email"
              p="sm"
              rounded="md"
              border="default"
              w="full"
            />
          </Box>
          
          <Box>
            <Text weight="medium" mb="xs">
              Password
            </Text>
            <Box 
              component="input"
              type="password"
              p="sm"
              rounded="md"
              border="default"
              w="full"
            />
          </Box>
        </Stack>
      </Card.Content>
      
      <Card.Footer>
        <Stack gap="md" direction="row">
          <Button variant="secondary" w="full">
            Cancel
          </Button>
          <Button variant="primary" w="full">
            Sign Up
          </Button>
        </Stack>
      </Card.Footer>
    </Card>
  );
}
```

**Note:** For advanced form workflows with custom components, see [Advanced Workflow](#5.2).

**Sources:** [README.md310-339](https://github.com/ui8kit/core/blob/2afe2195/README.md#L310-L339) [src/components/README.md315-328](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L315-L328)

### Scenario 3: Building a Dashboard Section

```
import { Block, Container, Grid, Card, Title, Text, Badge } from '@ui8kit/core';

export function DashboardSection() {
  return (
    <Block component="section" py="xl" bg="background">
      <Container size="lg">
        <Stack gap="lg">
          <Title order={1} size="3xl">
            Dashboard Overview
          </Title>
          
          <Grid cols="1-2-3" gap="lg">
            <Card p="lg" shadow="md">
              <Stack gap="sm">
                <Badge variant="success">Active</Badge>
                <Title order={3}>Total Users</Title>
                <Text size="2xl" weight="bold">1,234</Text>
              </Stack>
            </Card>
            
            <Card p="lg" shadow="md">
              <Stack gap="sm">
                <Badge variant="default">Pending</Badge>
                <Title order={3}>New Orders</Title>
                <Text size="2xl" weight="bold">56</Text>
              </Stack>
            </Card>
            
            <Card p="lg" shadow="md">
              <Stack gap="sm">
                <Badge variant="warning">Alert</Badge>
                <Title order={3}>Issues</Title>
                <Text size="2xl" weight="bold">3</Text>
              </Stack>
            </Card>
          </Grid>
        </Stack>
      </Container>
    </Block>
  );
}
```

**Sources:** [README.md155-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L155-L168) [src/components/README.md80-92](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L80-L92)

### Scenario 4: Responsive Navigation

```
import { Block, Container, Group, Button, Image } from '@ui8kit/core';

export function Navbar() {
  return (
    <Block component="nav" py="md" bg="card" border="bottom">
      <Container size="xl">
        <Group justify="between" align="center">
          <Image 
            src="/logo.svg" 
            alt="Logo" 
            w="auto" 
            h="8"
          />
          
          <Group gap="md">
            <Button variant="ghost" size="sm">
              Home
            </Button>
            <Button variant="ghost" size="sm">
              About
            </Button>
            <Button variant="ghost" size="sm">
              Contact
            </Button>
          </Group>
          
          <Group gap="sm">
            <Button variant="outline" size="sm">
              Log In
            </Button>
            <Button variant="primary" size="sm">
              Sign Up
            </Button>
          </Group>
        </Group>
      </Container>
    </Block>
  );
}
```

**Sources:** [src/components/README.md66-78](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L66-L78) [src/components/README.md39-50](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L39-L50)

---

## Data Attribute Targeting

All UI components include `data-class` attributes for semantic targeting in CSS and tests.

```
<Card data-class="card">
  <Card.Header data-class="card-header">
    <Card.Title data-class="card-title">Title</Card.Title>
  </Card.Header>
  <Card.Content data-class="card-content">
    Content
  </Card.Content>
</Card>
```

**CSS targeting example:**

```
[data-class="card"] {
  /* Custom card styles */
}

[data-class="card-header"] {
  /* Custom header styles */
}
```

**Test selector example:**

```
// In tests
const card = screen.getByTestId('card');
const header = within(card).getByTestId('card-header');
```

**Sources:** [src/components/README.md223-236](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L223-L236)

---

## Workflow Summary Table

| Task               | Components to Use      | Key Props                         | Pattern                         |
| ------------------ | ---------------------- | --------------------------------- | ------------------------------- |
| Vertical layout    | `Stack`                | `gap`, `align`                    | Stacking elements vertically    |
| Horizontal layout  | `Group`                | `gap`, `justify`                  | Arranging elements horizontally |
| Grid layout        | `Grid`, `GridCol`      | `cols`, `gap`, `span`             | Multi-column responsive layouts |
| Content card       | `Card` + subcomponents | `p`, `rounded`, `shadow`          | Card.Header → Content → Footer  |
| Semantic container | `Block`                | `component`, variants             | Section, article, nav, etc.     |
| Interactive button | `Button`               | `variant`, `size`, loading states | Action triggers                 |
| Typography         | `Title`, `Text`        | `order`, `size`, `weight`         | Headings and body text          |
| Status indicator   | `Badge`                | `variant`, `size`, `dot`          | Labels and status               |
| Centered content   | `Container`            | `size`, `centered`                | Responsive max-width layouts    |
| Form layout        | `Block`, `Box`         | Spacing and border variants       | Custom form compositions        |

**Sources:** [src/components/README.md1-259](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L1-L259) [README.md36-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L36-L217)

# ================================================================================

# FILE 15: development-guide\best-practices.mdx
# ================================================================================
---
title: 'Best Practices'
description: 'UI8Kit Core development guidelines - component selection, variant usage, semantic HTML, accessibility, and performance optimization'
---

# Best Practices

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/components/README.md](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md)

This document provides general guidelines and recommendations for effectively using the @ui8kit/core component library. It covers strategies for component selection, variant system usage, semantic HTML practices, accessibility, performance optimization, and composition patterns.

For common development patterns and typical usage examples, see [Basic Workflow](#5.1). For handling edge cases requiring custom solutions, see [Advanced Workflow](#5.2).

---

## Component Selection Strategy

Choosing the right component layer is fundamental to writing maintainable code. The three-layer architecture provides clear boundaries for different levels of abstraction.

### Decision Flow for Component Selection

```
Yes

No

Yes

No

Yes

No

Grid layout

Flex layout

Stack items

Generic

Need to render UI element

Building page
structure or
dashboard?

Need pre-styled
component with
variants?

Need semantic
HTML element?

Need layout
control?

Use DashLayout
src/layouts/DashLayout.tsx

Use LayoutBlock
src/layouts/LayoutBlock.tsx

Use SplitBlock
src/layouts/SplitBlock.tsx

Use UI Component
Button, Card, Badge, etc.
src/components/ui/

Use Block
with component prop
src/core/ui/Block.tsx

Use Box
generic container
src/core/ui/Box.tsx

Use Grid
src/core/ui/Grid.tsx

Use Flex
src/core/ui/Flex.tsx

Use Stack
src/core/ui/Stack.tsx
```

**Sources:** [README.md64-89](https://github.com/ui8kit/core/blob/2afe2195/README.md#L64-L89) [README.md105-120](https://github.com/ui8kit/core/blob/2afe2195/README.md#L105-L120) [README.md147-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L147-L168) [src/components/README.md1-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L1-L19)

### Layer 1: Core Primitives Usage

Use core primitives when you need maximum control over layout and semantic structure:

| Component | Use When                                        | Example Scenario                                         |
| --------- | ----------------------------------------------- | -------------------------------------------------------- |
| `Block`   | Need semantic HTML5 element with variants       | `<Block component="section">`, `<Block component="nav">` |
| `Box`     | Need generic container without semantic meaning | Wrapper divs, flex items, grid cells                     |
| `Grid`    | Need CSS Grid layout                            | Product grids, image galleries, card layouts             |
| `Flex`    | Need flexbox layout with explicit control       | Custom toolbars, complex alignments                      |
| `Stack`   | Need vertical/horizontal stacking with gap      | Form fields, button groups, content sections             |

**Sources:** [README.md81-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L81-L103) [src/components/README.md23-92](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L23-L92)

### Layer 2: UI Components Usage

Use UI components for pre-styled, ready-to-use elements:

```
// ✅ Good: Use UI component for common elements
<Button variant="primary" size="lg" p="md" rounded="lg">
  Submit
</Button>

// ❌ Bad: Recreating UI component with primitives
<Box 
  component="button" 
  className="inline-flex items-center justify-center bg-primary text-primary-foreground..."
>
  Submit
</Box>
```

**Sources:** [README.md105-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L105-L145) [src/components/README.md94-204](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L94-L204)

### Layer 3: Layout Components Usage

Use layout components for structural page organization:

```
// ✅ Good: DashLayout for dashboard structure
<DashLayout 
  sidebar={<NavigationSidebar />}
  header={<DashboardHeader />}
>
  <Container>
    <Card p="lg">Content</Card>
  </Container>
</DashLayout>

// ❌ Bad: Manual layout reconstruction
<Box className="flex min-h-screen">
  <Box className="w-64 border-r">
    <NavigationSidebar />
  </Box>
  {/* Complex manual layout logic */}
</Box>
```

**Sources:** [README.md147-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L147-L168) [src/layouts/DashLayout.tsx1-99](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L1-L99)

---

## Variant System Usage

The variant system eliminates \~80% of className usage through 12 composable variants. Follow these guidelines to maximize its effectiveness.

### Variant Application Flow

```
Developer writes JSX

Variant Props
p='lg'
rounded='xl'
shadow='md'
bg='card'

class-variance-authority
Resolves variants to classes

core-classes.json
618 validated classes

Tailwind CSS
Applies utility classes

Rendered DOM
with semantic elements
```

**Sources:** [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217) [src/lib/core-classes.json1-619](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L619) [scripts/cva-extractor.ts223-260](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L223-L260)

### Variant Composition Guidelines

| Variant Category | Props                                                                            | Values                                              | Use Case                           |
| ---------------- | -------------------------------------------------------------------------------- | --------------------------------------------------- | ---------------------------------- |
| **Spacing**      | `p`, `px`, `py`, `pt`, `pb`, `pl`, `pr`, `m`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto` | Control padding and margins        |
| **Colors**       | `bg`, `c`, `borderColor`                                                         | Design system colors                                | Background, text, border colors    |
| **Layout**       | `w`, `h`, `minH`, `maxW`, `position`                                             | `auto`, `full`, `screen`, `fit`, `min`, `max`       | Control dimensions and positioning |
| **Typography**   | `size`, `weight`, `align`, `leading`                                             | Font-specific values                                | Text styling                       |
| **Effects**      | `rounded`, `shadow`, `border`                                                    | Preset values                                       | Visual enhancements                |

```
// ✅ Good: Compose variants for complex styling
<Card 
  p="xl" 
  rounded="2xl" 
  shadow="lg"
  bg="card"
  border="default"
  w="full"
  maxW="2xl"
  mx="auto"
>
  Content
</Card>

// ❌ Bad: Using className for variant-covered styles
<Card className="p-12 rounded-2xl shadow-lg bg-card border w-full max-w-2xl mx-auto">
  Content
</Card>

// ⚠️ Acceptable: className for the 20% edge cases
<Card 
  p="xl" 
  rounded="2xl"
  className="animate-pulse hover:scale-105 transition-transform"
>
  Custom animation
</Card>
```

**Sources:** [README.md171-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L171-L217) [src/components/README.md206-222](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L206-L222)

### When to Use className

The variant system covers \~80% of styling needs. Use `className` for:

1. **Animations and transitions** (not covered by variants)
2. **Pseudo-classes** like `:hover`, `:focus`, `:active`
3. **Custom grid/flex** patterns beyond basic layouts
4. **Project-specific** utility classes not in the design system

```
// ✅ Good: Use className for animations
<Box 
  p="lg" 
  rounded="xl"
  className="hover:scale-105 transition-transform duration-200"
>
  Interactive element
</Box>

// ✅ Good: Use className for pseudo-classes
<Button 
  variant="primary" 
  size="md"
  className="focus-visible:ring-2 focus-visible:ring-offset-2"
>
  Accessible button
</Button>
```

**Sources:** [README.md278-304](https://github.com/ui8kit/core/blob/2afe2195/README.md#L278-L304) [src/components/README.md237-244](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L237-L244)

---

## Semantic HTML Best Practices

The library emphasizes semantic HTML5 elements for accessibility and SEO. Always use the most appropriate semantic element.

### Semantic Element Selection

```
Yes

No

Yes

No

Yes

No

Yes

No

Yes

No

Yes

No

Yes

No

Rendering content

Navigation menu
or links?

Self-contained
syndicated content?

Thematic
grouping?

Tangentially
related content?

Introductory
content?

Footer content?

Main content
area?

Block component='nav'

Block component='article'

Block component='section'

Block component='aside'

Block component='header'

Block component='footer'

Block component='main'

Box
generic container
```

**Sources:** [README.md14](https://github.com/ui8kit/core/blob/2afe2195/README.md#L14-L14) [src/components/README.md239](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L239-L239) [src/core/ui/Block.tsx1-15](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx#L1-L15)

### Semantic HTML Examples

```
// ✅ Good: Semantic page structure
<Block component="main" py="xl">
  <Block component="section" py="lg">
    <Container>
      <Block component="header" mb="lg">
        <Title order={1}>Page Title</Title>
      </Block>
      <Block component="article">
        <Text>Article content...</Text>
      </Block>
    </Container>
  </Block>
</Block>

// ❌ Bad: Generic divs everywhere
<Box py="xl">
  <Box py="lg">
    <Container>
      <Box mb="lg">
        <Title order={1}>Page Title</Title>
      </Box>
      <Box>
        <Text>Article content...</Text>
      </Box>
    </Container>
  </Box>
</Box>

// ✅ Good: Navigation with semantic nav element
<Block component="nav" p="md" bg="background" border="default">
  <Stack gap="sm">
    <a href="/">Home</a>
    <a href="/about">About</a>
  </Stack>
</Block>

// ✅ Good: Proper heading hierarchy
<Block component="article">
  <Title order={1}>Main Title</Title>
  <Title order={2}>Section Title</Title>
  <Title order={3}>Subsection Title</Title>
</Block>
```

**Sources:** [README.md14](https://github.com/ui8kit/core/blob/2afe2195/README.md#L14-L14) [src/components/README.md28-64](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L28-L64) [src/core/ui/Block.tsx1-15](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx#L1-L15)

---

## Accessibility Best Practices

Ensure all components are accessible to users with disabilities by following WCAG guidelines.

### Core Accessibility Principles

| Principle               | Implementation                                          | Example                                             |
| ----------------------- | ------------------------------------------------------- | --------------------------------------------------- |
| **Keyboard Navigation** | Ensure all interactive elements are keyboard accessible | Use semantic `<button>` instead of `<div onClick>`  |
| **ARIA Labels**         | Provide labels for screen readers                       | `aria-label`, `aria-labelledby`, `aria-describedby` |
| **Focus Management**    | Visible focus indicators                                | `:focus-visible` styles                             |
| **Color Contrast**      | Minimum 4.5:1 ratio for text                            | Use design system colors                            |
| **Alt Text**            | Descriptive text for images                             | Always provide `alt` prop                           |

```
// ✅ Good: Accessible button
<Button 
  variant="primary" 
  size="md"
  aria-label="Submit form"
  className="focus-visible:ring-2 focus-visible:ring-primary"
>
  Submit
</Button>

// ✅ Good: Accessible image
<Image 
  src="/product.jpg"
  alt="Blue running shoes with white stripes"
  rounded="lg"
/>

// ✅ Good: Accessible navigation
<Block component="nav" aria-label="Main navigation">
  <Stack gap="md" role="list">
    <a href="/" role="listitem">Home</a>
    <a href="/about" role="listitem">About</a>
  </Stack>
</Block>

// ❌ Bad: Non-semantic interactive element
<Box 
  onClick={handleClick}
  className="cursor-pointer"
>
  Click me
</Box>

// ✅ Good: Use Button component
<Button onClick={handleClick}>
  Click me
</Button>
```

**Sources:** [README.md14](https://github.com/ui8kit/core/blob/2afe2195/README.md#L14-L14) [src/components/ui/Button.tsx1-40](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx#L1-L40) [src/components/ui/Image.tsx1-20](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Image.tsx#L1-L20)

### Form Accessibility

```
// ✅ Good: Accessible form with semantic structure
<Block component="form" onSubmit={handleSubmit}>
  <Stack gap="md">
    <Box>
      <Text as="label" htmlFor="email" weight="medium" mb="xs">
        Email
      </Text>
      <Box
        component="input"
        id="email"
        type="email"
        aria-required="true"
        aria-describedby="email-error"
        p="sm"
        rounded="md"
        border="default"
        w="full"
      />
      <Text id="email-error" size="sm" c="destructive" mt="xs">
        {emailError}
      </Text>
    </Box>
    
    <Button type="submit" variant="primary">
      Submit
    </Button>
  </Stack>
</Block>
```

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md1-50](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L1-L50) [src/components/README.md239](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L239-L239)

---

## Performance Optimization

Follow these patterns to maintain optimal performance in large applications.

### Component Composition vs Prop Drilling

```
// ✅ Good: Compose components naturally
<Card p="lg" rounded="xl">
  <Card.Header>
    <Title order={2}>Product</Title>
  </Card.Header>
  <Card.Content>
    <Stack gap="md">
      <Image src="/product.jpg" alt="Product" />
      <Text>Description</Text>
    </Stack>
  </Card.Content>
  <Card.Footer>
    <Button variant="primary">Buy Now</Button>
  </Card.Footer>
</Card>

// ❌ Bad: Excessive prop drilling
<ProductCard
  title="Product"
  imageSrc="/product.jpg"
  imageAlt="Product"
  description="Description"
  buttonText="Buy Now"
  buttonVariant="primary"
  cardPadding="lg"
  cardRounded="xl"
/>
```

**Sources:** [README.md306-338](https://github.com/ui8kit/core/blob/2afe2195/README.md#L306-L338) [src/components/ui/Card.tsx1-80](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx#L1-L80)

### Memoization Guidelines

```
import { memo } from 'react';

// ✅ Good: Memoize expensive list items
const ProductCard = memo(({ product }) => (
  <Card p="md" rounded="lg">
    <Card.Content>
      <Stack gap="sm">
        <Image src={product.image} alt={product.name} />
        <Text>{product.name}</Text>
        <Text size="sm" c="muted-foreground">
          ${product.price}
        </Text>
      </Stack>
    </Card.Content>
  </Card>
));

// ✅ Good: Use forwardRef for ref forwarding
import { forwardRef } from 'react';

const CustomInput = forwardRef((props, ref) => (
  <Box
    component="input"
    ref={ref}
    p="sm"
    rounded="md"
    border="default"
    {...props}
  />
));
```

**Sources:** [src/core/ui/Box.tsx1-30](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx#L1-L30) [src/components/ui/Button.tsx1-40](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx#L1-L40)

### Avoid Unnecessary Re-renders

```
// ✅ Good: Use primitive values as dependencies
const [count, setCount] = useState(0);

useEffect(() => {
  // Effect logic
}, [count]);

// ❌ Bad: Object/array dependencies cause unnecessary re-renders
const config = { theme: 'dark' };

useEffect(() => {
  // This runs on every render
}, [config]);

// ✅ Good: Extract primitive values
const theme = config.theme;

useEffect(() => {
  // This runs only when theme changes
}, [theme]);
```

**Sources:** [README.md341-359](https://github.com/ui8kit/core/blob/2afe2195/README.md#L341-L359)

---

## Composition Patterns

The library supports multiple composition patterns. Choose the appropriate pattern for your use case.

### Pattern Comparison

```
Pattern 4: Children Composition

Stack

Child component 1

Child component 2

Child component 3

Pattern 3: Content Hooks

LayoutBlock

beforeContent function

content function

afterContent function

Pattern 2: Prop Forwarding

Button
extends BaseButton

spacingVariants
roundedVariants
shadowVariants

Pattern 1: Compound Components

Card

Card.Header

Card.Content

Card.Footer
```

**Sources:** [README.md15-17](https://github.com/ui8kit/core/blob/2afe2195/README.md#L15-L17) [src/layouts/LayoutBlock.tsx15-22](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L15-L22) [src/components/ui/Card.tsx1-80](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx#L1-L80)

### Compound Components Pattern

Use for flexible component structures with predefined sub-components:

```
// ✅ Good: Flexible card composition
<Card p="lg" rounded="xl" shadow="md">
  <Card.Header>
    <Card.Title>Title</Card.Title>
    <Card.Description>Description</Card.Description>
  </Card.Header>
  <Card.Content>
    <Stack gap="md">
      {/* Content */}
    </Stack>
  </Card.Content>
  <Card.Footer>
    <Group gap="md" justify="end">
      <Button variant="secondary">Cancel</Button>
      <Button variant="primary">Save</Button>
    </Group>
  </Card.Footer>
</Card>

// ✅ Good: Optional parts
<Card p="lg">
  <Card.Content>
    {/* Only content, no header/footer */}
  </Card.Content>
</Card>
```

**Sources:** [README.md38-59](https://github.com/ui8kit/core/blob/2afe2195/README.md#L38-L59) [README.md121-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L121-L145) [src/components/ui/Card.tsx1-80](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx#L1-L80)

### Prop Forwarding Pattern

All UI components forward variant props from the base components:

```
// ✅ Good: Button with forwarded spacing and visual variants
<Button 
  variant="primary"
  size="lg"
  p="md"        // From spacingVariants
  rounded="lg"  // From roundedVariants
  shadow="sm"   // From shadowVariants
>
  Click me
</Button>

// ✅ Good: Card with forwarded layout variants
<Card
  p="xl"         // From spacingVariants
  rounded="2xl"  // From roundedVariants
  shadow="lg"    // From shadowVariants
  w="full"       // From layoutVariants
  maxW="2xl"     // From layoutVariants
  mx="auto"      // From spacingVariants
>
  Content
</Card>
```

**Sources:** [README.md16](https://github.com/ui8kit/core/blob/2afe2195/README.md#L16-L16) [src/components/README.md12-18](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L12-L18) [src/components/ui/Button.tsx1-40](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx#L1-L40)

### Content Hooks Pattern

Use for dynamic rendering in layout components:

```
// ✅ Good: LayoutBlock with content hooks
<LayoutBlock
  layout="grid"
  cols={3}
  gap="lg"
  contentHooks={{
    beforeContent: () => (
      <Block component="header" mb="lg">
        <Title order={1}>Page Title</Title>
      </Block>
    ),
    content: () => products.map(product => (
      <Card key={product.id} p="md">
        {/* Product card */}
      </Card>
    )),
    afterContent: () => (
      <Block component="footer" mt="lg">
        <Button>Load More</Button>
      </Block>
    )
  }}
/>
```

**Sources:** [src/layouts/LayoutBlock.tsx15-22](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L15-L22) [src/layouts/LayoutBlock.tsx1-50](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx#L1-L50)

---

## Common Anti-Patterns

Avoid these common mistakes when using the library.

### Anti-Pattern 1: Overusing className

```
// ❌ Bad: Using className for variant-covered styles
<Card className="p-12 rounded-2xl shadow-lg bg-card w-full max-w-2xl">
  Content
</Card>

// ✅ Good: Use variants
<Card p="xl" rounded="2xl" shadow="lg" bg="card" w="full" maxW="2xl">
  Content
</Card>
```

### Anti-Pattern 2: Bypassing Semantic HTML

```
// ❌ Bad: Generic divs for navigation
<Box className="nav-container">
  <Box className="nav-item">Home</Box>
  <Box className="nav-item">About</Box>
</Box>

// ✅ Good: Semantic navigation
<Block component="nav" aria-label="Main navigation">
  <Stack gap="md" component="ul" role="list">
    <li><a href="/">Home</a></li>
    <li><a href="/about">About</a></li>
  </Stack>
</Block>
```

### Anti-Pattern 3: Recreating Existing Components

```
// ❌ Bad: Recreating Button component
const CustomButton = ({ children, ...props }) => (
  <Box
    component="button"
    className="inline-flex items-center justify-center rounded-md px-4 py-2 bg-primary text-white"
    {...props}
  >
    {children}
  </Box>
);

// ✅ Good: Extend existing Button
import { Button } from '@ui8kit/core';

const CustomButton = ({ children, ...props }) => (
  <Button 
    variant="primary" 
    size="md"
    className="custom-animation" // Only add custom styles
    {...props}
  >
    {children}
  </Button>
);
```

### Anti-Pattern 4: Excessive Nesting

```
// ❌ Bad: Unnecessary wrapper nesting
<Box>
  <Box>
    <Box>
      <Box>
        <Text>Content</Text>
      </Box>
    </Box>
  </Box>
</Box>

// ✅ Good: Minimal nesting
<Box>
  <Text>Content</Text>
</Box>

// ✅ Good: Use Stack for spacing instead of wrappers
<Stack gap="md">
  <Text>Item 1</Text>
  <Text>Item 2</Text>
  <Text>Item 3</Text>
</Stack>
```

### Anti-Pattern 5: Ignoring data-class Attributes

```
// ❌ Bad: Custom selectors without data-class
<Card className="my-custom-card">
  <div className="my-custom-header">Header</div>
</Card>

// ✅ Good: Use data-class attributes for targeting
<Card data-class="product-card">
  <Card.Header data-class="product-card-header">
    Header
  </Card.Header>
</Card>

// In CSS or testing:
// [data-class="product-card"] { ... }
// screen.getByTestId('product-card')
```

**Sources:** [src/components/README.md223-235](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L223-L235) [src/components/README.md237-244](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L237-L244)

---

## Summary Checklist

Use this checklist when building interfaces with @ui8kit/core:

- [ ] **Component Selection**: Use the appropriate layer (Core/UI/Layout) for each use case
- [ ] **Variant System**: Prefer variants over className for \~80% of styling needs
- [ ] **Semantic HTML**: Use appropriate semantic elements via `component` prop on `Block`
- [ ] **Accessibility**: Include ARIA labels, keyboard navigation, and focus management
- [ ] **Performance**: Compose components naturally, avoid prop drilling
- [ ] **Composition**: Use compound components, prop forwarding, and content hooks appropriately
- [ ] **Data Attributes**: Utilize `data-class` attributes for DOM targeting and testing
- [ ] **Type Safety**: Leverage TypeScript types for prop validation
- [ ] **Avoid Anti-Patterns**: Don't overuse className, bypass semantics, or recreate components

**Sources:** [README.md388-402](https://github.com/ui8kit/core/blob/2afe2195/README.md#L388-L402) [src/components/README.md237-244](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L237-L244)

# ================================================================================

# FILE 16: development-guide\dark-mode.mdx
# ================================================================================
---
title: 'Dark Mode'
description: 'UI8Kit Core dark mode implementation - theme provider, state management, persistence, and Tailwind CSS integration'
---

# Dark Mode

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [src/themes/index.ts](https://github.com/ui8kit/core/blob/2afe2195/src/themes/index.ts)
- [src/themes/providers/ThemeProvider.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx)

This document explains the dark mode implementation in `@ui8kit/core`, including the theme provider mechanism, state management, persistence strategies, and integration with Tailwind CSS. For general theming and variant styling, see [Variant System](#3.2). For component-specific styling patterns, see [Best Practices](#5.3).

## Purpose and Scope

The dark mode system provides automatic theme switching with persistent user preferences and system-level dark mode detection. The implementation is built around a React Context provider pattern that manages theme state, applies CSS classes to the document root, and synchronizes preferences to localStorage.

**Sources**: [src/themes/providers/ThemeProvider.tsx1-93](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L1-L93)

---

## ThemeProvider Architecture

The `ThemeProvider` component wraps the application and manages all theme-related state through React Context. It accepts a `theme` object conforming to the `ThemeBase` type and provides theme values and control functions through the context.

```
Browser APIs

State Management

ThemeProvider Component

Application Layer

reads from

reads from

reads from

writes to

updates

Application Root

Child Components

ThemeProvider

ThemeContext

useState hooks

useEffect hooks

isDarkMode: boolean

prefersReducedMotion: boolean

theme: ThemeBase

localStorage
ui:dark key

matchMedia
prefers-color-scheme

matchMedia
prefers-reduced-motion

document.documentElement
classList.toggle('dark')
```

**Diagram: ThemeProvider data flow and browser API integration**

The provider initializes state from three sources in priority order:

1. localStorage value at key `"ui:dark"` (if present)
2. System preference via `window.matchMedia('(prefers-color-scheme: dark)')`
3. Default fallback value of `false`

**Sources**: [src/themes/providers/ThemeProvider.tsx25-44](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L25-L44) [src/themes/providers/ThemeProvider.tsx70-83](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L70-L83)

---

## Dark Mode State Initialization and Persistence

The dark mode state follows a specific initialization and persistence flow that ensures user preferences are preserved across sessions while respecting system preferences when no explicit preference exists.

```
Update Flow

Initialization Flow

Yes

No

Yes

No

ThemeProvider mounts

Check localStorage
window.localStorage.getItem('ui:dark')

stored !== null?

Parse stored value
stored === '1' → true
stored === '0' → false

Check system preference
window.matchMedia('(prefers-color-scheme: dark)')

matchMedia
supported?

Get .matches value

Default to false

setIsDarkMode(value)

isDarkMode state changes

document.documentElement.classList.toggle('dark', isDarkMode)

document.documentElement.style.colorScheme = isDarkMode ? 'dark' : 'light'

localStorage.setItem('ui:dark', isDarkMode ? '1' : '0')
```

**Diagram: Dark mode state initialization and synchronization flow**

The initialization logic uses a lazy state initializer function to compute the initial value once during mount. The persistence mechanism stores values as string `"1"` (dark) or `"0"` (light) in localStorage at key `"ui:dark"`.

**Sources**: [src/themes/providers/ThemeProvider.tsx28-35](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L28-L35) [src/themes/providers/ThemeProvider.tsx37-44](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L37-L44)

---

## ThemeContextValue Interface

The `ThemeContext` provides a typed interface for accessing theme state and control functions. Components consume this context via the `useTheme` hook.

| Property               | Type                       | Description                          |
| ---------------------- | -------------------------- | ------------------------------------ |
| `theme`                | `T extends ThemeBase`      | The theme configuration object       |
| `rounded`              | `T['rounded']`             | Rounded corner variants from theme   |
| `buttonSize`           | `T['buttonSize']`          | Button size variants from theme      |
| `isDarkMode`           | `boolean`                  | Current dark mode state              |
| `isNavFixed`           | `boolean \| undefined`     | Optional navigation fixed state      |
| `prefersReducedMotion` | `boolean`                  | User's reduced motion preference     |
| `toggleDarkMode`       | `() => void`               | Function to toggle dark mode         |
| `setDarkMode`          | `(value: boolean) => void` | Function to set dark mode explicitly |

The `ThemeBase` type defines the minimum structure required for theme objects:

```
export type ThemeBase = {
  name: string;
  rounded: Record<string, any> & { default: any };
  buttonSize: Record<string, any> & { default: any };
  isNavFixed?: boolean;
};
```

**Sources**: [src/themes/providers/ThemeProvider.tsx4-10](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L4-L10) [src/themes/providers/ThemeProvider.tsx12-21](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L12-L21)

---

## Using the useTheme Hook

Components access theme context through the `useTheme` hook, which enforces usage within a `ThemeProvider` and returns the typed context value.

**Hook Usage Pattern:**

```
import { useTheme } from '@ui8kit/core';

function ThemeToggle() {
  const { isDarkMode, toggleDarkMode } = useTheme();
  
  return (
    <button onClick={toggleDarkMode}>
      {isDarkMode ? '☀️' : '🌙'}
    </button>
  );
}
```

The hook implementation throws an error if used outside a provider context, ensuring proper setup at the application root.

**Sources**: [src/themes/providers/ThemeProvider.tsx87-93](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L87-L93) [README.md235-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L235-L249)

---

## Dark Mode Toggle Implementation

The library provides two methods for controlling dark mode state:

### toggleDarkMode Function

Inverts the current dark mode state:

```
const { toggleDarkMode } = useTheme();
// Calling toggleDarkMode() switches between light and dark
```

### setDarkMode Function

Sets dark mode to a specific value:

```
const { setDarkMode } = useTheme();
// setDarkMode(true)  → Force dark mode
// setDarkMode(false) → Force light mode
```

Both functions trigger the persistence flow that updates the DOM and localStorage synchronously.

**Sources**: [src/themes/providers/ThemeProvider.tsx78-79](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L78-L79) [README.md240-248](https://github.com/ui8kit/core/blob/2afe2195/README.md#L240-L248)

---

## Accessibility: Reduced Motion Support

The `ThemeProvider` detects and tracks the user's `prefers-reduced-motion` system preference through the same media query pattern used for dark mode detection.

```
Runtime Monitoring

Initialization

Cleanup

Component Unmount

removeEventListener

Component Mount

window.matchMedia('prefers-reduced-motion: reduce')

setPrefersReducedMotion(matches)

MediaQueryList event listener

Change event handler

setPrefersReducedMotion(e.matches)
```

**Diagram: Reduced motion preference detection and monitoring**

The implementation includes fallback for older browsers that use `addListener`/`removeListener` instead of `addEventListener`/`removeEventListener`. Components can access this value through the context to conditionally disable animations.

**Sources**: [src/themes/providers/ThemeProvider.tsx46-68](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L46-L68)

---

## Tailwind CSS Integration

The dark mode system integrates with Tailwind CSS through the `.dark` class applied to `document.documentElement`. This requires Tailwind configuration with `darkMode: 'class'`:

```
// tailwind.config.js
module.exports = {
  darkMode: 'class',
  // ... other config
}
```

When `isDarkMode` is `true`, the provider adds the `dark` class to the root element, activating Tailwind's `dark:` variant modifiers:

```
<div className="bg-white dark:bg-slate-900 text-black dark:text-white">
  Content adapts to dark mode
</div>
```

The provider also sets `document.documentElement.style.colorScheme` to `"dark"` or `"light"`, which signals the user's preference to the browser for native form controls and scrollbars.

**Sources**: [src/themes/providers/ThemeProvider.tsx37-44](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L37-L44) [README.md219-233](https://github.com/ui8kit/core/blob/2afe2195/README.md#L219-L233)

---

## Theme Configuration

Applications must wrap their root component with `ThemeProvider` and pass a theme object. The library exports three pre-configured themes:

| Theme Export    | Module         | Theme Name |
| --------------- | -------------- | ---------- |
| `modernUITheme` | `@ui8kit/core` | "modernUI" |
| `skyOSTheme`    | `@ui8kit/core` | "skyOS"    |
| `lesseUITheme`  | `@ui8kit/core` | "lesseUI"  |

**Setup Pattern:**

```
import { ThemeProvider, modernUITheme } from '@ui8kit/core';

export function App() {
  return (
    <ThemeProvider theme={modernUITheme}>
      <YourApp />
    </ThemeProvider>
  );
}
```

Each theme object must satisfy the `ThemeBase` type constraint with `name`, `rounded`, and `buttonSize` properties. Custom themes can be created by implementing this interface.

**Sources**: [src/themes/index.ts1-9](https://github.com/ui8kit/core/blob/2afe2195/src/themes/index.ts#L1-L9) [README.md223-233](https://github.com/ui8kit/core/blob/2afe2195/README.md#L223-L233)

---

## Server-Side Rendering Considerations

The implementation includes SSR-safe checks using `typeof window !== 'undefined'` and `typeof document === 'undefined'` guards to prevent runtime errors during server rendering. Initial state computation avoids accessing browser APIs until the client hydration phase.

The lazy state initializer pattern ensures that:

1. State initialization logic runs only once during mount
2. Browser API access is safely guarded
3. SSR environments receive sensible defaults (`false` for dark mode)

Error handling wraps localStorage operations in try-catch blocks to prevent failures from blocking the application in environments with restricted storage access.

**Sources**: [src/themes/providers/ThemeProvider.tsx28-35](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L28-L35) [src/themes/providers/ThemeProvider.tsx37-44](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L37-L44) [src/themes/providers/ThemeProvider.tsx46-49](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L46-L49)

# ================================================================================

# FILE 17: development-guide\development-guide.mdx
# ================================================================================
---
title: 'Development Guide'
description: 'UI8Kit Core development workflows - component selection, variant usage, architectural navigation, and integration approaches'
---

# Development Guide

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)

This guide provides practical workflows for developers working with `@ui8kit/core`. It covers component selection strategies, variant system usage patterns, architectural layer navigation, and integration approaches. This page serves as an entry point to understanding how to effectively use the library in different development scenarios.

For detailed step-by-step examples, see [Basic Workflow](#5.1). For handling edge cases and custom implementations, see [Advanced Workflow](#5.2). For general recommendations, see [Best Practices](#5.3). For theme configuration, see [Dark Mode](#5.4).

---

## Development Workflow Overview

The library supports three primary development approaches based on architectural layers:

### Layer-Based Development Model

```
Styling Layer

Layer 1: Core Primitives

Layer 2: UI Components

Layer 3: Layouts

Decision Tree

Yes

No

Yes

No

Yes

Development Start

Need custom layout structure?

Need pre-styled component?

Need basic primitive?

Use Layout Components

Use Composite Components

Use Core Primitives

DashLayout
src/layouts/DashLayout.tsx

LayoutBlock
src/layouts/LayoutBlock.tsx

SplitBlock
src/layouts/SplitBlock.tsx

Button
src/components/ui/Button.tsx

Card + Card.Header/Content/Footer
src/components/ui/Card.tsx

Accordion
src/components/ui/Accordion.tsx

Sheet
src/components/ui/Sheet.tsx

Box
src/core/ui/Box.tsx

Block
src/core/ui/Block.tsx

Grid
src/core/ui/Grid.tsx

Flex
src/core/ui/Flex.tsx

Stack
src/core/ui/Stack.tsx

Apply CVA Variants
src/core/variants/

spacingVariants

colorVariants

layoutVariants

typographyVariants

effectsVariants
```

**Sources**: [README.md64-169](https://github.com/ui8kit/core/blob/2afe2195/README.md#L64-L169) [.devin/wiki.json4-5](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L4-L5)

---

## Component Selection Guide

### When to Use Each Layer

| Scenario                      | Layer   | Component Choice | Example Use Case                                   |
| ----------------------------- | ------- | ---------------- | -------------------------------------------------- |
| **Dashboard application**     | Layer 3 | `DashLayout`     | Admin panel with sidebar, header, resizable panels |
| **Content section with grid** | Layer 3 | `LayoutBlock`    | Landing page sections with multiple content blocks |
| **Two-column split**          | Layer 3 | `SplitBlock`     | Feature comparison, image + text layouts           |
| **Action button**             | Layer 2 | `Button`         | Form submit, navigation, CTAs                      |
| **Content card**              | Layer 2 | `Card`           | Product cards, blog posts, user profiles           |
| **Collapsible sections**      | Layer 2 | `Accordion`      | FAQ, settings panels                               |
| **Side drawer**               | Layer 2 | `Sheet`          | Mobile menu, filters, notifications                |
| **Custom form**               | Layer 1 | `Block` + `Box`  | Form elements when UI components insufficient      |
| **Generic container**         | Layer 1 | `Box`            | Wrapper with specific styling needs                |
| **CSS Grid layout**           | Layer 1 | `Grid`           | Photo galleries, product grids                     |
| **Flexbox layout**            | Layer 1 | `Flex`           | Navigation bars, toolbars                          |
| **Vertical/horizontal stack** | Layer 1 | `Stack`          | Form fields, button groups                         |

**Sources**: [README.md80-169](https://github.com/ui8kit/core/blob/2afe2195/README.md#L80-L169) [.devin/wiki.json7-13](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L7-L13)

---

## Variant System Application

### Variant Flow in Development

```
Component Application

Runtime Processing

Variant Categories

Developer Workflow

Write JSX with variant props

Select from 12 variant categories

TypeScript validates props

Spacing: p, m, px, py, mx, my, etc.
src/core/variants/spacingVariants.ts

Colors: bg, c, borderColor
src/core/variants/colorVariants.ts

Layout: w, h, minH, maxW, position
src/core/variants/layoutVariants.ts

Typography: size, weight, align, leading
src/core/variants/typographyVariants.ts

Effects: rounded, shadow, border
src/core/variants/effectsVariants.ts

class-variance-authority
resolves variants

Generated Tailwind classes

core-classes.json
618 class whitelist
src/lib/core-classes.json

Core Primitives
Direct variant application

Composite Components
Prop forwarding

Rendered DOM
with data-class attributes
```

**Sources**: [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217) [.devin/wiki.json19-21](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L19-L21)

---

## Common Development Patterns

### Pattern 1: Using Primitives Directly

For basic layout needs, use core primitives with variants:

```
import { Box, Stack } from '@ui8kit/core';

// Simple container with variants
<Box p="lg" bg="card" rounded="xl" shadow="md">
  <Stack gap="md">
    {/* content */}
  </Stack>
</Box>
```

**When to use**: Custom layouts, simple wrappers, form structures.

**Component files**: [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx) [src/core/ui/Stack.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Stack.tsx)

---

### Pattern 2: Using Composite Components

For pre-styled UI elements, use Layer 2 components:

```
import { Button, Card } from '@ui8kit/core';

// Composite with compound parts
<Card p="lg" shadow="md">
  <Card.Header>
    <Card.Title>Title</Card.Title>
  </Card.Header>
  <Card.Content>
    Content
  </Card.Content>
  <Card.Footer>
    <Button variant="primary">Action</Button>
  </Card.Footer>
</Card>
```

**When to use**: Standard UI patterns, consistent styling across app.

**Component files**: [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx) [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx)

---

### Pattern 3: Using Layout Templates

For application structure, use Layer 3 layouts:

```
import { DashLayout, Container } from '@ui8kit/core';

// Dashboard template
<DashLayout 
  sidebar={<Sidebar />}
  header={<Header />}
>
  <Container>
    {/* main content */}
  </Container>
</DashLayout>
```

**When to use**: Dashboard apps, admin panels, complex multi-section pages.

**Component files**: [src/layouts/DashLayout.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx) [src/components/ui/Container.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Container.tsx)

---

### Pattern 4: Prop Forwarding with Variants

Composite components inherit variant props from primitives:

```
import { Button } from '@ui8kit/core';

// Button extends Box, inherits all variant props
<Button 
  variant="primary"
  size="md"
  p="lg"           // spacing variant from Box
  rounded="xl"     // effects variant from Box
  shadow="sm"      // effects variant from Box
>
  Submit
</Button>
```

**When to use**: Need additional styling beyond component defaults.

**Component files**: [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx) [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx)

---

### Pattern 5: Content Hooks in Layouts

Layouts support dynamic content injection:

```
import { LayoutBlock } from '@ui8kit/core';

<LayoutBlock
  layout="grid"
  contentHooks={{
    beforeContent: () => <Header />,
    content: () => <MainContent />,
    afterContent: () => <Footer />
  }}
/>
```

**When to use**: Flexible content sections, dynamic layouts.

**Component files**: [src/layouts/LayoutBlock.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/LayoutBlock.tsx)

**Sources**: [README.md36-60](https://github.com/ui8kit/core/blob/2afe2195/README.md#L36-L60) [README.md278-338](https://github.com/ui8kit/core/blob/2afe2195/README.md#L278-L338)

---

## Integration Approaches

### Installation Method Selection

```
Method 4: Direct Source

Method 3: Git Submodule

Method 2: Per-Component Install

Method 1: Full NPM Install

Decision Factors

Yes

No

Yes

No

Yes

No

Yes

No

Select Integration Method

Need entire library?

Bundle size critical?

Monorepo architecture?

Custom build required?

npm install @ui8kit/core

Import all 18 components

Uses dist/index.js
ES2022 modules

npx buildy-ui add button card

Reads registry.json metadata

Copies specific files to
components/ui/ or layouts/

git submodule add
Unsupported markdown: link

packages/@ui8kit/core

Import from submodule path

Copy src/ directory

Custom TypeScript build

Full control over compilation
```

**Sources**: [README.md252-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L252-L276) [.devin/wiki.json15-17](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L15-L17) [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json)

---

## Development Environment Setup

### Required Dependencies

| Dependency                 | Type   | Purpose                       | Installation                          |
| -------------------------- | ------ | ----------------------------- | ------------------------------------- |
| `react`                    | Peer   | React framework               | `npm install react@^18` or `@^19`     |
| `react-dom`                | Peer   | React DOM rendering           | `npm install react-dom@^18` or `@^19` |
| `tailwindcss`              | Dev    | Utility-first CSS             | `npm install -D tailwindcss`          |
| `class-variance-authority` | Direct | Variant engine                | Included with `@ui8kit/core`          |
| `lucide-react`             | Direct | Icons (Sheet, Accordion)      | Included with `@ui8kit/core`          |
| `react-resizable-panels`   | Direct | Resizable panels (DashLayout) | Included with `@ui8kit/core`          |

**Sources**: [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json) [README.md22-34](https://github.com/ui8kit/core/blob/2afe2195/README.md#L22-L34)

---

### Tailwind Configuration

Configure Tailwind to process library classes:

```
// tailwind.config.js
module.exports = {
  content: [
    './src/**/*.{js,jsx,ts,tsx}',
    './node_modules/@ui8kit/core/dist/**/*.js',
  ],
  darkMode: 'class',
  safelist: [
    // Include core-classes.json if needed
  ],
};
```

Import the whitelist for safelist configuration:

```
const coreClasses = require('@ui8kit/core/src/lib/core-classes.json');

module.exports = {
  safelist: coreClasses,
};
```

**Configuration files**: [src/lib/core-classes.json](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json)

**Sources**: [README.md29-34](https://github.com/ui8kit/core/blob/2afe2195/README.md#L29-L34) [src/lib/core-classes.json](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json)

---

## Component Lifecycle in Development

### From Selection to Rendering

```
Runtime Phase

Build Phase

Development Phase

Variant props

Type safety

Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
Unsupported markdown: list
```

**Sources**: [README.md422-440](https://github.com/ui8kit/core/blob/2afe2195/README.md#L422-L440) [.devin/wiki.json4-5](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L4-L5)

---

## Working with Data-Class Attributes

All components use `data-class` attributes for consistent DOM targeting:

### Component Identification Pattern

```
// Card component renders with data-class
<Card p="lg">
  {/* Renders as: */}
  {/* <div data-class="card" class="p-8">...</div> */}
</Card>

// Compound components maintain hierarchy
<Card.Header>
  {/* Renders as: */}
  {/* <div data-class="card-header">...</div> */}
</Card.Header>
```

### Usage in Testing/Automation

```
// Query by data-class in tests
const card = screen.getByTestId('[data-class="card"]');
const header = screen.getByTestId('[data-class="card-header"]');

// CSS selectors
[data-class="card"] { /* styles */ }
[data-class="button"][data-variant="primary"] { /* styles */ }
```

**Component files**: [src/components/ui/Card.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Card.tsx) [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx)

**Sources**: [.devin/wiki.json11-13](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L11-L13)

---

## ForwardRef Pattern Usage

Components use `forwardRef` for ref access to underlying DOM elements:

### Ref Access in Development

```
import { Button, Box } from '@ui8kit/core';
import { useRef } from 'react';

function MyComponent() {
  const buttonRef = useRef<HTMLButtonElement>(null);
  const boxRef = useRef<HTMLDivElement>(null);
  
  const handleClick = () => {
    buttonRef.current?.focus();
    boxRef.current?.scrollIntoView();
  };
  
  return (
    <>
      <Button ref={buttonRef}>Focus me</Button>
      <Box ref={boxRef}>Scroll to me</Box>
    </>
  );
}
```

**When to use refs**: Form field management, scroll control, focus management, DOM measurements.

**Component files**: [src/core/ui/Box.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx) [src/core/ui/Block.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx) [src/components/ui/Button.tsx](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/Button.tsx)

**Sources**: [README.md11-19](https://github.com/ui8kit/core/blob/2afe2195/README.md#L11-L19)

---

## Type Safety in Development

### TypeScript Integration

All components provide full type definitions:

```
import type { ButtonProps, CardProps } from '@ui8kit/core';

// Type-safe prop definitions
interface MyButtonProps extends ButtonProps {
  customProp?: string;
}

// Variant prop types are inferred
<Button 
  variant="primary"  // ✓ Type-safe: 'primary' | 'secondary' | 'ghost' | 'destructive'
  size="md"          // ✓ Type-safe: 'sm' | 'md' | 'lg'
  p="lg"             // ✓ Type-safe: 'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'
>
  Submit
</Button>
```

**Type definition files**: Generated in [dist/index.d.ts](https://github.com/ui8kit/core/blob/2afe2195/dist/index.d.ts) from TypeScript compilation.

**Sources**: [README.md12](https://github.com/ui8kit/core/blob/2afe2195/README.md#L12-L12) [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)

---

## Next Steps

For detailed development workflows:

- **[Basic Workflow](#5.1)** - Step-by-step patterns for common scenarios
- **[Advanced Workflow](#5.2)** - Custom forms and edge case handling
- **[Best Practices](#5.3)** - Performance, accessibility, and code organization
- **[Dark Mode](#5.4)** - Theme provider configuration and usage

For architectural details, see [Architecture](#3). For complete API documentation, see [API Reference](#4).

**Sources**: [.devin/wiki.json170-219](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L170-L219)

# ================================================================================

# FILE 18: development-guide\overview.mdx
# ================================================================================
---
title: 'Advanced Workflow'
description: 'Advanced UI8Kit Core usage - composing core primitives for custom interfaces when composite components are insufficient'
---

# Advanced Workflow

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [src/components/GUIDE\_CREATE\_FORM.md](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md)
- [src/components/README.md](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md)

## Purpose and Scope

This document covers non-standard scenarios where the 15 composite UI components from [src/components/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/) are insufficient for your use case. You will learn how to compose the five core primitives (`Block`, `Box`, `Grid`, `Flex`, `Stack`) from [src/core/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/) to build custom interfaces.

For typical component usage with ready-made composites, see [Basic Workflow](#5.1). For general usage guidelines and patterns, see [Best Practices](#5.3).

**Sources:** [.devin/wiki.json191-198](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L191-L198) [src/components/GUIDE\_CREATE\_FORM.md1-10](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L1-L10)

---

## When to Use Advanced Workflow

The library provides 15 composite components that cover \~80% of common UI scenarios. However, certain elements are intentionally absent from the library:

| Missing Component Type             | Reason for Absence                | Advanced Solution                             |
| ---------------------------------- | --------------------------------- | --------------------------------------------- |
| Form elements (Form, Label, Input) | HTML semantics vary widely        | Compose `Block` + `Box` with `component` prop |
| Select dropdowns                   | Requires complex state management | Use `Box component="select"` with variants    |
| Custom interactive widgets         | Application-specific logic        | Build with primitives + variants              |
| Non-standard layouts               | Unique structural requirements    | Compose `Grid`, `Flex`, `Stack` directly      |

**Decision Tree: Basic vs Advanced Workflow**

```
Yes

No

Yes

No

Yes

No

Need UI element

Component exists in
src/components/ui/?

Use composite component
(Button, Card, Badge)

Standard HTML element
with styling?

Use Block/Box
with component prop

Complex layout
structure?

Compose Grid/Flex/Stack
with primitives

Build custom component
from primitives

Basic Workflow (5.1)

Advanced Workflow (5.2)
```

**Sources:** [src/components/README.md1-8](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L1-L8) [src/components/GUIDE\_CREATE\_FORM.md5-10](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L5-L10)

---

## Building Forms with Block and Box

The library does not include dedicated Form, Label, or Input components. Instead, use the polymorphic `component` prop on `Block` and `Box` to render semantic HTML elements with the full variant system.

### Component Prop Pattern

The `component` prop transforms primitives into any HTML element while maintaining type-safe variant props:

```
Variant Props

Rendered Elements

component prop

Primitive Components

applies to

applies to

applies to

applies to

Block
(semantic container)

Box
(flexible primitive)

component='form'

component='label'

component='input'

component='textarea'

component='select'

<form>

<label>

<input>

<textarea>

<select>

p, m, px, py, etc

w, h, maxW, minH

rounded, border, shadow

bg, c, borderColor
```

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md7-9](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L7-L9)

---

### Form Structure Pattern

Use `Block` with `component="form"` as the form wrapper, applying layout and styling variants:

**Form Container Structure:**

| Element       | Component                    | Props                                               | Purpose                             |
| ------------- | ---------------------------- | --------------------------------------------------- | ----------------------------------- |
| Form wrapper  | `<Block component="form">`   | `w`, `maxW`, `p`, `rounded`, `shadow`, `bg`         | Semantic form container with layout |
| Field groups  | `<Block>`                    | `w="full"`, `className="space-y-2"`                 | Vertical field spacing              |
| Labels        | `<Box component="label">`    | `c`, `className="text-sm font-medium"`              | Accessible field labels             |
| Inputs        | `<Box component="input">`    | `w="full"`, `p`, `rounded`, `border`, `borderColor` | Form input fields                   |
| Textareas     | `<Box component="textarea">` | `w="full"`, `p`, `rounded`, `border`, `minH`        | Multi-line text input               |
| Submit button | `<Button>`                   | `w="full"`, `size`, `variant`                       | Form submission                     |

**Example form structure** (see [src/components/GUIDE\_CREATE\_FORM.md14-32](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L14-L32)):

```
<Block 
  component="form"
  w="full"
  maxW="md"
  p="lg"
  rounded="lg"
  shadow="md"
  bg="white"
>
  {/* Form fields */}
</Block>
```

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md11-33](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L11-L33)

---

### Input Field Patterns

All input types use `Box` with `component="input"` and standard HTML attributes:

**Text Input** ([src/components/GUIDE\_CREATE\_FORM.md37-50](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L37-L50)):

```
<Box 
  component="input"
  type="text"
  placeholder="Enter your name"
  w="full"
  p="md"
  rounded="md"
  border="default"
  borderColor="gray-300"
/>
```

**Input with Focus States** ([src/components/GUIDE\_CREATE\_FORM.md54-67](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L54-L67)):

```
<Box 
  component="input"
  type="text"
  w="full"
  p="md"
  rounded="lg"
  border="default"
  bg="white"
  c="gray-900"
  className="focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
/>
```

**Password Input** ([src/components/GUIDE\_CREATE\_FORM.md70-82](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L70-L82)):

```
<Box 
  component="input"
  type="password"
  placeholder="Password"
  w="full"
  p="md"
  rounded="md"
  border="default"
  borderColor="gray-300"
/>
```

**Number Input with Constraints** ([src/components/GUIDE\_CREATE\_FORM.md84-97](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L84-L97)):

```
<Box 
  component="input"
  type="number"
  placeholder="Age"
  w="full"
  p="md"
  rounded="md"
  border="default"
  min={0}
  max={120}
/>
```

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md35-97](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L35-L97)

---

### Textarea Fields

Use `Box` with `component="textarea"` for multi-line text input:

**Basic Textarea** ([src/components/GUIDE\_CREATE\_FORM.md99-115](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L99-L115)):

```
<Box 
  component="textarea"
  rows={4}
  placeholder="Enter your message"
  w="full"
  p="md"
  rounded="md"
  border="default"
  borderColor="gray-300"
  className="resize-none"
/>
```

**Textarea with Minimum Height** ([src/components/GUIDE\_CREATE\_FORM.md117-129](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L117-L129)):

```
<Box 
  component="textarea"
  placeholder="Description"
  w="full"
  p="md"
  rounded="lg"
  border="default"
  minH="32"
  className="resize-y"
/>
```

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md99-129](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L99-L129)

---

### Complete Form Example

**Contact Form Architecture:**

```
Block component='form'
onSubmit handler
Layout: w='full' maxW='lg' p='lg'
Style: rounded='lg' shadow='lg' bg='white'

Block (Name field group)
w='full' space-y-2

Box component='label'
c='gray-700' text-sm font-medium

Box component='input'
type='text' name='name' required
w='full' p='md' rounded='md'
border='default' borderColor='gray-300'

Block (Email field group)
w='full' space-y-2

Box component='label'
c='gray-700' text-sm font-medium

Box component='input'
type='email' name='email' required
w='full' p='md' rounded='md'

Block (Message field group)
w='full' space-y-2

Box component='label'
c='gray-700' text-sm font-medium

Box component='textarea'
rows=5 name='message' required
w='full' p='md' minH='32'
resize-none focus:ring-2

Button type='submit'
w='full' size='lg' variant='default'
```

Full implementation at [src/components/GUIDE\_CREATE\_FORM.md134-226](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L134-L226) Key patterns:

1. **Form event handling**: `onSubmit` prop on form Block
2. **Field structure**: Block wrapper → label → input in each group
3. **Spacing**: `className="space-y-6"` on form, `className="space-y-2"` on field groups
4. **Validation**: `required` attribute on inputs
5. **Focus states**: Combine variants with `className` for focus rings

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md131-226](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L131-L226)

---

### Multi-Column Form Layout

For complex forms, use `Box` with grid display ([src/components/GUIDE\_CREATE\_FORM.md228-277](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L228-L277)):

```
<Block 
  component="form"
  w="full"
  maxW="2xl"
  p="lg"
  rounded="lg"
  shadow="md"
  bg="white"
>
  <Box 
    display="grid" 
    className="grid-cols-1 md:grid-cols-2 gap-6"
  >
    {/* First Name field */}
    <Block className="space-y-2">
      <Box component="label" className="text-sm font-medium">
        First Name
      </Box>
      <Box 
        component="input"
        type="text"
        w="full"
        p="md"
        rounded="md"
        border="default"
      />
    </Block>

    {/* Last Name field */}
    <Block className="space-y-2">
      <Box component="label" className="text-sm font-medium">
        Last Name
      </Box>
      <Box 
        component="input"
        type="text"
        w="full"
        p="md"
        rounded="md"
        border="default"
      />
    </Block>
  </Box>
</Block>
```

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md228-277](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L228-L277)

---

### Form Validation Pattern

Build reusable validated input components ([src/components/GUIDE\_CREATE\_FORM.md311-339](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L311-L339)):

```
function ValidatedInput({ error, label, ...props }) {
  return (
    <Block w="full" className="space-y-2">
      <Box component="label" c="gray-700" className="text-sm font-medium">
        {label}
      </Box>
      <Box 
        component="input"
        w="full"
        p="md"
        rounded="md"
        border="default"
        borderColor={error ? "red-500" : "gray-300"}
        bg={error ? "red-50" : "white"}
        className={error ? "focus:ring-red-500" : "focus:ring-blue-500"}
        {...props}
      />
      {error && (
        <Box c="red-600" className="text-sm">
          {error}
        </Box>
      )}
    </Block>
  );
}
```

**Pattern breakdown:**

- Conditional `borderColor` and `bg` based on error state
- Dynamic focus ring colors via `className`
- Error message display with `Box` for text color
- Props spreading with `{...props}` for HTML attributes

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md311-339](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L311-L339)

---

## Available Variant Props for Primitives

All primitives support the 12 CVA variant categories. Key variants for form building:

### Spacing Variants

| Prop                                    | Values                                              | Purpose         |
| --------------------------------------- | --------------------------------------------------- | --------------- |
| `p`, `px`, `py`, `pt`, `pb`, `pl`, `pr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`         | Padding control |
| `m`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto` | Margin control  |

### Layout Variants

| Prop      | Values                                                            | Purpose                                   |
| --------- | ----------------------------------------------------------------- | ----------------------------------------- |
| `w`       | `auto`, `full`, `screen`, `fit`, `min`, `max`, `1/2`, `1/3`, etc. | Width control                             |
| `h`       | `auto`, `full`, `screen`, `fit`, `min`, `max`                     | Height control                            |
| `minH`    | Numeric values like `"32"`, `"64"`                                | Minimum height (useful for textareas)     |
| `maxW`    | `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, etc.                  | Maximum width (useful for centered forms) |
| `display` | `block`, `flex`, `grid`, `inline`, `none`                         | Display type                              |

### Border & Style Variants

| Prop          | Values                                               | Purpose       |
| ------------- | ---------------------------------------------------- | ------------- |
| `border`      | `none`, `default`, `2`, `4`, `8`                     | Border width  |
| `borderColor` | All design system colors                             | Border color  |
| `rounded`     | `none`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`, `full` | Border radius |
| `shadow`      | `none`, `sm`, `md`, `lg`, `xl`, `2xl`                | Box shadow    |

### Color Variants

| Prop | Values                                                      | Purpose          |
| ---- | ----------------------------------------------------------- | ---------------- |
| `bg` | All design system colors (e.g., `white`, `card`, `gray-50`) | Background color |
| `c`  | All design system colors (e.g., `gray-700`, `red-600`)      | Text color       |

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md279-301](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L279-L301) [src/components/README.md205-222](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L205-L222)

---

## Best Practices for Advanced Composition

### Form Field Guidelines

1. **Always set `w="full"`** on input fields for consistent width ([src/components/GUIDE\_CREATE\_FORM.md304](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L304-L304))
2. **Use `Block` for form structure** (form element, field groups) ([src/components/GUIDE\_CREATE\_FORM.md305](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L305-L305))
3. **Use `Box` for actual inputs** (input, textarea, select) ([src/components/GUIDE\_CREATE\_FORM.md306](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L306-L306))
4. **Combine variant props with Tailwind classes** for focus states ([src/components/GUIDE\_CREATE\_FORM.md307](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L307-L307))
5. **Use `minH` for textarea** instead of fixed height ([src/components/GUIDE\_CREATE\_FORM.md308](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L308-L308))
6. **Apply `className="resize-none"`** to prevent textarea resizing if needed ([src/components/GUIDE\_CREATE\_FORM.md309](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L309-L309))

### Variant + ClassName Hybrid Pattern

The variant system covers \~80% of styling needs. For remaining 20%, combine variants with `className`:

```
<Box 
  component="input"
  // Variants cover structure
  w="full"
  p="md"
  rounded="md"
  border="default"
  bg="white"
  // className covers interactive states
  className="focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
/>
```

**When to use `className`:**

- Interactive states (`:hover`, `:focus`, `:active`)
- Pseudo-elements (`:before`, `:after`)
- Complex animations
- Grid/flex utilities not covered by variants
- Responsive breakpoints beyond variant system

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md302-310](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L302-L310) [src/components/README.md237-244](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L237-L244)

---

## Custom Component Composition

### Building Reusable Composites

When you need the same pattern repeatedly, extract it into a custom component:

**Pattern: Labeled Input Field**

```
controls

displays

renders

Custom ValidatedInput Component

Block wrapper
w='full' space-y-2

Box component='label'
c='gray-700'
text-sm font-medium

Box component='input'
w='full' p='md'
rounded='md' border='default'
Conditional: borderColor, bg

Box (conditional render)
c='red-600' text-sm
Displays error message

Props:
- error (string | undefined)
- label (string)
- ...props (HTML attributes)
```

**Implementation approach:**

1. Accept variant props and HTML attributes via props spreading
2. Handle conditional logic (error states, validation)
3. Maintain accessibility (label associations, ARIA attributes)
4. Return primitive composition (Block + Box)

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md311-339](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L311-L339)

---

### Non-Form Custom Scenarios

**Custom Interactive Widgets:**

When building application-specific widgets (sliders, pickers, custom controls):

1. **Start with `Box` or `Block`** as container
2. **Apply semantic `component` prop** (`<Box component="button">` for clickable elements)
3. **Use variant props** for layout and styling
4. **Add event handlers** (`onClick`, `onChange`, etc.)
5. **Combine with `className`** for complex interactions

**Custom Layout Structures:**

For unique layout requirements not covered by DashLayout, LayoutBlock, or SplitBlock:

1. **Compose `Grid`, `Flex`, or `Stack`** from [src/core/ui/](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/)
2. **Apply layout variants** (`cols`, `gap`, `align`, `justify`)
3. **Nest primitives** for hierarchical structure
4. **Use `Block` with `component="section"`/`component="aside"`** for semantic markup

**Sources:** [src/components/README.md237-244](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L237-L244) [.devin/wiki.json191-198](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L191-L198)

---

## Comparison: Basic vs Advanced Workflow

**When to use each approach:**

```
Advanced Workflow (5.2)

Basic Workflow (5.1)

Yes

No

Ready-made components exist

Card, Button, Badge,
Title, Text, Image, Icon

Use composite components
from src/components/ui/

Example:
<Card p='lg' rounded='xl'>

Custom requirements

Form elements, custom widgets,
unique layouts

Compose primitives
from src/core/ui/

Example:
<Block component='form'>
<Box component='input'/>

Component exists
in library?
```

**Capability matrix:**

| Feature           | Basic Workflow                   | Advanced Workflow                 |
| ----------------- | -------------------------------- | --------------------------------- |
| Development speed | Fast (pre-built components)      | Moderate (manual composition)     |
| Flexibility       | Limited to component props       | Full control via primitives       |
| Code maintenance  | Easier (fewer components)        | More complex (more code)          |
| Type safety       | Full (composite component types) | Full (primitive component types)  |
| Variant support   | Via prop forwarding              | Direct application                |
| Semantic HTML     | Predefined structure             | Full control via `component` prop |
| Best for          | Standard UI patterns             | Custom/unique requirements        |

**Sources:** [src/components/README.md1-19](https://github.com/ui8kit/core/blob/2afe2195/src/components/README.md#L1-L19) [src/components/GUIDE\_CREATE\_FORM.md1-10](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L1-L10)

---

## Summary

The advanced workflow enables building custom interfaces when the 15 composite components are insufficient:

1. **Forms**: Compose `Block` + `Box` with `component` prop for form elements, labels, and inputs
2. **Custom widgets**: Use primitives with semantic `component` props and variant system
3. **Unique layouts**: Compose `Grid`, `Flex`, `Stack` for structural requirements
4. **Hybrid approach**: Combine variant props (\~80% coverage) with `className` for edge cases

For standard scenarios with existing components, use [Basic Workflow](#5.1). For general guidelines, see [Best Practices](#5.3).

**Sources:** [src/components/GUIDE\_CREATE\_FORM.md341-347](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L341-L347) [.devin/wiki.json191-198](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L191-L198)

# ================================================================================

# FILE 19: getting-started.mdx
# ================================================================================
---
title: 'Getting Started'
description: 'Installation and setup guide for UI8Kit Core - step-by-step instructions for integrating the React component library'
---

# Getting Started

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [SUBMODULE\_GUIDE.md](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md)
- [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)

This document covers the installation, configuration, and initial setup of `@ui8kit/core` in your React application. It provides step-by-step instructions for integrating the library into different project types (Next.js, Vite, Create React App) and demonstrates basic component usage patterns.

For detailed architectural information, see [Architecture](#3). For complete component API documentation, see [API Reference](#4). For advanced integration patterns including monorepo setup, refer to [SUBMODULE\_GUIDE.md](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md)

---

## Prerequisites

Before installing `@ui8kit/core`, ensure your development environment meets these requirements:

| Requirement      | Version           | Purpose               |
| ---------------- | ----------------- | --------------------- |
| **Node.js**      | 18.0.0+           | JavaScript runtime    |
| **React**        | 18.0.0 or 19.0.0+ | Peer dependency       |
| **React DOM**    | 18.0.0 or 19.0.0+ | Peer dependency       |
| **Tailwind CSS** | 3.4.0+            | Utility-first styling |
| **TypeScript**   | 5.0.0+ (optional) | Type safety           |

**Sources:** [package.json55-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L55-L58) [package.json59-66](https://github.com/ui8kit/core/blob/2afe2195/package.json#L59-L66)

---

## Installation Methods

The library supports multiple installation approaches to accommodate different project architectures and optimization requirements.

### Installation Flow

```
Choose Installation Method

Full Library Installation
npm install @ui8kit/core

Per-Component Installation
npx buildy-ui add button

Monorepo Submodule
git submodule add

Direct Source Integration
Copy src/ directory

NPM Registry
@ui8kit/Unsupported markdown: link

registry.json
Component metadata

GitHub Repository
ui8kit/core

Application Setup

Configure Tailwind
tailwind.config.js

Import CSS
index.css or globals.css

Setup ThemeProvider
App.tsx or _app.tsx
```

**Sources:** [README.md21-34](https://github.com/ui8kit/core/blob/2afe2195/README.md#L21-L34) [README.md252-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L252-L276) [package.json1-70](https://github.com/ui8kit/core/blob/2afe2195/package.json#L1-L70)

---

### Method 1: Full Library Installation (Recommended)

Install the complete library with all 15 UI components and 3 layout templates:

```
npm install @ui8kit/core react react-dom
```

This installs:

- Core primitives: `Block`, `Box`, `Grid`, `Flex`, `Stack`
- UI components: `Button`, `Card`, `Text`, `Title`, `Container`, `Icon`, `Image`, `Badge`, `Group`, `Sheet`, `Accordion`
- Layout components: `DashLayout`, `LayoutBlock`, `SplitBlock`
- CVA variant system and theme utilities

**Sources:** [README.md25-27](https://github.com/ui8kit/core/blob/2afe2195/README.md#L25-L27) [package.json31-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L37)

---

### Method 2: Per-Component Installation

Install individual components for optimal bundle size:

```
npx buildy-ui add button card text
```

This method uses [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json) to install only the requested components and their dependencies. Each component is deployed to its target directory:

- UI components → `components/ui/`
- Layout components → `layouts/`

**Sources:** [README.md260-265](https://github.com/ui8kit/core/blob/2afe2195/README.md#L260-L265) [src/registry.json](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json)

---

### Method 3: Monorepo Submodule

For monorepo architectures, integrate as a Git submodule:

```
git submodule add https://github.com/ui8kit/core.git packages/@ui8kit/core
git submodule update --init --recursive
```

This approach provides:

- Direct source access for customization
- Turbo/workspace integration
- Zero-copy dependency resolution

Complete monorepo setup instructions are available in [SUBMODULE\_GUIDE.md1-713](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L1-L713)

**Sources:** [SUBMODULE\_GUIDE.md136-144](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L136-L144) [SUBMODULE\_GUIDE.md594-608](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L594-L608)

---

## Project Setup

After installation, configure your project to enable Tailwind CSS utilities, theme variables, and TypeScript path resolution.

### Setup Steps by File

```
Component Usage

Application Entry

Configuration Files

tailwind.config.js
Content paths, dark mode, theme

tsconfig.json
Path aliases for @ui8kit/core

index.css / globals.css
CSS variables, Tailwind layers

postcss.config.js
Tailwind + Autoprefixer

App.tsx / _app.tsx
ThemeProvider wrapper

main.tsx / index.tsx
CSS import, root render

import Button from '@ui8kit/core'

Use variant props:
p='lg' rounded='xl' shadow='md'

useTheme hook:
toggleDarkMode, isDarkMode
```

**Sources:** [SUBMODULE\_GUIDE.md332-437](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L332-L437) [SUBMODULE\_GUIDE.md449-589](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L449-L589)

---

### Step 1: Install Tailwind CSS

If Tailwind CSS is not already installed:

```
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

This generates `tailwind.config.js` and `postcss.config.js`.

**Sources:** [README.md29-34](https://github.com/ui8kit/core/blob/2afe2195/README.md#L29-L34)

---

### Step 2: Configure Tailwind

Update `tailwind.config.js` to include library component paths and enable dark mode:

```
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{ts,tsx,js,jsx}",
    "./node_modules/@ui8kit/core/dist/**/*.js"  // Full library
    // OR for submodule:
    // "./packages/@ui8kit/core/src/**/*.{ts,tsx}"
  ],
  darkMode: 'class',  // Enable class-based dark mode
  theme: {
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        // ... additional semantic colors
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      // ... additional theme extensions
    },
  },
  plugins: [],
}
```

**Critical Configuration:**

- **`content` paths**: Must include library source files to prevent Tailwind from purging necessary classes
- **`darkMode: 'class'`**: Required for theme toggle functionality
- **CSS variable colors**: Enable dynamic theming via `hsl(var(--primary))` pattern

**Sources:** [SUBMODULE\_GUIDE.md332-437](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L332-L437)

---

### Step 3: Setup CSS Variables and Tailwind Layers

Create or update your global CSS file (typically `src/index.css` or `app/globals.css`):

```
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 97.2549%;
    --foreground: 240 3.3333% 11.7647%;
    --card: 0 0% 100%;
    --card-foreground: 240 3.3333% 11.7647%;
    --primary: 187.4739 173.4032% 31.3580%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 94.1176%;
    --secondary-foreground: 0 0% 29.0196%;
    --border: 0 0% 87.8431%;
    --radius: 0.625rem;
    /* ... additional light mode variables */
  }
  
  .dark {
    --background: 0 0% 7.0588%;
    --foreground: 0 0% 87.8431%;
    --card: 0 0% 11.7647%;
    --card-foreground: 0 0% 87.8431%;
    --primary: 189.9661 161.8632% 27.5935%;
    --primary-foreground: 183.1588 99.9180% 96.2486%;
    --secondary: 0 0% 16.4706%;
    --secondary-foreground: 0 0% 80%;
    --border: 0 0% 20%;
    /* ... additional dark mode variables */
  }
}
```

**Variable Format:**

- Colors use HSL format without the `hsl()` wrapper: `"187.4739 173.4032% 31.3580%"`
- Applied in Tailwind config as: `hsl(var(--primary))`
- This pattern enables runtime theme switching

**Sources:** [SUBMODULE\_GUIDE.md449-589](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L449-L589)

---

### Step 4: Configure TypeScript (Optional)

If using TypeScript, add path aliases to `tsconfig.json`:

```
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "jsx": "react-jsx",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"],
      "@ui8kit/core": ["./node_modules/@ui8kit/core/dist"],
      "@ui8kit/core/*": ["./node_modules/@ui8kit/core/dist/*"]
      // OR for submodule:
      // "@ui8kit/core": ["./packages/@ui8kit/core/src"],
      // "@ui8kit/core/*": ["./packages/@ui8kit/core/src/*"]
    }
  }
}
```

**Sources:** [SUBMODULE\_GUIDE.md187-217](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L187-L217)

---

## Basic Usage

Once configured, you can import and use components with the CVA variant system.

### Component Import and Usage Pattern

```
Runtime Rendering

Component Definition

Import Phase

import Button, Card, Text
from '@ui8kit/core'

import ThemeProvider
from '@ui8kit/core'

Component JSX:
<Card p='lg' rounded='xl'>

Variant Props:
p, m, rounded, shadow, bg, c

Child Components:
Card.Header, Card.Content

CVA resolves variants
to Tailwind classes

Rendered HTML:
<section class='p-8 rounded-xl'>

Theme class applied:
.dark on <html>
```

**Sources:** [README.md36-60](https://github.com/ui8kit/core/blob/2afe2195/README.md#L36-L60) [README.md91-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L91-L103)

---

### Example 1: First Component

Create a simple card with button using variant props:

```
import { Button, Card, Text, Stack } from '@ui8kit/core';

export function WelcomeCard() {
  return (
    <Card p="lg" rounded="xl" shadow="md">
      <Card.Header>
        <Text as="h2" size="xl" weight="bold">
          Welcome
        </Text>
      </Card.Header>
      <Card.Content>
        <Stack gap="md">
          <Text>Build beautiful UIs with minimal code.</Text>
          <Button variant="primary" size="md">
            Get Started
          </Button>
        </Stack>
      </Card.Content>
    </Card>
  );
}
```

**Key Patterns:**

- **Variant props**: `p="lg"`, `rounded="xl"`, `shadow="md"` instead of `className`
- **Compound components**: `Card.Header`, `Card.Content`, `Card.Footer` for flexible composition
- **Semantic components**: `Text as="h2"` renders `<h2>` element
- **Stack layout**: `Stack gap="md"` for vertical spacing

**Sources:** [README.md38-60](https://github.com/ui8kit/core/blob/2afe2195/README.md#L38-L60)

---

### Example 2: Theme Provider Setup

Wrap your application with `ThemeProvider` for dark mode support:

```
import { ThemeProvider, modernUITheme } from '@ui8kit/core';
import { AppContent } from './AppContent';

export default function App() {
  return (
    <ThemeProvider theme={modernUITheme}>
      <AppContent />
    </ThemeProvider>
  );
}
```

Then use the `useTheme` hook in components:

```
import { useTheme } from '@ui8kit/core';
import { Button } from '@ui8kit/core';

export function ThemeToggle() {
  const { isDarkMode, toggleDarkMode } = useTheme();
  
  return (
    <Button onClick={toggleDarkMode}>
      {isDarkMode ? '☀️ Light Mode' : '🌙 Dark Mode'}
    </Button>
  );
}
```

**Available Themes:**

- `modernUITheme` - Contemporary design system
- `skyOSTheme` - Sky-inspired palette
- `lesseUITheme` - Minimal aesthetic

**Sources:** [README.md219-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L219-L249) [SUBMODULE\_GUIDE.md277-304](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L277-L304)

---

### Example 3: Layout Composition

Build a page layout with primitives:

```
import { Block, Container, Stack, Grid, Box } from '@ui8kit/core';

export function PageLayout() {
  return (
    <Block component="main" py="xl">
      <Container maxW="7xl">
        <Stack gap="lg">
          <Box as="header" mb="md">
            <h1>Page Title</h1>
          </Box>
          
          <Grid cols={2} gap="md">
            <Box bg="card" p="lg" rounded="lg">
              Column 1
            </Box>
            <Box bg="card" p="lg" rounded="lg">
              Column 2
            </Box>
          </Grid>
        </Stack>
      </Container>
    </Block>
  );
}
```

**Primitives Used:**

- **Block**: Semantic container (`section`, `nav`, `main`, `article`)
- **Container**: Responsive max-width wrapper
- **Stack**: Vertical layout with gap
- **Grid**: CSS Grid with column control
- **Box**: Generic div with variant props

**Sources:** [README.md81-103](https://github.com/ui8kit/core/blob/2afe2195/README.md#L81-L103)

---

## Framework-Specific Setup

### Next.js Integration

#### App Router (Next.js 13+)

**1. Install dependencies:**

```
npm install @ui8kit/core react react-dom
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

**2. Configure `app/layout.tsx`:**

```
import { ThemeProvider, modernUITheme } from '@ui8kit/core';
import './globals.css';

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body>
        <ThemeProvider theme={modernUITheme}>
          {children}
        </ThemeProvider>
      </body>
    </html>
  );
}
```

**Critical:** Add `suppressHydrationWarning` to `<html>` to prevent theme class mismatch warnings during hydration.

**3. Update `app/globals.css`:**

Import Tailwind layers and CSS variables as shown in [Step 3](<https://github.com/ui8kit/core/blob/2afe2195/Step 3#LNaN-LNaN>)

**4. Configure `tailwind.config.js`:**

```
export default {
  content: [
    './app/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './node_modules/@ui8kit/core/dist/**/*.js',
  ],
  darkMode: 'class',
  // ... rest of config
}
```

**Sources:** [SUBMODULE\_GUIDE.md277-304](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L277-L304)

---

#### Pages Router (Next.js 12 and earlier)

**Configure `pages/_app.tsx`:**

```
import { ThemeProvider, modernUITheme } from '@ui8kit/core';
import type { AppProps } from 'next/app';
import '../styles/globals.css';

export default function App({ Component, pageProps }: AppProps) {
  return (
    <ThemeProvider theme={modernUITheme}>
      <Component {...pageProps} />
    </ThemeProvider>
  );
}
```

**Sources:** [README.md223-232](https://github.com/ui8kit/core/blob/2afe2195/README.md#L223-L232)

---

### Vite Integration

**1. Create Vite React project:**

```
npm create vite@latest my-app -- --template react-swc-ts
cd my-app
```

**2. Install dependencies:**

```
npm install @ui8kit/core react react-dom
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

**3. Configure `vite.config.ts`:**

```
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react-swc'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    }
  },
})
```

**4. Update `src/main.tsx`:**

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

**5. Configure `src/App.tsx`:**

```
import { ThemeProvider, modernUITheme } from '@ui8kit/core';
import { Button, Card, Text, Stack } from '@ui8kit/core';

function App() {
  return (
    <ThemeProvider theme={modernUITheme}>
      <Card p="lg" rounded="xl" shadow="md">
        <Card.Header>
          <Text size="xl" weight="bold">Vite + UI8Kit</Text>
        </Card.Header>
        <Card.Content>
          <Stack gap="md">
            <Text>Fast development with Vite</Text>
            <Button variant="primary">Get Started</Button>
          </Stack>
        </Card.Content>
      </Card>
    </ThemeProvider>
  );
}

export default App;
```

**Sources:** [SUBMODULE\_GUIDE.md154-184](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L154-L184) [SUBMODULE\_GUIDE.md234-258](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L234-L258) [SUBMODULE\_GUIDE.md260-304](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L260-L304)

---

### Create React App Integration

**1. Create CRA project:**

```
npx create-react-app my-app --template typescript
cd my-app
```

**2. Install dependencies:**

```
npm install @ui8kit/core react react-dom
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

**3. Configure `tailwind.config.js`:**

```
export default {
  content: [
    "./src/**/*.{js,jsx,ts,tsx}",
    "./node_modules/@ui8kit/core/dist/**/*.js",
  ],
  darkMode: 'class',
  // ... rest of config
}
```

**4. Update `src/index.tsx`:**

```
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);

root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

**5. Configure `src/App.tsx`:**

```
import { ThemeProvider, modernUITheme } from '@ui8kit/core';
import { Button, Card, Text } from '@ui8kit/core';

function App() {
  return (
    <ThemeProvider theme={modernUITheme}>
      <div className="min-h-screen bg-background p-8">
        <Card p="lg" rounded="xl" shadow="md">
          <Card.Header>
            <Text size="xl" weight="bold">
              Create React App + UI8Kit
            </Text>
          </Card.Header>
          <Card.Content>
            <Text mb="md">Ready to build.</Text>
            <Button variant="primary">Start Building</Button>
          </Card.Content>
        </Card>
      </div>
    </ThemeProvider>
  );
}

export default App;
```

**Sources:** [README.md412-421](https://github.com/ui8kit/core/blob/2afe2195/README.md#L412-L421)

---

## Verification

After setup, verify your installation with this checklist:

### Verification Checklist

| Check                | Expected Behavior                                            | Troubleshooting                               |
| -------------------- | ------------------------------------------------------------ | --------------------------------------------- |
| **Component import** | `import { Button } from '@ui8kit/core'` works without errors | Verify `node_modules/@ui8kit/core` exists     |
| **Variant props**    | `<Box p="lg" rounded="md" />` applies classes                | Check Tailwind content paths include library  |
| **Dark mode toggle** | Clicking theme toggle switches appearance                    | Verify `darkMode: 'class'` in Tailwind config |
| **CSS variables**    | Colors render correctly in light/dark modes                  | Check `:root` and `.dark` variables in CSS    |
| **TypeScript types** | No type errors in IDE                                        | Verify TypeScript version ≥5.0.0              |
| **Dev server**       | Application runs without console errors                      | Check peer dependencies installed             |

**Sources:** [README.md21-60](https://github.com/ui8kit/core/blob/2afe2195/README.md#L21-L60) [README.md412-421](https://github.com/ui8kit/core/blob/2afe2195/README.md#L412-L421)

---

### Test Component

Create a test component to verify all features:

```
import { 
  ThemeProvider, 
  modernUITheme, 
  useTheme,
  Card, 
  Button, 
  Text, 
  Stack,
  Box 
} from '@ui8kit/core';

function TestContent() {
  const { isDarkMode, toggleDarkMode } = useTheme();
  
  return (
    <Box p="xl" bg="background" minH="screen">
      <Stack gap="lg" align="center">
        <Card p="lg" rounded="xl" shadow="lg" maxW="md">
          <Card.Header>
            <Text size="2xl" weight="bold">
              UI8Kit Test
            </Text>
          </Card.Header>
          <Card.Content>
            <Stack gap="md">
              <Text>
                Theme: {isDarkMode ? 'Dark' : 'Light'}
              </Text>
              <Button 
                variant="primary" 
                onClick={toggleDarkMode}
              >
                Toggle Theme
              </Button>
              <Box 
                p="md" 
                bg="primary" 
                c="primary-foreground" 
                rounded="md"
              >
                <Text weight="medium">
                  ✓ Variant system working
                </Text>
              </Box>
            </Stack>
          </Card.Content>
        </Card>
      </Stack>
    </Box>
  );
}

export default function App() {
  return (
    <ThemeProvider theme={modernUITheme}>
      <TestContent />
    </ThemeProvider>
  );
}
```

**Expected Results:**

- Card renders with padding, rounded corners, and shadow
- Button changes appearance on hover
- Theme toggle switches between light/dark modes
- Colors update based on CSS variables
- No console errors or warnings

**Sources:** [README.md38-60](https://github.com/ui8kit/core/blob/2afe2195/README.md#L38-L60) [README.md236-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L236-L249) [SUBMODULE\_GUIDE.md277-304](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L277-L304)

---

## Next Steps

After completing the setup:

1. **Explore Components**: Review the [UI Components](#3.3) section for detailed component documentation
2. **Learn Variants**: Study the [Variant System](#3.2) to understand the 12 reusable variants
3. **Build Layouts**: Explore [Layout Components](#3.4) for dashboard and page templates
4. **Review Patterns**: Check [Development Guide](#5) for common usage patterns
5. **Implement Dark Mode**: See [Dark Mode](#5.4) for advanced theming

**Sources:** [README.md1-453](https://github.com/ui8kit/core/blob/2afe2195/README.md#L1-L453) [.devin/wiki.json24-44](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L24-L44)

# ================================================================================

# FILE 20: overview.mdx
# ================================================================================
---
title: 'Overview'
description: 'Introduction to UI8Kit Core - a minimalist React UI component library built on Tailwind CSS with semantic HTML5'
---

# Overview

Relevant source files

- [.devin/wiki.json](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json)
- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)

This document introduces `@ui8kit/core`, a minimalist React UI component library built on utility-first Tailwind CSS and semantic HTML5. It covers the design philosophy, architectural layers, component inventory, variant system, and integration methods.

For installation instructions and setup, see [Getting Started](#2).\
For detailed architectural descriptions, see [Architecture](#3).\
For complete API documentation, see [API Reference](#4).

**Sources:** [.devin/wiki.json24-33](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L24-L33) [README.md1-10](https://github.com/ui8kit/core/blob/2afe2195/README.md#L1-L10)

---

## Purpose and Scope

`@ui8kit/core` is a production-ready React component library designed to enable rapid interface development with minimal code. The library provides 23 total components organized in three architectural layers, styled through 12 composable CVA-based variants that eliminate the need for manual className management in \~80% of use cases.

**Target Audience:** React developers building applications with Tailwind CSS who prioritize:

- Minimal bundle size and code footprint
- Type-safe component APIs with TypeScript
- Semantic HTML5 for accessibility and SEO
- Flexible composition patterns without rigid design constraints

**What This Library Provides:**

- 5 core primitive components (Layer 1) for foundational layouts
- 15 UI composite components (Layer 2) for common interface patterns
- 3 layout template components (Layer 3) for application structures
- 12 reusable variant categories covering spacing, colors, layout, typography, and effects
- Multiple integration methods: NPM package, per-component installation, git submodule, direct source

**What This Library Does Not Provide:**

- Opinionated design system with fixed visual style
- Form validation or state management
- Animation framework
- Icon library (depends on `lucide-react` for icons in specific components)

**Sources:** [package.json1-20](https://github.com/ui8kit/core/blob/2afe2195/package.json#L1-L20) [README.md3-19](https://github.com/ui8kit/core/blob/2afe2195/README.md#L3-L19) [.devin/wiki.json2-10](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L2-L10)

---

## Design Philosophy

The library is built on the principle of **minimal code with maximum flexibility**. Complex interfaces emerge from composing a small set of primitives rather than assembling dozens of specialized components.

### Core Principles

| Principle                 | Implementation                                               | Benefit                                    |
| ------------------------- | ------------------------------------------------------------ | ------------------------------------------ |
| **Minimalism**            | 15 UI components vs. 50+ in typical libraries                | Reduced bundle size, faster learning curve |
| **80/20 Coverage**        | 12 variants cover \~80% of styling needs                     | Eliminates most manual className usage     |
| **Composability**         | Primitives combine to create unlimited designs               | No rigid design constraints                |
| **Type Safety**           | Full TypeScript support with prop interfaces                 | Prevents runtime prop errors               |
| **Semantic HTML**         | Components render as `<section>`, `<article>`, `<nav>`, etc. | Better accessibility and SEO               |
| **Zero Runtime Overhead** | CVA generates static Tailwind classes at build time          | No runtime style calculation               |

### Minimalism in Practice

The library achieves interface complexity through composition rather than component proliferation:

```
// Traditional approach: specialized form components
<Form>
  <FormField>
    <FormLabel>Email</FormLabel>
    <FormInput type="email" />
    <FormError>Invalid email</FormError>
  </FormField>
</Form>

// @ui8kit/core approach: compose primitives
<Block component="form" p="lg" rounded="md" bg="card">
  <Stack gap="md">
    <Box>
      <Text weight="medium" mb="xs">Email</Text>
      <Box component="input" type="email" w="full" border="1px solid border" />
      <Text size="sm" c="destructive">Invalid email</Text>
    </Box>
  </Stack>
</Block>
```

Both achieve the same result, but the primitive approach:

- Eliminates 4 specialized components from the bundle
- Provides full styling control through variants
- Maintains semantic HTML with `component="form"` and `component="input"`
- Requires no additional component learning curve

**Sources:** [README.md388-403](https://github.com/ui8kit/core/blob/2afe2195/README.md#L388-L403) [.devin/wiki.json7-10](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L7-L10) [src/components/GUIDE\_CREATE\_FORM.md1-100](https://github.com/ui8kit/core/blob/2afe2195/src/components/GUIDE_CREATE_FORM.md#L1-L100)

---

## Component Architecture

```
Variant System (src/core/variants/)

Layer 1: Core Primitives (src/core/ui/)

Layer 2: UI Components (src/components/ui/)

Layer 3: Layout Templates (src/layouts/)

uses

uses

uses

extends

extends

uses

applies

applies

applies

prop forwarding

prop forwarding

DashLayout.tsx
Dashboard with sidebar/header

LayoutBlock.tsx
Content sections

SplitBlock.tsx
Two-column layouts

button.tsx
Action buttons

card.tsx
+ Card.Header/Content/Footer

text.tsx
Semantic text

title.tsx
h1-h6 headings

badge.tsx
Labels

icon.tsx
SVG wrapper

image.tsx
Optimized images

container.tsx
Max-width container

group.tsx
Element grouping

sheet.tsx
Drawer component

accordion.tsx
Expandable sections

Block.tsx
Semantic container

Box.tsx
Flexible primitive

Grid.tsx
CSS Grid layout

Flex.tsx
Flexbox layout

Stack.tsx
Vertical/horizontal stacking

spacing-variants.ts
p, m, px, py, mx, my, etc.

color-variants.ts
bg, c, borderColor

layout-variants.ts
w, h, position

typography-variants.ts
size, weight, align

effect-variants.ts
shadow, rounded, border
```

**Architecture: Three-Layer Component Hierarchy**

The library implements a strict three-layer hierarchy aligned with atomic design principles:

### Layer 1: Core Primitives (`src/core/ui/`)

Five foundational components that directly apply the variant system:

| Component | File        | Purpose                                                | Variants Applied         |
| --------- | ----------- | ------------------------------------------------------ | ------------------------ |
| `Block`   | `Block.tsx` | Semantic container (`section`, `article`, `nav`, etc.) | All 12 variants          |
| `Box`     | `Box.tsx`   | Generic flexible primitive (any HTML element)          | All 12 variants          |
| `Grid`    | `Grid.tsx`  | CSS Grid layout with `cols` and `rows` props           | Spacing, layout variants |
| `Flex`    | `Flex.tsx`  | Flexbox layout with `direction` and `justify` props    | Spacing, layout variants |
| `Stack`   | `Stack.tsx` | Vertical/horizontal stacking with `gap` prop           | Spacing variants         |

These primitives provide the foundation for all higher-layer components. They render semantic HTML5 elements and accept variant props directly.

### Layer 2: UI Components (`src/components/ui/`)

Fifteen composite components that extend primitives through prop forwarding:

| Component   | File            | Base Primitive | Special Features                                       |
| ----------- | --------------- | -------------- | ------------------------------------------------------ |
| `Button`    | `button.tsx`    | `Box`          | `variant`, `size`, `leftSection`, `rightSection`       |
| `Card`      | `card.tsx`      | `Block`        | Compound: `Card.Header`, `Card.Content`, `Card.Footer` |
| `Text`      | `text.tsx`      | `Box`          | Semantic tags: `p`, `span`, `em`, `strong`             |
| `Title`     | `title.tsx`     | `Box`          | Heading hierarchy: `h1`-`h6` via `order` prop          |
| `Badge`     | `badge.tsx`     | `Box`          | Small label with `variant`                             |
| `Icon`      | `icon.tsx`      | `Box`          | SVG wrapper with size control                          |
| `Image`     | `image.tsx`     | `Box`          | Optimized with `alt` and `loading` props               |
| `Container` | `container.tsx` | `Block`        | Responsive max-width: `sm`, `md`, `lg`, `xl`, `2xl`    |
| `Group`     | `group.tsx`     | `Flex`         | Element grouping with `gap`                            |
| `Sheet`     | `sheet.tsx`     | N/A            | Drawer with `side` prop (uses `lucide-react`)          |
| `Accordion` | `accordion.tsx` | N/A            | Expandable sections (uses `lucide-react`)              |

These components inherit all variant props from their base primitives while adding component-specific props.

### Layer 3: Layout Templates (`src/layouts/`)

Three template components that orchestrate Layer 2 components into application structures:

| Component     | File              | Purpose                                                             | Dependencies             |
| ------------- | ----------------- | ------------------------------------------------------------------- | ------------------------ |
| `DashLayout`  | `DashLayout.tsx`  | Dashboard with resizable sidebar, header, content                   | `react-resizable-panels` |
| `LayoutBlock` | `LayoutBlock.tsx` | Content section with `beforeContent`/`content`/`afterContent` hooks | `Grid`                   |
| `SplitBlock`  | `SplitBlock.tsx`  | Two-column layout (media + content or content + media)              | `Container`              |

**Sources:** [README.md62-168](https://github.com/ui8kit/core/blob/2afe2195/README.md#L62-L168) [src/core/ui/Block.tsx1-50](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Block.tsx#L1-L50) [src/core/ui/Box.tsx1-40](https://github.com/ui8kit/core/blob/2afe2195/src/core/ui/Box.tsx#L1-L40) [src/components/ui/button.tsx1-100](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/button.tsx#L1-L100) [src/components/ui/card.tsx1-150](https://github.com/ui8kit/core/blob/2afe2195/src/components/ui/card.tsx#L1-L150) [src/layouts/DashLayout.tsx1-100](https://github.com/ui8kit/core/blob/2afe2195/src/layouts/DashLayout.tsx#L1-L100)

---

## Variant System Overview

```
Output

Build Artifact

CVA Engine

Variant Files (src/core/variants/)

Developer API

generates

generates

safelist for

Component JSX
p='lg' rounded='xl'
shadow='md' bg='card'

spacing-variants.ts
spacingVariants

color-variants.ts
colorVariants

layout-variants.ts
layoutVariants

typography-variants.ts
typographyVariants

effect-variants.ts
effectVariants

class-variance-authority
cva() function

Generated Classes
p-8 rounded-xl shadow-md
bg-card

src/lib/core-classes.json
618 class whitelist

HTML Element
with Tailwind classes

Tailwind CSS Purge
```

**Variant System: CVA-Based Styling Pipeline**

The variant system centralizes all styling logic through 12 composable variant categories, eliminating the need for manual `className` management in most scenarios.

### Variant Categories

| Category       | Props                                                                            | Values                                                                                      | File                          |
| -------------- | -------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- | ----------------------------- |
| **Spacing**    | `p`, `m`, `px`, `py`, `pt`, `pb`, `pl`, `pr`, `mx`, `my`, `mt`, `mb`, `ml`, `mr` | `none`, `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `auto`                                         | `spacing-variants.ts`         |
| **Colors**     | `bg`, `c`, `borderColor`                                                         | Design system colors: `primary`, `secondary`, `destructive`, `card`, `foreground`, etc.     | `color-variants.ts`           |
| **Layout**     | `w`, `h`, `minH`, `maxW`, `position`                                             | `auto`, `full`, `screen`, `fit`, `min`, `max`                                               | `layout-variants.ts`          |
| **Typography** | `size`, `weight`, `align`, `leading`                                             | Font sizes: `xs`, `sm`, `md`, `lg`, `xl`, `2xl`, `3xl`; weights: `normal`, `medium`, `bold` | `typography-variants.ts`      |
| **Effects**    | `rounded`, `shadow`, `border`                                                    | Corner radius, shadow depth, border styles                                                  | `effect-variants.ts`          |
| **Flexbox**    | `direction`, `justify`, `items`, `wrap`, `gap`                                   | Flexbox properties                                                                          | Integrated in layout variants |
| **Grid**       | `cols`, `rows`, `gap`                                                            | CSS Grid properties                                                                         | Integrated in layout variants |

### Variant Application Flow

1. **Developer writes variant props** in JSX: `<Card p="lg" rounded="xl" shadow="md" bg="card" />`
2. **CVA engine resolves props** to Tailwind classes via `cva()` function from `class-variance-authority`
3. **Generated classes** output: `p-8 rounded-xl shadow-md bg-card`
4. **Whitelist validation** ensures Tailwind purge doesn't remove necessary classes (618 classes in `core-classes.json`)
5. **DOM renders** with final class string applied

### Build-Time Class Extraction

The `scripts/cva-extractor.ts` script scans all variant files and generates `src/lib/core-classes.json`:

```
{
  "classes": [
    "p-0", "p-1", "p-2", "p-4", "p-6", "p-8", "p-12", "p-16",
    "m-0", "m-1", "m-2", "m-4", "m-6", "m-8", "m-12", "m-16",
    "bg-primary", "bg-secondary", "bg-card", "bg-background",
    "rounded-none", "rounded-sm", "rounded-md", "rounded-lg", "rounded-xl",
    // ... 618 total classes
  ]
}
```

This whitelist serves two purposes:

- **Tailwind safelist** - prevents CSS purge from removing variant classes
- **tw-merge safety** - ensures class merging works correctly

**Sources:** [README.md170-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L170-L217) [src/core/variants/spacing-variants.ts1-100](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/spacing-variants.ts#L1-L100) [src/core/variants/color-variants.ts1-80](https://github.com/ui8kit/core/blob/2afe2195/src/core/variants/color-variants.ts#L1-L80) [scripts/cva-extractor.ts1-260](https://github.com/ui8kit/core/blob/2afe2195/scripts/cva-extractor.ts#L1-L260) [src/lib/core-classes.json1-619](https://github.com/ui8kit/core/blob/2afe2195/src/lib/core-classes.json#L1-L619)

---

## Technology Stack

### Core Dependencies

| Package                    | Version                | Purpose             | Usage                                      |
| -------------------------- | ---------------------- | ------------------- | ------------------------------------------ |
| `react`                    | `^18.0.0` or `^19.0.0` | UI framework        | Peer dependency (provided by consumer)     |
| `react-dom`                | `^18.0.0` or `^19.0.0` | React rendering     | Peer dependency (provided by consumer)     |
| `class-variance-authority` | `^0.7.1`               | Variant engine      | Powers the 12 variant categories           |
| `clsx`                     | `^2.1.1`               | Class concatenation | Utility for merging class strings          |
| `tailwind-merge`           | `^3.3.1`               | Class deduplication | Prevents duplicate Tailwind classes        |
| `lucide-react`             | `^0.525.0`             | Icon library        | Used in `Sheet` and `Accordion` components |
| `react-resizable-panels`   | `^3.0.6`               | Resizable layouts   | Used in `DashLayout` for sidebar resizing  |

### Build Tools

| Tool               | Purpose                       | Configuration                           |
| ------------------ | ----------------------------- | --------------------------------------- |
| TypeScript         | Type checking and compilation | `tsconfig.json` with `ES2022` target    |
| ESLint             | Code quality                  | `.eslintrc` with TypeScript rules       |
| Bun                | Package manager and runtime   | `bun-types` for TypeScript support      |
| `cva-extractor.ts` | Build-time class extraction   | Generates `core-classes.json` whitelist |
| `buildy-ui` CLI    | Component registry scanner    | Generates `registry.json` metadata      |

### Distribution Format

The library distributes as ES2022 modules with TypeScript declarations:

| Artifact           | Path                        | Purpose                                 |
| ------------------ | --------------------------- | --------------------------------------- |
| Main entry         | `dist/index.js`             | ES2022 module exports                   |
| Type definitions   | `dist/index.d.ts`           | TypeScript interface declarations       |
| Class whitelist    | `src/lib/core-classes.json` | Tailwind safelist (618 classes)         |
| Component registry | `src/registry.json`         | Metadata for per-component installation |

**Export Configuration** in [package.json33-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L33-L37):

```
{
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  }
}
```

**Sources:** [package.json48-69](https://github.com/ui8kit/core/blob/2afe2195/package.json#L48-L69) [package.json30-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L37) [README.md422-440](https://github.com/ui8kit/core/blob/2afe2195/README.md#L422-L440)

---

## Integration Methods

```
Integration Method 5: Programmatic

Integration Method 4: Direct Source

Integration Method 3: Git Submodule

Integration Method 2: Per-Component

Integration Method 1: Full Library

Distribution Channels

Source Repository

github.com/ui8kit/core

src/registry.json
Component metadata

NPM Registry
@ui8kit/Unsupported markdown: link

Git Repository
main branch

npm install @ui8kit/core

import { Button, Card } from '@ui8kit/core'

npx buildy-ui add button card

components/ui/button.tsx
components/ui/card.tsx

git submodule add
Unsupported markdown: link
packages/@ui8kit/core

import { Button } from '@ui8kit/core'

Copy src/ directory

Custom build process

import registry from
'@ui8kit/core/registry.json'

Tooling automation
```

**Integration Methods: Five Approaches**

The library supports five distinct integration methods to accommodate different development workflows:

### Method 1: Full Library Installation (NPM)

**Use Case:** Standard application development with all components available

```
npm install @ui8kit/core react react-dom
```

**Imports:**

```
import { Button, Card, Text, Stack, Grid } from '@ui8kit/core';
```

**Bundle Size:** Full library (\~15 UI components + 3 layouts + 5 primitives)

**Advantages:**

- Single dependency declaration
- All components immediately available
- Automatic updates via `npm update`

**Sources:** [README.md21-34](https://github.com/ui8kit/core/blob/2afe2195/README.md#L21-L34) [package.json2-3](https://github.com/ui8kit/core/blob/2afe2195/package.json#L2-L3)

---

### Method 2: Per-Component Installation (buildy-ui CLI)

**Use Case:** Bundle optimization, progressive adoption, microservices

```
npx buildy-ui add button card text
```

**Result:** Copies component files to `components/ui/` directory

```
components/
└── ui/
    ├── button.tsx
    ├── card.tsx
    └── text.tsx
```

**Imports:**

```
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';
```

**Advantages:**

- Minimal bundle size (only installed components)
- No dependency on full library
- Full source code control

**Registry Metadata** in [src/registry.json1-244](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L244):

```
{
  "name": "button",
  "type": "registry:ui",
  "dependencies": ["class-variance-authority"],
  "files": [
    {
      "path": "components/ui/button.tsx",
      "type": "registry:ui"
    }
  ]
}
```

**Sources:** [README.md252-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L252-L276) [src/registry.json1-244](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L244)

---

### Method 3: Git Submodule (Monorepo)

**Use Case:** Monorepo architectures, shared component libraries across projects

```
git submodule add https://github.com/ui8kit/core.git packages/@ui8kit/core
```

**TypeScript Configuration:**

```
{
  "compilerOptions": {
    "paths": {
      "@ui8kit/core": ["./packages/@ui8kit/core/src"]
    }
  }
}
```

**Advantages:**

- Direct source access
- Version pinning via git commits
- Shared across monorepo packages
- Local modifications possible

**Sources:** [SUBMODULE\_GUIDE.md1-300](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L1-L300) (referenced in diagrams)

---

### Method 4: Direct Source Integration

**Use Case:** Custom builds, heavily modified components, embedded systems

**Process:**

1. Copy `src/` directory to project
2. Adjust import paths
3. Customize components as needed
4. Build with project's TypeScript compiler

**Advantages:**

- Complete control over source code
- No external dependencies
- Custom compilation targets
- Remove unused components

---

### Method 5: Programmatic Registry Access

**Use Case:** Build tooling, component documentation generators, automated testing

```
import registry from '@ui8kit/core/registry.json';

// Iterate all components
registry.items.forEach(component => {
  console.log(`${component.name}: ${component.description}`);
  console.log(`Type: ${component.type}`);
  console.log(`Dependencies:`, component.dependencies);
});
```

**Registry Structure:**

```
{
  "name": "@ui8kit/core",
  "version": "1.0.0",
  "items": [
    {
      "name": "button",
      "type": "registry:ui",
      "description": "Action button component",
      "dependencies": ["class-variance-authority"],
      "files": [...]
    }
  ]
}
```

**Advantages:**

- Automate component discovery
- Generate documentation
- Build custom CLI tools
- Validate component metadata

**Sources:** [README.md267-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L267-L276) [src/registry.json1-10](https://github.com/ui8kit/core/blob/2afe2195/src/registry.json#L1-L10)

---

## Component Inventory

### Complete Component List

| Layer                        | Component Count | Components                                                                                              |
| ---------------------------- | --------------- | ------------------------------------------------------------------------------------------------------- |
| **Layer 1: Core Primitives** | 5               | `Block`, `Box`, `Grid`, `Flex`, `Stack`                                                                 |
| **Layer 2: UI Components**   | 15              | `Button`, `Card`, `Text`, `Title`, `Container`, `Icon`, `Image`, `Badge`, `Group`, `Sheet`, `Accordion` |
| **Layer 3: Layouts**         | 3               | `DashLayout`, `LayoutBlock`, `SplitBlock`                                                               |
| **Total**                    | **23**          | -                                                                                                       |

### Component Distribution by Type

| Category        | Count | Purpose                                                           |
| --------------- | ----- | ----------------------------------------------------------------- |
| **Primitives**  | 5     | Foundation for all layouts and components                         |
| **Content**     | 5     | Text, titles, images, icons, badges                               |
| **Containers**  | 3     | Cards, groups, containers                                         |
| **Interactive** | 2     | Buttons, sheets                                                   |
| **Collapsible** | 1     | Accordion                                                         |
| **Layouts**     | 7     | Grid, Flex, Stack, DashLayout, LayoutBlock, SplitBlock, Container |

### Variant Coverage Statistics

| Coverage Area      | Percentage | Variants Involved                      |
| ------------------ | ---------- | -------------------------------------- |
| **Spacing**        | 30%        | 16 props (p, m, px, py, etc.)          |
| **Colors**         | 20%        | 3 props (bg, c, borderColor)           |
| **Layout**         | 20%        | 5 props (w, h, minH, maxW, position)   |
| **Typography**     | 15%        | 4 props (size, weight, align, leading) |
| **Effects**        | 15%        | 3 props (rounded, shadow, border)      |
| **Total Coverage** | **\~80%**  | **12 variant categories**              |

**Sources:** [README.md361-387](https://github.com/ui8kit/core/blob/2afe2195/README.md#L361-L387) [README.md388-403](https://github.com/ui8kit/core/blob/2afe2195/README.md#L388-L403)

---

## Key Features Summary

### Type Safety and Developer Experience

| Feature                     | Implementation                                         | Benefit                                      |
| --------------------------- | ------------------------------------------------------ | -------------------------------------------- |
| **Full TypeScript Support** | All components with precise prop interfaces            | Prevents runtime errors, IDE autocomplete    |
| **Prop Forwarding**         | Extended components inherit base props                 | Consistent API, reduced learning curve       |
| **Semantic HTML**           | Components render as `section`, `article`, `nav`, etc. | Better accessibility (WCAG), improved SEO    |
| **Data Attributes**         | All components include `data-class` attribute          | Consistent DOM targeting for testing/styling |
| **ForwardRef Pattern**      | All components support `ref` forwarding                | Direct DOM access when needed                |

### Performance and Bundle Size

| Optimization              | Implementation                             | Benefit                               |
| ------------------------- | ------------------------------------------ | ------------------------------------- |
| **Zero Runtime Overhead** | CVA generates static classes at build time | No style calculation at runtime       |
| **Tree Shaking**          | ES2022 modules with `sideEffects: false`   | Unused components removed by bundlers |
| **Minimal Dependencies**  | Only 5 core dependencies                   | Smaller bundle size                   |
| **Class Whitelist**       | 618 classes in `core-classes.json`         | Tailwind purge safety                 |
| **Per-Component Install** | Via `buildy-ui add` command                | Install only what you need            |

### Design Flexibility

| Capability                  | Implementation                                    | Benefit                            |
| --------------------------- | ------------------------------------------------- | ---------------------------------- |
| **Composable Architecture** | Primitives combine into unlimited designs         | No rigid design constraints        |
| **Variant System**          | 12 reusable categories                            | \~80% of styling without className |
| **Compound Components**     | `Card.Header`, `Card.Content`, `Card.Footer`      | Flexible composition patterns      |
| **Dark Mode**               | `ThemeProvider` with persistence                  | Built-in theme support             |
| **Responsive Design**       | Tailwind responsive prefixes work on all variants | Mobile-first layouts               |

**Sources:** [README.md9-19](https://github.com/ui8kit/core/blob/2afe2195/README.md#L9-L19) [package.json30](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L30) [src/themes/providers/ThemeProvider.tsx1-109](https://github.com/ui8kit/core/blob/2afe2195/src/themes/providers/ThemeProvider.tsx#L1-L109)

---

## Getting Started

To begin using `@ui8kit/core`, proceed to [Getting Started](#2) for installation instructions and basic configuration examples.

For detailed architectural documentation, see [Architecture](#3).\
For component API reference, see [API Reference](#4).\
For development patterns and best practices, see [Development Guide](#5).

**Sources:** [.devin/wiki.json35-43](https://github.com/ui8kit/core/blob/2afe2195/.devin/wiki.json#L35-L43) [README.md21-60](https://github.com/ui8kit/core/blob/2afe2195/README.md#L21-L60)

# ================================================================================

# FILE 21: troubleshooting.mdx
# ================================================================================
---
title: 'Troubleshooting'
description: 'Common issues and solutions for UI8Kit Core - installation problems, configuration errors, and runtime issues'
---

# Troubleshooting

Relevant source files

- [README.md](https://github.com/ui8kit/core/blob/2afe2195/README.md)
- [SUBMODULE\_GUIDE.md](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md)
- [package.json](https://github.com/ui8kit/core/blob/2afe2195/package.json)

This page provides solutions for common issues encountered when using `@ui8kit/core`, including installation problems, configuration errors, styling issues, build failures, and runtime errors. Each section includes diagnostic steps, root cause analysis, and concrete solutions with code references.

For development workflow guidance, see [Basic Workflow](#5.1) and [Advanced Workflow](#5.2). For component API issues, consult [API Reference](#4). For build system configuration, see [Build System](#3.6) and [TypeScript Configuration](#3.8).

---

## Installation & Setup Issues

### Missing Peer Dependencies

**Symptom**: Error messages during install or runtime: `Cannot find module 'react'` or `Module not found: Can't resolve 'react-dom'`

**Root Cause**: `@ui8kit/core` declares `react` and `react-dom` as peer dependencies, not bundled dependencies. [package.json55-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L55-L58)

**Solution**:

```
npm install react react-dom @ui8kit/core
# Or with specific versions
npm install react@^19.1.0 react-dom@^19.1.0 @ui8kit/core
```

**Verification**:

```
npm list react react-dom
```

Expected output should show both packages installed without warnings.

**Sources**: [package.json55-58](https://github.com/ui8kit/core/blob/2afe2195/package.json#L55-L58) [README.md26-27](https://github.com/ui8kit/core/blob/2afe2195/README.md#L26-L27)

---

### Submodule Directory Empty After Clone

**Symptom**: After cloning a monorepo that uses `@ui8kit/core` as a git submodule, the `packages/@ui8kit/core/` directory exists but is empty.

**Root Cause**: Git does not automatically populate submodule directories during clone unless `--recurse-submodules` flag is used. [SUBMODULE\_GUIDE.md5-9](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L5-L9)

**Solution**:

```
# Initialize and populate existing submodules
git submodule update --init --recursive
```

**Prevention**: Clone with submodule support:

```
git clone --recurse-submodules <repository-url>
```

**Sources**: [SUBMODULE\_GUIDE.md5-9](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L5-L9) [SUBMODULE\_GUIDE.md139-149](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L139-L149)

---

### Package Export Not Found

**Symptom**: Import errors like `Package subpath './registry.json' is not defined by "exports"`

**Root Cause**: The package only exports the main entry point. Registry access requires direct file path import. [package.json33-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L33-L37)

**Solution**:

```
// ❌ Incorrect - not in exports map
import registry from '@ui8kit/core/registry.json';

// ✅ Correct - access via source path if available
import registry from './node_modules/@ui8kit/core/src/registry.json';

// ✅ Or use NPM package installation
npm install @ui8kit/core
import { Button } from '@ui8kit/core';
```

**Sources**: [package.json33-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L33-L37) [README.md270-276](https://github.com/ui8kit/core/blob/2afe2195/README.md#L270-L276)

---

## TypeScript Configuration Problems

### Cannot Find Module or Type Declarations

**Symptom**: TypeScript errors: `Cannot find module '@ui8kit/core'` or `Could not find a declaration file for module`

**Diagnostic Flow**:

```
Not installed

Installed

Missing

Exists

Paths misconfigured

Paths correct

Node/Classic

Bundler

TypeScript import error

Check: npm list @ui8kit/core

Check: dist/index.d.ts exists

Check: tsconfig.json paths

Check: moduleResolution setting

Run: npm install @ui8kit/core

Run: npm run build in library

Update baseUrl and paths

Set moduleResolution: bundler

Issue resolved
```

**Solution 1**: Verify package installation and types

```
# Check package is installed
npm list @ui8kit/core

# Verify type declarations exist
ls node_modules/@ui8kit/core/dist/index.d.ts
```

**Solution 2**: Configure TypeScript paths for monorepo/submodule usage [SUBMODULE\_GUIDE.md104-132](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L104-L132)

```
{
  "compilerOptions": {
    "moduleResolution": "bundler",
    "baseUrl": ".",
    "paths": {
      "@ui8kit/core": ["./packages/@ui8kit/core/src"],
      "@ui8kit/core/*": ["./packages/@ui8kit/core/src/*"]
    }
  }
}
```

**Solution 3**: For library development, rebuild type declarations

```
npm run build  # Runs: tsc -p tsconfig.json
```

**Sources**: [package.json32](https://github.com/ui8kit/core/blob/2afe2195/package.json#L32-L32) [SUBMODULE\_GUIDE.md104-132](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L104-L132) [SUBMODULE\_GUIDE.md189-217](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L189-L217)

---

### Type Errors on Variant Props

**Symptom**: TypeScript errors like `Type '"xl"' is not assignable to type 'Padding'` or `Property 'p' does not exist on type`

**Root Cause**: Component does not extend variant props, or import is incomplete.

**Solution**: Verify component extends appropriate variant types and imports are complete

```
// Check component definition extends variant props
import type { SpacingVariantsProps } from '../core/variants/spacingVariants';

interface ButtonProps extends 
  React.ButtonHTMLAttributes<HTMLButtonElement>,
  SpacingVariantsProps,  // Must extend variant props
  LayoutVariantsProps {
  // ...
}
```

**Verification**: Inspect component prop types in IDE autocomplete. All variant props should appear.

**Sources**: Based on architecture patterns in [README.md98-124](https://github.com/ui8kit/core/blob/2afe2195/README.md#L98-L124)

---

## Tailwind CSS & Styling Issues

### Styles Not Applying / Purging Issue

**Symptom**: Components render with missing styles in production. Tailwind classes like `p-8`, `rounded-xl` are stripped during build.

**Root Cause**: Tailwind's purge/content configuration does not include `@ui8kit/core` source files, causing generated classes to be removed. The library generates 618 utility classes that must be safelisted. [package.json1-71](https://github.com/ui8kit/core/blob/2afe2195/package.json#L1-L71)

**Diagnosis Diagram**:

```
Missing library paths

Paths correct

No safelist

Not imported

Imported but not working

Styles missing in production

Check: tailwind.config content paths

Check: safelist configuration

Check: core-classes.json import

Add library to content array

Import and add to safelist

Verify safelist format

Rebuild with: npm run build

Inspect dist CSS file

Classes present
```

**Solution 1**: Add library paths to Tailwind content configuration [SUBMODULE\_GUIDE.md334-341](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L334-L341)

```
// tailwind.config.js
export default {
  content: [
    "./src/**/*.{ts,tsx}",
    "./node_modules/@ui8kit/core/dist/**/*.js",  // NPM install
    // OR for submodule/monorepo:
    "../../packages/@ui8kit/core/src/**/*.{ts,tsx}"
  ],
  darkMode: 'class',
  // ...
}
```

**Solution 2**: Import core-classes safelist (recommended for production)

```
// tailwind.config.js
import coreClasses from './node_modules/@ui8kit/core/src/lib/core-classes.json' assert { type: 'json' };

export default {
  content: [
    "./src/**/*.{ts,tsx}",
  ],
  safelist: coreClasses, // Array of 618 class strings
  // ...
}
```

**Verification**:

```
# Build and inspect CSS output size
npm run build
ls -lh dist/assets/*.css

# Search for specific class in output
grep "p-8" dist/assets/*.css
```

**Sources**: [SUBMODULE\_GUIDE.md334-342](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L334-L342) README references to 618 classes from variant system

---

### Dark Mode Not Working

**Symptom**: Dark mode toggle does not change theme, or styles remain in light mode.

**Root Cause Analysis**:

| Issue                         | Symptom              | Solution                                           |
| ----------------------------- | -------------------- | -------------------------------------------------- |
| Missing `ThemeProvider`       | No context available | Wrap app with `<ThemeProvider>`                    |
| Incorrect Tailwind `darkMode` | Classes not applied  | Set `darkMode: 'class'` in config                  |
| Theme not persisting          | Resets on reload     | `ThemeProvider` handles localStorage automatically |
| CSS variables not defined     | Colors undefined     | Import theme CSS or define variables               |

**Solution 1**: Wrap application with `ThemeProvider` [README.md223-233](https://github.com/ui8kit/core/blob/2afe2195/README.md#L223-L233)

```
import { ThemeProvider, modernUITheme } from '@ui8kit/core';

export function App() {
  return (
    <ThemeProvider theme={modernUITheme}>
      <YourApp />
    </ThemeProvider>
  );
}
```

**Solution 2**: Configure Tailwind for class-based dark mode [SUBMODULE\_GUIDE.md342](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L342-L342)

```
// tailwind.config.js
export default {
  darkMode: 'class', // Required for ThemeProvider
  // ...
}
```

**Solution 3**: Use theme toggle correctly [README.md235-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L235-L249)

```
import { useTheme } from '@ui8kit/core';

export function ThemeToggle() {
  const { isDarkMode, toggleDarkMode } = useTheme();
  
  return (
    <Button onClick={toggleDarkMode}>
      {isDarkMode ? '☀️' : '🌙'}
    </Button>
  );
}
```

**Verification**:

```
// Check localStorage after toggle
localStorage.getItem('theme') // Should be 'dark' or 'light'

// Check document class
document.documentElement.classList.contains('dark') // Should toggle
```

**Sources**: [README.md219-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L219-L249) [SUBMODULE\_GUIDE.md342](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L342-L342) [SUBMODULE\_GUIDE.md278-296](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L278-L296)

---

### Custom CSS Variables Not Defined

**Symptom**: Console errors: `CSS variable '--primary' is undefined` or colors appear as `hsl(var(--primary))` in rendered output.

**Root Cause**: Theme CSS variables are not imported. The library uses CSS custom properties for colors. [SUBMODULE\_GUIDE.md452-589](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L452-L589)

**Solution**: Import base CSS with theme variables

```
// In your main entry file (e.g., main.tsx, App.tsx)
import './index.css'; // Must contain theme CSS variable definitions
```

**Example CSS structure** [SUBMODULE\_GUIDE.md458-554](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L458-L554):

```
@layer base {
  :root {
    --background: 0 0% 97.2549%;
    --foreground: 240 3.3333% 11.7647%;
    --primary: 187.4739 173.4032% 31.3580%;
    --primary-foreground: 0 0% 100%;
    /* ... additional variables */
  }
  
  .dark {
    --background: 0 0% 7.0588%;
    --foreground: 0 0% 87.8431%;
    --primary: 189.9661 161.8632% 27.5935%;
    /* ... dark mode overrides */
  }
}
```

**Sources**: [SUBMODULE\_GUIDE.md449-589](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L449-L589)

---

## Component Import/Export Issues

### Named Import Not Found

**Symptom**: `Module '"@ui8kit/core"' has no exported member 'ComponentName'`

**Component Export Reference**:

```
dist/index.js exports

Core Primitives
Box, Block, Grid, Flex, Stack

UI Components
Button, Card, Text, Title, etc.

Layout Components
DashLayout, LayoutBlock, SplitBlock

Theme System
ThemeProvider, useTheme, themes

Hooks
useMediaQuery, useMobile, useViewport

Variant Props
spacingVariants, colorVariants, etc.

dist/index.js
```

**Solution 1**: Verify component name matches exports

```
# List all exports from the package
node -e "console.log(Object.keys(require('./node_modules/@ui8kit/core/dist/index.js')))"
```

**Solution 2**: Check component exists in library [README.md361-387](https://github.com/ui8kit/core/blob/2afe2195/README.md#L361-L387)

Available components:

- **Core Primitives (5)**: `Box`, `Block`, `Grid`, `Flex`, `Stack`
- **UI Components (15)**: `Button`, `Card`, `Text`, `Title`, `Container`, `Icon`, `Image`, `Badge`, `Group`, `Sheet`, `Accordion`
- **Layouts (3)**: `DashLayout`, `LayoutBlock`, `SplitBlock`

**Solution 3**: For compound components, use dot notation

```
// ✅ Correct
import { Card } from '@ui8kit/core';
<Card.Header>...</Card.Header>

// ❌ Incorrect - not exported separately
import { CardHeader } from '@ui8kit/core';
```

**Sources**: [README.md361-387](https://github.com/ui8kit/core/blob/2afe2195/README.md#L361-L387) [package.json31-37](https://github.com/ui8kit/core/blob/2afe2195/package.json#L31-L37)

---

### Compound Component Not Rendering

**Symptom**: `Card.Header` or `Card.Content` components render as plain divs without styling or throw errors.

**Root Cause**: Compound components are attached to parent component, not standalone exports.

**Solution**: Verify compound component usage pattern

```
import { Card } from '@ui8kit/core';

// ✅ Correct usage
function Example() {
  return (
    <Card p="lg">
      <Card.Header>
        <Card.Title>Title</Card.Title>
      </Card.Header>
      <Card.Content>
        Content here
      </Card.Content>
      <Card.Footer>
        Actions
      </Card.Footer>
    </Card>
  );
}

// ❌ Incorrect - using without parent Card
function Broken() {
  return (
    <div>
      <Card.Header>This won't work</Card.Header>
    </div>
  );
}
```

**Sources**: [README.md43-59](https://github.com/ui8kit/core/blob/2afe2195/README.md#L43-L59) [README.md122-145](https://github.com/ui8kit/core/blob/2afe2195/README.md#L122-L145)

---

## Build & Compilation Issues

### Build Script Fails with TypeScript Errors

**Symptom**: Running `npm run build` produces TypeScript compilation errors.

**Build Process Mapping**:

```
Errors

Success

Success

npm run build

tsc -p tsconfig.json

Load: tsconfig.json

Scan: src//*.ts, src//*.tsx

Type checking

Emit: dist/index.js

Emit: dist/index.d.ts

Fix type errors in src/

Build artifacts in dist/
```

**Solution 1**: Run type check separately to diagnose

```
npm run type-check  # Runs: tsc --noEmit
```

**Solution 2**: Check TypeScript configuration [package.json22](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L22)

```
# Verify tsconfig.json exists and is valid
cat tsconfig.json

# Check TypeScript version
npm list typescript
```

**Solution 3**: Clean build artifacts and rebuild

```
rm -rf dist/
npm run build
```

**Sources**: [package.json22-23](https://github.com/ui8kit/core/blob/2afe2195/package.json#L22-L23) README references to build system

---

### CVA Extractor Script Fails

**Symptom**: Running variant extraction fails or core-classes.json is outdated.

**Root Cause**: The `cva-extractor.ts` script parses variant definitions to generate the class whitelist. Script errors indicate parsing failures.

**Solution**: Manual regeneration (requires Bun)

```
# Run extractor script
bun scripts/cva-extractor.ts

# Verify output
cat src/lib/core-classes.json
# Should contain array of ~618 class strings
```

**Note**: The `core-classes.json` file is pre-generated and committed. Regeneration is only needed when adding new variants.

**Sources**: References to cva-extractor in architecture diagrams

---

### ESLint Errors During Build

**Symptom**: Lint errors prevent build or CI from passing.

**Solution 1**: Run linter separately

```
npm run lint         # Check for errors
npm run lint:fix     # Auto-fix issues
```

**Solution 2**: Bypass linting temporarily for build

```
# Not recommended for production
npm run build -- --no-lint
```

**Sources**: [package.json24-25](https://github.com/ui8kit/core/blob/2afe2195/package.json#L24-L25)

---

## Runtime Errors

### Duplicate React Copies in Monorepo

**Symptom**: Error: `Invalid hook call. Hooks can only be called inside the body of a function component.` Multiple React instances detected.

**Root Cause**: Multiple copies of React are loaded when using monorepo/submodule setup. Vite or webpack loads both from app's node\_modules and library's node\_modules. [SUBMODULE\_GUIDE.md247-254](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L247-L254)

**Solution**: Configure bundler to dedupe React [SUBMODULE\_GUIDE.md236-257](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L236-L257)

```
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react-swc';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    preserveSymlinks: true,  // Important for submodules
    dedupe: ['react', 'react-dom'],  // Deduplicate React
    alias: {
      '@ui8kit/core': path.resolve(__dirname, '../../packages/@ui8kit/core/src')
    }
  }
});
```

**Verification**:

```
# Check for duplicate React
npm list react
# Should show single version, not multiple paths
```

**Sources**: [SUBMODULE\_GUIDE.md236-257](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L236-L257)

---

### Cannot Read Property of Undefined in useTheme

**Symptom**: Runtime error: `Cannot read property 'isDarkMode' of undefined` when calling `useTheme()`.

**Root Cause**: `useTheme` hook called outside `ThemeProvider` context.

**Solution**: Ensure `ThemeProvider` wraps component tree [README.md223-233](https://github.com/ui8kit/core/blob/2afe2195/README.md#L223-L233)

```
// ❌ Incorrect - useTheme called outside provider
function App() {
  const { isDarkMode } = useTheme(); // Error!
  return <div>...</div>;
}

// ✅ Correct - provider wraps app
function App() {
  return (
    <ThemeProvider theme={modernUITheme}>
      <AppContent />
    </ThemeProvider>
  );
}

function AppContent() {
  const { isDarkMode } = useTheme(); // Works!
  return <div>...</div>;
}
```

**Sources**: [README.md223-249](https://github.com/ui8kit/core/blob/2afe2195/README.md#L223-L249)

---

### Variant Props Not Applying Styles

**Symptom**: Component renders but variant props like `p="lg"` or `rounded="xl"` do not apply styles.

**Diagnostic Checklist**:

| Check                            | Command/Inspection                 | Expected Result                          |
| -------------------------------- | ---------------------------------- | ---------------------------------------- |
| Props passed correctly           | Inspect React DevTools             | Props visible in component               |
| Tailwind classes generated       | Inspect element classes in browser | Classes like `p-8`, `rounded-xl` present |
| Tailwind config includes library | Check `tailwind.config.js` content | Library paths included                   |
| CSS file loaded                  | Check Network tab                  | CSS file loaded without errors           |
| Classes not purged               | Inspect final CSS                  | Classes present in CSS file              |

**Solution 1**: Verify prop names match variant definitions

```
// ✅ Correct prop names
<Box p="lg" m="md" rounded="xl" />

// ❌ Incorrect prop names
<Box padding="lg" margin="md" borderRadius="xl" />
```

**Solution 2**: Check parent component forwards variant props

```
// Component must extend and spread variant props
interface CustomBoxProps extends 
  React.HTMLAttributes<HTMLDivElement>,
  SpacingVariantsProps {  // Must extend
  // ...
}

export function CustomBox({ p, m, ...props }: CustomBoxProps) {
  return <Box p={p} m={m} {...props} />;  // Must forward
}
```

**Sources**: Architecture diagrams showing variant system, [README.md174-217](https://github.com/ui8kit/core/blob/2afe2195/README.md#L174-L217)

---

## Monorepo Integration Issues

### Workspace Package Not Resolving

**Symptom**: In monorepo, imports fail with `Cannot find module '@ui8kit/core'` despite submodule being present.

**Monorepo Resolution Flow**:

```
```

**Solution 1**: Verify workspace configuration [SUBMODULE\_GUIDE.md56-60](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L56-L60)

```
// Root package.json
{
  "workspaces": [
    "apps/*",
    "packages/*",
    "packages/@ui8kit/*"  // Must include scoped packages
  ]
}
```

**Solution 2**: Check submodule is initialized [SUBMODULE\_GUIDE.md139-144](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L139-L144)

```
git submodule status
# Should show commit hash and path, not "-" prefix

git submodule update --init --recursive
```

**Solution 3**: Verify package.json dependency [SUBMODULE\_GUIDE.md167](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L167-L167)

```
// apps/web/package.json
{
  "dependencies": {
    "@ui8kit/core": "workspace:*"  // Use workspace protocol
  }
}
```

**Solution 4**: Reinstall dependencies

```
rm -rf node_modules
bun install  # or npm install
```

**Sources**: [SUBMODULE\_GUIDE.md46-74](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L46-L74) [SUBMODULE\_GUIDE.md139-149](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L139-L149)

---

### Submodule Commit Detached HEAD Warning

**Symptom**: Git warns about detached HEAD state when working in submodule directory.

**Root Cause**: Submodules track specific commits, not branches. Parent repo records exact commit hash. [SUBMODULE\_GUIDE.md684](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L684-L684)

**Solution 1**: Update submodule to latest from main branch [SUBMODULE\_GUIDE.md627-637](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L627-L637)

```
cd packages/@ui8kit/core
git fetch
git checkout main
git pull --ff-only
cd ../../..

# Commit the updated submodule pointer
git add packages/@ui8kit/core
git commit -m "chore: update @ui8kit/core submodule"
```

**Solution 2**: For development, create a branch in submodule

```
cd packages/@ui8kit/core
git checkout -b feature/my-changes
# Make changes, commit
cd ../../..
```

**Prevention**: Document submodule workflow in team documentation. [SUBMODULE\_GUIDE.md681-691](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L681-L691)

**Sources**: [SUBMODULE\_GUIDE.md625-651](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L625-L651) [SUBMODULE\_GUIDE.md681-691](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L681-L691)

---

## Performance Issues

### Large Bundle Size

**Symptom**: Production bundle includes unnecessary code or is larger than expected.

**Bundle Size Breakdown**:

| Component Group     | Approx Size | Optimization                      |
| ------------------- | ----------- | --------------------------------- |
| Core primitives (5) | \~5KB       | Tree-shakeable                    |
| UI components (15)  | \~25KB      | Import only needed                |
| Layouts (3)         | \~8KB       | Typically not needed in libraries |
| Theme system        | \~2KB       | Required if using themes          |
| Dependencies        | Variable    | Check peer vs bundled             |

**Solution 1**: Import only needed components

```
// ❌ Barrel import (imports everything)
import * as UI8Kit from '@ui8kit/core';

// ✅ Named imports (tree-shakeable)
import { Button, Card, Text } from '@ui8kit/core';
```

**Solution 2**: Analyze bundle composition

```
# For Vite
npm run build -- --mode production
npx vite-bundle-analyzer

# For Next.js
npm install @next/bundle-analyzer
```

**Solution 3**: Use per-component installation for micro-bundles [README.md260-265](https://github.com/ui8kit/core/blob/2afe2195/README.md#L260-L265)

```
npx buildy-ui add button card
# Installs only specified components
```

**Sources**: [README.md260-265](https://github.com/ui8kit/core/blob/2afe2195/README.md#L260-L265) [package.json30](https://github.com/ui8kit/core/blob/2afe2195/package.json#L30-L30)

---

### Slow Development Server

**Symptom**: Vite/webpack dev server slow to start or hot reload takes several seconds.

**Solution 1**: Optimize Vite configuration for monorepo [SUBMODULE\_GUIDE.md247-249](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L247-L249)

```
// vite.config.ts
export default defineConfig({
  resolve: {
    preserveSymlinks: true,  // Faster for symlinked packages
  },
  optimizeDeps: {
    include: ['react', 'react-dom'],  // Pre-bundle dependencies
  }
});
```

**Solution 2**: Exclude unnecessary paths from Tailwind content scanning

```
// tailwind.config.js
export default {
  content: [
    "./src/**/*.{ts,tsx}",  // Only app source
    "../../packages/@ui8kit/core/src/**/*.{ts,tsx}"  // Only library source
    // Don't include: node_modules, dist, build, etc.
  ]
}
```

**Sources**: [SUBMODULE\_GUIDE.md236-257](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L236-L257)

---

## FAQ

### Q: Can I use this library without Tailwind CSS?

**A**: No. The library is tightly coupled to Tailwind CSS through the CVA variant system. The 618 generated utility classes are Tailwind classes. However, you can customize the Tailwind configuration to match your design system.

**Sources**: Architecture diagrams showing CVA-Tailwind integration

---

### Q: How do I customize component styles?

**A**: Three approaches:

1. **Extend with variants**: Add custom CVA variants to components
2. **Compose with primitives**: Build custom components using `Box`, `Block`, etc.
3. **Override with className**: Pass custom Tailwind classes via `className` prop (merged with tw-merge)

Example:

```
import { Button } from '@ui8kit/core';
import { cva } from 'class-variance-authority';

// Approach 1: Custom variants
const customButton = cva('', {
  variants: {
    gradient: {
      true: 'bg-gradient-to-r from-blue-500 to-purple-500'
    }
  }
});

// Approach 3: className override
<Button className="hover:scale-105 transition-transform">
  Custom Button
</Button>
```

**Sources**: [README.md278-304](https://github.com/ui8kit/core/blob/2afe2195/README.md#L278-L304)

---

### Q: Why am I getting "className is not a valid prop" warnings?

**A**: If passing complex className strings with template literals or conditionals, ensure proper string concatenation:

```
// ❌ May cause warnings
<Box className={`${baseClass} ${isActive && 'active'}`} />

// ✅ Use clsx or proper concatenation
import { clsx } from 'clsx';
<Box className={clsx(baseClass, isActive && 'active')} />
```

---

### Q: How do I contribute new components?

**A**: For contribution workflow, see [Development Guide](#5). Key steps:

1. Create component in appropriate layer (`src/core/ui/`, `src/components/ui/`, or `src/layouts/`)
2. Extend variant props from variant system
3. Add to registry.json
4. Update exports in index files
5. Run `npm run build` and `npm run scan`

---

### Q: Can I use this in Next.js app router?

**A**: Yes, but mark client components:

```
'use client';

import { Button, Card } from '@ui8kit/core';
```

Theme provider should also be a client component.

---

### Q: How do I debug which React version is loaded?

**A**: Use this snippet in your component:

```
import React from 'react';

console.log('React version:', React.version);
console.log('React module path:', require.resolve('react'));

// In browser DevTools:
// Should show single version and path
```

For Vite, check `vite.config.ts` includes `dedupe: ['react', 'react-dom']` [SUBMODULE\_GUIDE.md249](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L249-L249)

**Sources**: [SUBMODULE\_GUIDE.md247-254](https://github.com/ui8kit/core/blob/2afe2195/SUBMODULE_GUIDE.md#L247-L254)

---

## Getting Additional Help

If issues persist after trying solutions in this guide:

1. **Check GitHub Issues**: <https://github.com/ui8kit/core/issues>
2. **Review Architecture**: See [Architecture](#3) for system understanding
3. **Consult API Reference**: See [API Reference](#4) for component details
4. **Verify Configuration**: See [TypeScript Configuration](#3.8) and [Build System](#3.6)

For build system issues, see [Build System](#3.6). For component usage patterns, see [Basic Workflow](#5.1) and [Best Practices](#5.3).

**Sources**: [package.json44-47](https://github.com/ui8kit/core/blob/2afe2195/package.json#L44-L47) [README.md404-411](https://github.com/ui8kit/core/blob/2afe2195/README.md#L404-L411)

# ================================================================================

